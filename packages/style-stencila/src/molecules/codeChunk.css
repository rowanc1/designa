@import '../atoms/code.css';
@import '../atoms/pre.css';

.preReset {
  @apply border-0 m-0 p-0;
}

.customPre {
  @apply border border-solid border-neutral-300 rounded p-2 m-2;
}

:host,
stencila-code-chunk {
  @apply block relative w-full my-4 border border-solid border-neutral-300 rounded;

  stencila-action-menu {
    @apply opacity-0;
    transition: opacity 120ms ease-out;
  }

  &:hover {
    stencila-action-menu {
      @apply opacity-100;
    }
  }
}

::slotted([slot='output']) pre,
.codeContainer::slotted(pre) {
  @apply preReset;
}

.codeContainer {
  @apply customPre bg-neutral-100 m-0 rounded-none border-b border-l-0 border-r-0 border-t-0;

  &.hidden {
    @apply hidden;
  }
}

::slotted([slot='output']) {
  @apply m-0 p-2;

  pre {
    @apply customPre preReset;
  }

  & * + *:not(figcaption) {
    @apply my-3 pt-3 border-t border-neutral-300;

    &:last-child {
      @apply mb-0;
    }
  }
}

@screen lg {
  :host,
  stencila-code-chunk {
    @apply flex flex-row w-full items-stretch;
  }

  .codeContainer {
    @apply w-1/2 border-l border-b-0;
  }

  ::slotted([slot='output']) {
    @apply w-1/2 flex-grow order-first;
  }
}
