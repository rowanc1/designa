System.register(["./p-3c51b445.system.js","./p-1ba9f457.system.js"],(function(e){"use strict";var t,n,o,i;return{setters:[function(e){t=e.r;n=e.h},function(e){o=e.c;i=e.a}],execute:function(){var l={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:false,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:true,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:false,onClick:function(e){},orderedList:true,scrollContainer:null,skipRendering:false,headingLabelCallback:false,ignoreHiddenElements:false,headingObjectCallback:null,basePath:"",disableTocScrollSync:false};var r=function(e){var t=[].forEach;var n=[].some;var o=document.body;var i=true;var l=" ";function r(e,t){var n=t.appendChild(s(e));if(e.children.length){var o=c(e.isCollapsed);e.children.forEach((function(e){r(e,o)}));n.appendChild(o)}}function a(e,t){var n=false;var o=c(n);t.forEach((function(e){r(e,o)}));var i=document.querySelector(e);if(i===null){return}if(i.firstChild){i.removeChild(i.firstChild)}if(t.length===0){return i}return i.appendChild(o)}function s(n){var o=document.createElement("li");var i=document.createElement("a");if(e.listItemClass){o.setAttribute("class",e.listItemClass)}if(e.onClick){i.onclick=e.onClick}if(e.includeHtml&&n.childNodes.length){t.call(n.childNodes,(function(e){i.appendChild(e.cloneNode(true))}))}else{i.textContent=n.textContent}i.setAttribute("href",e.basePath+"#"+n.id);i.setAttribute("class",e.linkClass+l+"node-name--"+n.nodeName+l+e.extraLinkClasses);o.appendChild(i);return o}function c(t){var n=e.orderedList?"ol":"ul";var o=document.createElement(n);var i=e.listClass+l+e.extraListClasses;if(t){i+=l+e.collapsibleClass;i+=l+e.isCollapsedClass}o.setAttribute("class",i);return o}function f(){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var t;t=document.querySelector(e.scrollContainer).scrollTop}else{t=document.documentElement.scrollTop||o.scrollTop}var n=document.querySelector(e.positionFixedSelector);if(e.fixedSidebarOffset==="auto"){e.fixedSidebarOffset=document.querySelector(e.tocSelector).offsetTop}if(t>e.fixedSidebarOffset){if(n.className.indexOf(e.positionFixedClass)===-1){n.className+=l+e.positionFixedClass}}else{n.className=n.className.split(l+e.positionFixedClass).join("")}}function d(t){var n=0;if(t!==document.querySelector(e.contentSelector&&t!=null)){n=t.offsetTop;if(e.hasInnerContainers){n+=d(t.offsetParent)}}return n}function u(r){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var a;a=document.querySelector(e.scrollContainer).scrollTop}else{a=document.documentElement.scrollTop||o.scrollTop}if(e.positionFixedSelector){f()}var s=r;var c;if(i&&document.querySelector(e.tocSelector)!==null&&s.length>0){n.call(s,(function(t,n){if(d(t)>a+e.headingsOffset+10){var o=n===0?n:n-1;c=s[o];return true}else if(n===s.length-1){c=s[s.length-1];return true}}));var u=document.querySelector(e.tocSelector).querySelectorAll("."+e.linkClass);t.call(u,(function(t){t.className=t.className.split(l+e.activeLinkClass).join("")}));var h=document.querySelector(e.tocSelector).querySelectorAll("."+e.listItemClass);t.call(h,(function(t){t.className=t.className.split(l+e.activeListItemClass).join("")}));var v=document.querySelector(e.tocSelector).querySelector("."+e.linkClass+".node-name--"+c.nodeName+'[href="'+e.basePath+"#"+c.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]');if(v.className.indexOf(e.activeLinkClass)===-1){v.className+=l+e.activeLinkClass}var p=v.parentNode;if(p&&p.className.indexOf(e.activeListItemClass)===-1){p.className+=l+e.activeListItemClass}var g=document.querySelector(e.tocSelector).querySelectorAll("."+e.listClass+"."+e.collapsibleClass);t.call(g,(function(t){if(t.className.indexOf(e.isCollapsedClass)===-1){t.className+=l+e.isCollapsedClass}}));if(v.nextSibling&&v.nextSibling.className.indexOf(e.isCollapsedClass)!==-1){v.nextSibling.className=v.nextSibling.className.split(l+e.isCollapsedClass).join("")}m(v.parentNode.parentNode)}}function m(t){if(t.className.indexOf(e.collapsibleClass)!==-1&&t.className.indexOf(e.isCollapsedClass)!==-1){t.className=t.className.split(l+e.isCollapsedClass).join("");return m(t.parentNode.parentNode)}return t}function h(t){var n=t.target||t.srcElement;if(typeof n.className!=="string"||n.className.indexOf(e.linkClass)===-1){return}i=false}function v(){i=true}return{enableTocAnimation:v,disableTocAnimation:h,render:a,updateToc:u}};var a=function e(t){var n=[].reduce;function o(e){return e[e.length-1]}function i(e){return+e.nodeName.split("H").join("")}function l(e){if(!(e instanceof window.HTMLElement))return e;if(t.ignoreHiddenElements&&(!e.offsetHeight||!e.offsetParent)){return null}var n={id:e.id,children:[],nodeName:e.nodeName,headingLevel:i(e),textContent:t.headingLabelCallback?String(t.headingLabelCallback(e.textContent)):e.textContent.trim()};if(t.includeHtml){n.childNodes=e.childNodes}if(t.headingObjectCallback){return t.headingObjectCallback(n,e)}return n}function r(e,n){var i=l(e);var r=i.headingLevel;var a=n;var s=o(a);var c=s?s.headingLevel:0;var f=r-c;while(f>0){s=o(a);if(s&&s.children!==undefined){a=s.children}f--}if(r>=t.collapseDepth){i.isCollapsed=true}a.push(i);return a}function a(e,n){var o=n;if(t.ignoreSelector){o=n.split(",").map((function e(n){return n.trim()+":not("+t.ignoreSelector+")"}))}try{return document.querySelector(e).querySelectorAll(o)}catch(i){console.warn("Element not found: "+e);return null}}function s(e){return n.call(e,(function e(t,n){var o=l(n);if(o){r(o,t.nest)}return t}),{nest:[]})}return{nestHeadingsArray:s,selectHeadings:a}};var s=function e(t){var n=document.querySelector(t.tocSelector);if(n&&n.scrollHeight>n.clientHeight){var o=n.querySelector("."+t.activeListItemClass);if(o){n.scrollTop=o.offsetTop}}};var c=f;function f(e){var t=e.duration;var n=e.offset;var o=location.hash?r(location.href):location.href;i();function i(){document.body.addEventListener("click",o,false);function o(o){if(!l(o.target)||o.target.className.indexOf("no-smooth-scroll")>-1||o.target.href.charAt(o.target.href.length-2)==="#"&&o.target.href.charAt(o.target.href.length-1)==="!"||o.target.className.indexOf(e.linkClass)===-1){return}d(o.target.hash,{duration:t,offset:n,callback:function(){a(o.target.hash)}})}}function l(e){return e.tagName.toLowerCase()==="a"&&(e.hash.length>0||e.href.charAt(e.href.length-1)==="#")&&(r(e.href)===o||r(e.href)+"#"===o)}function r(e){return e.slice(0,e.lastIndexOf("#"))}function a(e){var t=document.getElementById(e.substring(1));if(t){if(!/^(?:a|select|input|button|textarea)$/i.test(t.tagName)){t.tabIndex=-1}t.focus()}}}function d(e,t){var n=window.pageYOffset;var o={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||d};var i=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]');var l=typeof e==="string"?o.offset+(e?i&&i.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e;var r=typeof o.duration==="function"?o.duration(l):o.duration;var a;var s;requestAnimationFrame((function(e){a=e;c(e)}));function c(e){s=e-a;window.scrollTo(0,o.easing(s,n,l,r));if(s<r){requestAnimationFrame(c)}else{f()}}function f(){window.scrollTo(0,n+l);if(typeof o.callback==="function"){o.callback()}}function d(e,t,n,o){e/=o/2;if(e<1)return n/2*e*e+t;e--;return-n/2*(e*(e-2)-1)+t}}var u={initSmoothScrolling:c};var m=o((function(e,t){(function(t,n){{e.exports=n(t)}})(typeof i!=="undefined"?i:i.window||i.global,(function(e){var t=l;var n={};var o={};var i=r;var c=a;var f=s;var d;var m;var h=!!e&&!!e.document&&!!e.document.querySelector&&!!e.addEventListener;if(typeof window==="undefined"&&!h){return}var v;var p=Object.prototype.hasOwnProperty;function g(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n){if(p.call(n,o)){e[o]=n[o]}}}return e}function C(e,t,n){t||(t=250);var o;var i;return function(){var l=n||this;var r=+new Date;var a=arguments;if(o&&r<o+t){clearTimeout(i);i=setTimeout((function(){o=r;e.apply(l,a)}),t)}else{o=r;e.apply(l,a)}}}o.destroy=function(){if(!n.skipRendering){try{document.querySelector(n.tocSelector).innerHTML=""}catch(e){console.warn("Element not found: "+n.tocSelector)}}if(n.scrollContainer&&document.querySelector(n.scrollContainer)){document.querySelector(n.scrollContainer).removeEventListener("scroll",this._scrollListener,false);document.querySelector(n.scrollContainer).removeEventListener("resize",this._scrollListener,false);if(d){document.querySelector(n.scrollContainer).removeEventListener("click",this._clickListener,false)}}else{document.removeEventListener("scroll",this._scrollListener,false);document.removeEventListener("resize",this._scrollListener,false);if(d){document.removeEventListener("click",this._clickListener,false)}}};o.init=function(e){if(!h){return}n=g(t,e||{});this.options=n;this.state={};if(n.scrollSmooth){n.duration=n.scrollSmoothDuration;n.offset=n.scrollSmoothOffset;o.scrollSmooth=u.initSmoothScrolling(n)}d=i(n);m=c(n);this._buildHtml=d;this._parseContent=m;o.destroy();v=m.selectHeadings(n.contentSelector,n.headingSelector);if(v===null){return}var l=m.nestHeadingsArray(v);var r=l.nest;if(!n.skipRendering){d.render(n.tocSelector,r)}this._scrollListener=C((function(e){d.updateToc(v);!n.disableTocScrollSync&&f(n);var t=e&&e.target&&e.target.scrollingElement&&e.target.scrollingElement.scrollTop===0;if(e&&(e.eventPhase===0||e.currentTarget===null)||t){d.updateToc(v);if(n.scrollEndCallback){n.scrollEndCallback(e)}}}),n.throttleTimeout);this._scrollListener();if(n.scrollContainer&&document.querySelector(n.scrollContainer)){document.querySelector(n.scrollContainer).addEventListener("scroll",this._scrollListener,false);document.querySelector(n.scrollContainer).addEventListener("resize",this._scrollListener,false)}else{document.addEventListener("scroll",this._scrollListener,false);document.addEventListener("resize",this._scrollListener,false)}var a=null;this._clickListener=C((function(e){if(n.scrollSmooth){d.disableTocAnimation(e)}d.updateToc(v);a&&clearTimeout(a);a=setTimeout((function(){d.enableTocAnimation()}),n.scrollSmoothDuration)}),n.throttleTimeout);if(n.scrollContainer&&document.querySelector(n.scrollContainer)){document.querySelector(n.scrollContainer).addEventListener("click",this._clickListener,false)}else{document.addEventListener("click",this._clickListener,false)}return this};o.refresh=function(e){o.destroy();o.init(e||this.options)};e.tocbot=o;return o}))}));var h='a{font-family:sans-serif;font-family:var(--font-family-body,sans-serif);font-size:1rem;text-decoration:none;color:#000;color:var(--color-key,#000)}.toc{overflow-y:auto}.toc>.toc-list{overflow:hidden;position:relative}.toc>.toc-list li{list-style-type:none;line-height:1.625}.toc-list{margin:0;padding-left:.5rem}a.toc-link{height:100%;color:currentColor;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}a.toc-link:not(.is-active-link):hover{padding-left:.5rem}.is-collapsible{overflow:hidden;max-height:1000px;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.is-collapsed{max-height:0}.is-position-fixed{top:0;padding-top:1rem;position:fixed;position:fixed!important}.is-active-link{font-weight:700}.toc-link:before{position:absolute;background-color:#f7fafc;background-color:var(--color-neutral-100,#f7fafc);display:inline-block;left:0;width:.25rem;margin-top:-1px;content:" ";height:inherit}.is-active-link:before{background-color:#4299e1;background-color:var(--color-primary-500,#4299e1)}';var v='a{font-family:sans-serif;font-family:var(--font-family-body,sans-serif);font-size:1rem;text-decoration:none;color:#000;color:var(--color-key,#000)}.toc{overflow-y:auto}.toc>.toc-list{overflow:hidden;position:relative}.toc>.toc-list li{list-style-type:none;line-height:1.625}.toc-list{margin:0;padding-left:.5rem}a.toc-link{height:100%;color:currentColor;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}a.toc-link:not(.is-active-link):hover{padding-left:.5rem}.is-collapsible{overflow:hidden;max-height:1000px;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.is-collapsed{max-height:0}.is-position-fixed{top:0;padding-top:1rem;position:fixed;position:fixed!important}.is-active-link{font-weight:700}.toc-link:before{position:absolute;background-color:#f7fafc;background-color:var(--color-neutral-100,#f7fafc);display:inline-block;left:0;width:.25rem;margin-top:-1px;content:" ";height:inherit}.is-active-link:before{background-color:#4299e1;background-color:var(--color-primary-500,#4299e1)}';var p=e("stencila_toc",function(){function e(e){var n=this;t(this,e);this.contentSelector="article";this.headingSelector="h1, h2, h3, h4";this.initTOC=function(){m.init({tocSelector:".toc",positionFixedSelector:".toc",contentSelector:n.contentSelector,headingSelector:n.headingSelector})}}e.prototype.componentDidLoad=function(){if(document.readyState==="interactive"||document.readyState==="complete"&&document.querySelector(this.contentSelector)){this.initTOC()}else{document.addEventListener("DOMContentLoaded",this.initTOC)}};e.prototype.disconnectedCallback=function(){document.removeEventListener("DOMContentLoaded",this.initTOC)};e.prototype.render=function(){return n("nav",{class:"toc"})};return e}());p.elementName="stencila-toc";p.style={default:h,material:v}}}}));