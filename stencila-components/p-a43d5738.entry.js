import{r as t,h as i,a as e,H as r}from"./p-717250b8.js";import{c as n,a as s}from"./p-7d5dbd9a.js";import{z as o,U as l,N as a}from"./p-34b40baa.js";import{_ as h}from"./p-1f8fb40c.js";const c=class{constructor(i){t(this,i),this.expandable=!1,this.isCollapsed=!1,this.toggleActionMenu=()=>this.isCollapsed=!this.isCollapsed,this.width="auto",this.isAnimating=!1,this.isTransitioning=!1,this.calculateWidth=()=>{if(null!==this.actionContainerRef&&!1===this.isTransitioning){this.width="auto";const t=this.actionContainerRef.getBoundingClientRect().width;this.width=t+"px"}},this.observer=new window.MutationObserver(this.calculateWidth),this.checkForSecondaryActions=()=>{var t;const i=""===(null===(t=this.el.querySelector(".secondaryActions .actionContainer"))||void 0===t?void 0:t.innerHTML.trim());return this.hasSecondaryActions=i,i}}componentDidLoad(){this.checkForSecondaryActions(),this.expandable&&(this.actionContainerRef=this.el.querySelector(".actionContainer"),null!==this.actionContainerRef&&(this.actionContainerRef.addEventListener("transitionstart",(()=>this.isTransitioning=!0)),this.actionContainerRef.addEventListener("transitionend",(()=>this.isTransitioning=!1)),this.observer.observe(this.el,{characterData:!0,subtree:!0}),this.calculateWidth(),this.isCollapsed=!0))}disconnectedCallback(){this.observer.disconnect()}render(){return i("nav",null,i("span",{class:{secondaryActions:!0,hidden:this.hasSecondaryActions}},i("span",{class:{actionContainer:!0,isAnimating:this.isAnimating,isCollapsed:this.isCollapsed},style:{"--max-width":this.width}},i("slot",null)),i("stencila-button",{onClick:this.toggleActionMenu,icon:"more",color:"key",minimal:!0,size:"xsmall",iconOnly:!0,ariaLabel:"Toggle Action Menu"})),i("span",{class:"persistentActions"},i("slot",{name:"persistentActions"})))}get el(){return e(this)}};c.style={default:".sc-stencila-action-menu-default-h{--background:var(--color-neutral-200,#edf2f7);--border:var(--color-neutral-300,#e2e8f0);position:absolute;top:0;right:0;z-index:10;padding:1px .25rem;font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.75rem;line-height:1;border-width:0 0 1px 1px;border-style:solid;border-bottom-left-radius:.25rem;background-color:var(--background);border-color:var(--border)}.sc-stencila-action-menu-default-h .hidden.sc-stencila-action-menu-default{display:none}.sc-stencila-action-menu-default-h nav.sc-stencila-action-menu-default>*.sc-stencila-action-menu-default{vertical-align:middle}.sc-stencila-action-menu-default-h ul.sc-stencila-action-menu-default{padding:0;margin:0;list-style-type:none}.sc-stencila-action-menu-default-h li.sc-stencila-action-menu-default{display:inline;padding-right:.25rem}.sc-stencila-action-menu-default-h li.sc-stencila-action-menu-default:last-child{padding-right:0}.sc-stencila-action-menu-default-h stencila-button.sc-stencila-action-menu-default{display:inline-block}.sc-stencila-action-menu-default-h .actionContainer.sc-stencila-action-menu-default{display:inline-block;overflow:hidden;white-space:nowrap;vertical-align:middle;width:var(--max-width);-webkit-transition:width .12s ease-in-out;transition:width .12s ease-in-out}.sc-stencila-action-menu-default-h .actionContainer.sc-stencila-action-menu-default:not(.isAnimating):not(.isCollapsed){width:auto}.sc-stencila-action-menu-default-h .secondaryActions.sc-stencila-action-menu-default:not(:hover):not(:focus) .actionContainer.isCollapsed.sc-stencila-action-menu-default{width:0}",material:".sc-stencila-action-menu-material-h{--background:var(--color-neutral-200,#edf2f7);--border:var(--color-neutral-300,#e2e8f0);position:absolute;top:0;right:0;z-index:10;padding:1px .25rem;font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.75rem;line-height:1;border-width:0 0 1px 1px;border-style:solid;border-bottom-left-radius:.25rem;background-color:var(--background);border-color:var(--border)}.sc-stencila-action-menu-material-h .hidden.sc-stencila-action-menu-material{display:none}.sc-stencila-action-menu-material-h nav.sc-stencila-action-menu-material>*.sc-stencila-action-menu-material{vertical-align:middle}.sc-stencila-action-menu-material-h ul.sc-stencila-action-menu-material{padding:0;margin:0;list-style-type:none}.sc-stencila-action-menu-material-h li.sc-stencila-action-menu-material{display:inline;padding-right:.25rem}.sc-stencila-action-menu-material-h li.sc-stencila-action-menu-material:last-child{padding-right:0}.sc-stencila-action-menu-material-h stencila-button.sc-stencila-action-menu-material{display:inline-block}.sc-stencila-action-menu-material-h .actionContainer.sc-stencila-action-menu-material{display:inline-block;overflow:hidden;white-space:nowrap;vertical-align:middle;width:var(--max-width);-webkit-transition:width .12s ease-in-out;transition:width .12s ease-in-out}.sc-stencila-action-menu-material-h .actionContainer.sc-stencila-action-menu-material:not(.isAnimating):not(.isCollapsed){width:auto}.sc-stencila-action-menu-material-h .secondaryActions.sc-stencila-action-menu-material:not(:hover):not(:focus) .actionContainer.isCollapsed.sc-stencila-action-menu-material{width:0}"};const u=class{constructor(i){t(this,i),this.open=!1,this.kind="warning"}render(){return i(r,{kind:this.kind},i("div",{class:"overview"},i("stencila-icon",{icon:"alert"}),i("slot",null)),this.hasStacktrace&&i("stencila-details",null,i("span",{slot:"summary"},"View the stacktrace"),i("slot",{name:"stacktrace"})))}};u.style={default:".sc-stencila-code-error-default-h,stencila-code-error.sc-stencila-code-error-default{position:relative;display:block;width:100%;padding:.5rem;border-radius:.25rem;font-family:sans-serif;font-family:var(--font-family-body,sans-serif);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);background-color:#fffaf0;background-color:var(--color-warn-100,#fffaf0);color:#7b341e;color:var(--color-warn-900,#7b341e)}.sc-stencila-code-error-default-h .overview.sc-stencila-code-error-default *.sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default .overview.sc-stencila-code-error-default *.sc-stencila-code-error-default{vertical-align:middle}.sc-stencila-code-error-default-h .overview.sc-stencila-code-error-default stencila-icon.sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default .overview.sc-stencila-code-error-default stencila-icon.sc-stencila-code-error-default{margin-right:.5rem}.sc-stencila-code-error-default-h [slot=summary].sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default [slot=summary].sc-stencila-code-error-default{font-size:.75rem;letter-spacing:.05em;text-transform:uppercase}.sc-stencila-code-error-default-h stencila-details.sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default stencila-details.sc-stencila-code-error-default{display:block}.sc-stencila-code-error-default-h [slot=stacktrace].sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default [slot=stacktrace].sc-stencila-code-error-default{margin:0;background-color:#fff;background-color:var(--color-stock,#fff);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);color:#000;color:var(--color-key,#000)}[kind=error].sc-stencila-code-error-default-h,[kind=incapable].sc-stencila-code-error-default-h,stencila-code-error[kind=error].sc-stencila-code-error-default,stencila-code-error[kind=incapable].sc-stencila-code-error-default{border-color:#f56565;border-color:var(--color-danger-500,#f56565);background-color:#fff5f5;background-color:var(--color-danger-100,#fff5f5);color:#742a2a;color:var(--color-danger-900,#742a2a)}[kind=error].sc-stencila-code-error-default-h [slot=stacktrace].sc-stencila-code-error-default,[kind=incapable].sc-stencila-code-error-default-h [slot=stacktrace].sc-stencila-code-error-default,stencila-code-error[kind=error].sc-stencila-code-error-default [slot=stacktrace].sc-stencila-code-error-default,stencila-code-error[kind=incapable].sc-stencila-code-error-default [slot=stacktrace].sc-stencila-code-error-default{border-color:#f56565;border-color:var(--color-danger-500,#f56565)}",material:".sc-stencila-code-error-material-h,stencila-code-error.sc-stencila-code-error-material{position:relative;display:block;width:100%;padding:.5rem;border-radius:.25rem;font-family:sans-serif;font-family:var(--font-family-body,sans-serif);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);background-color:#fffaf0;background-color:var(--color-warn-100,#fffaf0);color:#7b341e;color:var(--color-warn-900,#7b341e)}.sc-stencila-code-error-material-h .overview.sc-stencila-code-error-material *.sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material .overview.sc-stencila-code-error-material *.sc-stencila-code-error-material{vertical-align:middle}.sc-stencila-code-error-material-h .overview.sc-stencila-code-error-material stencila-icon.sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material .overview.sc-stencila-code-error-material stencila-icon.sc-stencila-code-error-material{margin-right:.5rem}.sc-stencila-code-error-material-h [slot=summary].sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material [slot=summary].sc-stencila-code-error-material{font-size:.75rem;letter-spacing:.05em;text-transform:uppercase}.sc-stencila-code-error-material-h stencila-details.sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material stencila-details.sc-stencila-code-error-material{display:block}.sc-stencila-code-error-material-h [slot=stacktrace].sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material [slot=stacktrace].sc-stencila-code-error-material{margin:0;background-color:#fff;background-color:var(--color-stock,#fff);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);color:#000;color:var(--color-key,#000)}[kind=error].sc-stencila-code-error-material-h,[kind=incapable].sc-stencila-code-error-material-h,stencila-code-error[kind=error].sc-stencila-code-error-material,stencila-code-error[kind=incapable].sc-stencila-code-error-material{border-color:#f56565;border-color:var(--color-danger-500,#f56565);background-color:#fff5f5;background-color:var(--color-danger-100,#fff5f5);color:#742a2a;color:var(--color-danger-900,#742a2a)}[kind=error].sc-stencila-code-error-material-h [slot=stacktrace].sc-stencila-code-error-material,[kind=incapable].sc-stencila-code-error-material-h [slot=stacktrace].sc-stencila-code-error-material,stencila-code-error[kind=error].sc-stencila-code-error-material [slot=stacktrace].sc-stencila-code-error-material,stencila-code-error[kind=incapable].sc-stencila-code-error-material [slot=stacktrace].sc-stencila-code-error-material{border-color:#f56565;border-color:var(--color-danger-500,#f56565)}"};let f="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let Th=1;Th<f.length;Th++)f[Th]+=f[Th-1];function d(t){for(let i=1;i<f.length;i+=2)if(f[i]>t)return f[i-1]<=t;return!1}function O(t){return t>=127462&&t<=127487}function m(t,i){if(i==t.length)return i;i&&g(t.charCodeAt(i))&&v(t.charCodeAt(i-1))&&i--;let e=w(t,i);for(i+=b(e);i<t.length;){let r=w(t,i);if(8205==e||8205==r||d(r))i+=b(r),e=r;else{if(!O(r))break;{let e=0,r=i-2;for(;r>=0&&O(w(t,r));)e++,r-=2;if(e%2==0)break;i+=2}}}return i}function p(t,i){for(;i>0;){let e=m(t,i-2);if(e<i)return e;i--}return 0}function g(t){return t>=56320&&t<57344}function v(t){return t>=55296&&t<56320}function w(t,i){let e=t.charCodeAt(i);if(!v(e)||i+1==t.length)return e;let r=t.charCodeAt(i+1);return g(r)?r-56320+(e-55296<<10)+65536:e}function Q(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function b(t){return t<65536?1:2}function $(t,i,e){for(let r=0;r<t.length;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=m(t,r));return i}function S(t,i,e,r){for(let n=0;n<t.length;){if(i>=e)return{offset:n,leftOver:0};i+=9==t.charCodeAt(n)?r-i%r:1,n=m(t,n)}return{offset:t.length,leftOver:e-i}}class y{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);for(let i of x)if(i.doc==this&&i.from<=t&&i.to>=t)return i;return L(this.lineInner(t,!1,1,0).finish(this))}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);for(let i of x)if(i.doc==this&&i.number==t)return i;return L(this.lineInner(t,!0,1,0).finish(this))}replace(t,i,e){let r=[];return this.decompose(0,t,r),r.push(e),this.decompose(i,this.length,r),X.from(r,this.length-(i-t)+e.length)}append(t){return 0==this.length?t:0==t.length?this:X.from([this,t],this.length+t.length)}slice(t,i=this.length){let e=[];return this.decompose(t,i,e),X.from(e,i-t)}eq(t){return this==t||function(t,i){if(t.length!=i.length||t.lines!=i.lines)return!1;let e=new j(t),r=new j(i);for(let n=0,s=0;;){if(e.lineBreak!=r.lineBreak||e.done!=r.done)return!1;if(e.done)return!0;if(e.lineBreak)e.next(),r.next(),n=s=0;else{let t=e.value.slice(n),i=r.value.slice(s);if(t.length==i.length){if(t!=i)return!1;e.next(),r.next(),n=s=0}else if(t.length>i.length){if(t.slice(0,i.length)!=i)return!1;n+=i.length,r.next(),s=0}else{if(i.slice(0,t.length)!=t)return!1;s+=t.length,e.next(),n=0}}}}(this,t)}iter(t=1){return new j(this,t)}iterRange(t,i=this.length){return new M(this,t,i)}iterLines(t=0){return new T(this,t)}toString(){return this.sliceString(0)}toJSON(){let t=[];for(let i=this.iterLines();!i.next().done;)t.push(i.value);return t}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");if(1==t.length&&!t[0]&&y.empty)return y.empty;let i=R(t);return i<1024?new P(t,i):X.from(P.split(t,[]),i)}}"undefined"!=typeof Symbol&&(y.prototype[Symbol.iterator]=function(){return this.iter()});let x=[],k=-1;function L(t){return x[k=(k+1)%10]=t}class P extends y{constructor(t,i=R(t)){super(),this.text=t,this.length=i}get lines(){return this.text.length}get children(){return null}lineInner(t,i,e,r){for(let n=0;;n++){let s=this.text[n],o=r+s.length;if((i?e:o)>=t)return new _(r,o,e,s);r=o+1,e++}}decompose(t,i,e){e.push(new P(q(this.text,t,i),Math.min(i,this.length)-Math.max(0,t)))}lastLineLength(){return this.text[this.text.length-1].length}firstLineLength(){return this.text[0].length}replace(t,i,e){let r=this.length+e.length-(i-t);return r>=1024||!(e instanceof P)?super.replace(t,i,e):new P(U(this.text,U(e.text,q(this.text,0,t)),i),r)}sliceString(t,i=this.length,e="\n"){let r="";for(let n=0,s=0;n<=i&&s<this.text.length;s++){let o=this.text[s],l=n+o.length;n>t&&s&&(r+=e),t<l&&i>n&&(r+=o.slice(Math.max(0,t-n),i-n)),n=l+1}return r}flatten(t){t[t.length-1]+=this.text[0];for(let i=1;i<this.text.length;i++)t.push(this.text[i])}static split(t,i){let e=[],r=-1;for(let n of t)for(;;){let t=r+n.length+1;if(t<512){r=t,e.push(n);break}let s=512-r-1,o=n.charCodeAt(s);o>=56320&&o<57344&&s++,e.push(n.slice(0,s)),i.push(new P(e,512)),n=n.slice(s),r=-1,e=[]}return-1!=r&&i.push(new P(e,r)),i}}class X extends y{constructor(t,i){super(),this.children=t,this.length=i,this.lines=1;for(let e of t)this.lines+=e.lines-1}lineInner(t,i,e,r){for(let n=0;;n++){let s=this.children[n],o=r+s.length,l=e+s.lines-1;if((i?l:o)>=t){let l,a=s.lineInner(t,i,e,r);return a.from==r&&(l=this.lineLengthTo(n))&&(a.from-=l,a.content=null),a.to==o&&(l=this.lineLengthFrom(n+1))&&(a.to+=l,a.content=null),a}r=o,e=l}}decompose(t,i,e){for(let r=0,n=0;n<i&&r<this.children.length;r++){let s=this.children[r],o=n+s.length;t<o&&i>n&&(n>=t&&o<=i?e.push(s):s.decompose(t-n,i-n,e)),n=o}}lineLengthTo(t){let i=0;for(let e=t-1;e>=0;e--){let t=this.children[e];if(t.lines>1)return i+t.lastLineLength();i+=t.length}return i}lastLineLength(){return this.lineLengthTo(this.children.length)}lineLengthFrom(t){let i=0;for(let e=t;e<this.children.length;e++){let t=this.children[e];if(t.lines>1)return i+t.firstLineLength();i+=t.length}return i}firstLineLength(){return this.lineLengthFrom(0)}replace(t,i,e){if(e.length<512&&i-t<512){let r=e.length-(i-t);for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],l=s+o.length;if(t>=s&&i<=l&&o.length+r<this.length+r>>2&&o.length+r>0){let l=this.children.slice();return l[n]=o.replace(t-s,i-s,e),new X(l,this.length+r)}s=l}}return super.replace(t,i,e)}sliceString(t,i=this.length,e="\n"){let r="";for(let n=0,s=0;s<i&&n<this.children.length;n++){let o=this.children[n],l=s+o.length;if(t<l&&i>s){let n=o.sliceString(t-s,i-s,e);if(t>=s&&i<=l)return n;r+=n}s=l}return r}flatten(t){for(let i of this.children)i.flatten(t)}static from(t,i){if(!t.every((t=>t instanceof y)))throw new Error("NOP");if(i<1024){let e=[""];for(let i of t)i.flatten(e);return new P(e,i)}let e=Math.max(512,i>>3),r=e<<1,n=e>>1,s=[],o=0,l=[];function a(t){let i,c=t.length;if(c)if(c>r&&t instanceof X)for(let e of t.children)a(e);else c>n&&(o>n||0==o)?(h(),s.push(t)):t instanceof P&&o>0&&(i=l[l.length-1])instanceof P&&t.length+i.length<=512?(o+=c,l[l.length-1]=new P(U(t.text,i.text.slice()),t.length+i.length)):(o+c>e&&h(),o+=c,l.push(t))}function h(){0!=o&&(s.push(1==l.length?l[0]:X.from(l,o)),o=0,l.length=0)}for(let c of t)a(c);return h(),1==s.length?s[0]:new X(s,i)}}function R(t){let i=-1;for(let e of t)i+=e.length+1;return i}function U(t,i,e=0,r=1e9){for(let n=0,s=0,o=!0;s<t.length&&n<=r;s++){let l=t[s],a=n+l.length;a>=e&&(a>r&&(l=l.slice(0,r-n)),n<e&&(l=l.slice(e-n)),o?(i[i.length-1]+=l,o=!1):i.push(l)),n=a+1}return i}function q(t,i,e){return U(t,[""],i,e)}y.empty=y.of([""]);class j{constructor(t,i=1){this.dir=i,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[i>0?0:t instanceof P?t.text.length:t.children.length]}next(t=0){for(;;){let i=this.nodes.length-1;if(i<0)return this.done=!0,this.value="",this.lineBreak=!1,this;let e=this.nodes[i],r=this.offsets[i];if(e instanceof P){if(r!=(this.dir>0?0:e.text.length)&&!this.lineBreak){if(this.lineBreak=!0,0==t)return this.value="\n",this;t--;continue}let n=e.text[r-(this.dir<0?1:0)];if(this.offsets[i]=r+=this.dir,r==(this.dir>0?e.text.length:0)&&(this.nodes.pop(),this.offsets.pop()),this.lineBreak=!1,n.length>Math.max(0,t))return this.value=0==t?n:this.dir>0?n.slice(t):n.slice(0,n.length-t),this;t-=n.length}else if(r==(this.dir>0?e.children.length:0))this.nodes.pop(),this.offsets.pop();else{let n=e.children[this.dir>0?r:r-1],s=n.length;this.offsets[i]=r+this.dir,t>s?t-=s:(this.nodes.push(n),this.offsets.push(this.dir>0?0:n instanceof P?n.text.length:n.children.length))}}}}class M{constructor(t,i,e){this.value="",this.cursor=new j(t,i>e?-1:1),i>e?(this.skip=t.length-i,this.limit=i-e):(this.skip=i,this.limit=e-i)}next(){if(this.limit<=0)this.limit=-1;else{let{value:t,lineBreak:i,done:e}=this.cursor.next(this.skip);this.skip=0,this.value=t;let r=i?1:t.length;r>this.limit&&(this.value=this.cursor.dir>0?t.slice(0,this.limit):t.slice(r-this.limit)),e||0==this.value.length?this.limit=-1:this.limit-=this.value.length}return this}get lineBreak(){return this.cursor.lineBreak}get done(){return this.limit<0}}class T{constructor(t,i=0){this.value="",this.done=!1,this.cursor=t.iter(),this.skip=i}next(){if(this.cursor.done)return this.done=!0,this.value="",this;for(this.value="";;){let{value:t,lineBreak:i,done:e}=this.cursor.next(this.skip);if(this.skip=0,e||i)return this;this.value+=t}}get lineBreak(){return!1}}class _{constructor(t,i,e,r){this.from=t,this.to=i,this.number=e,this.content=r}get length(){return this.to-this.from}slice(t=0,i=this.length){if(t==i)return"";if("string"==typeof this.content)return this.content.slice(t,i);this.content||(this.content=new E(this.doc,this.from));let e=this.content.slice(t,i);return 0==t&&i==this.length&&(this.content=e),e}finish(t){return this.doc=t,this}findClusterBreak(t,i){if(t<0||t>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");let e,r;return"string"==this.content?(e=this.from,r=this.content):(e=Math.max(0,t-256),r=this.slice(e,Math.min(this.length,e+512))),(i?m:p)(r,t-e)+e}}class E{constructor(t,i){this.doc=t,this.start=i,this.cursor=null,this.strings=null}slice(t,i){this.cursor||(this.cursor=this.doc.iter(),this.strings=[this.cursor.next(this.start).value]);for(let e="",r=0,n=0;;n++){if(n==this.strings.length){let t=this.cursor.next().value;if(!t)return e;this.strings.push(t)}let s=this.strings[n],o=r;if(r+=s.length,!(r<=t)&&(e+=s.slice(Math.max(0,t-o),Math.min(s.length,i-o)),r>=i))return e}}}var W=0,A=new WeakMap,V=function(){function t(t){var i=(void 0===t?{}:t).deserialize;this.id=W++,this.deserialize=i||function(){throw new Error("This node type doesn't define a deserialize function")}}return t.string=function(){return new t({deserialize:function(t){return t}})},t.number=function(){return new t({deserialize:Number})},t.flag=function(){return new t({deserialize:function(){return!0}})},t.prototype.set=function(t,i){return t[this.id]=i,t},t.prototype.add=function(t){return new C(this,"function"==typeof t?t:I.match(t))},t.closedBy=new t({deserialize:function(t){return t.split(" ")}}),t.openedBy=new t({deserialize:function(t){return t.split(" ")}}),t.group=new t({deserialize:function(t){return t.split(" ")}}),t}(),C=function(t,i){this.prop=t,this.f=i},I=function(){function t(t,i,e,r){void 0===r&&(r=0),this.name=t,this.props=i,this.id=e,this.flags=r}return t.prototype.prop=function(t){return this.props[t.id]},Object.defineProperty(t.prototype,"isTop",{get:function(){return(1&this.flags)>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSkipped",{get:function(){return(2&this.flags)>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isError",{get:function(){return(4&this.flags)>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRepeated",{get:function(){return(8&this.flags)>0},enumerable:!0,configurable:!0}),t.prototype.is=function(t){if(this.name==t)return!0;var i=this.prop(V.group);return!!i&&i.indexOf(t)>-1},t.match=function(t){var i=Object.create(null);for(var e in t)for(var r=0,n=e.split(" ");r<n.length;r++)i[n[r]]=t[e];return function(t){for(var e=t.prop(V.group),r=-1;r<(e?e.length:0);r++){var n=i[r<0?t.name:e[r]];if(n)return n}}},t.none=new t("",Object.create(null),0),t}(),G=function(){function t(t){this.types=t;for(var i=0;i<t.length;i++)if(t[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node group")}return t.prototype.extend=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var r=[],n=0,s=this.types;n<s.length;n++){for(var o=s[n],l=null,a=0,h=i;a<h.length;a++){var c=h[a],u=c.f(o);if(void 0!==u){if(!l)for(var f in l=Object.create(null),o.props)l[f]=o.props[f];l[c.prop.id]=u}}r.push(l?new I(o.name,l,o.id,o.flags):o)}return new t(r)},t}(),z=function(){function t(t,i,e,r){this.type=t,this.children=i,this.positions=e,this.length=r}return t.prototype.toString=function(){var t=this.children.map((function(t){return t.toString()})).join();return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t},t.prototype.partial=function(i,e,r,n,s){for(var o=0;o<this.children.length;o++){var l=this.positions[o];if(l>e)break;var a=this.children[o],h=l+a.length;h<i||(i<=l&&e>=h?(n.push(a),s.push(l+r)):a instanceof t&&a.partial(i-l,e-l,r+l,n,s))}},t.prototype.applyChanges=function(i){if(0==i.length)return this;var e=[],r=[];function n(t,i,e){for(var r=t.cursor(i,-e);;)if(!r.enter(e,i))for(;;){if((e<0?r.to<=i:r.from>=i)&&!r.type.isError)return e<0?Math.min(i,r.to-1):Math.max(i,r.from+1);if(r.sibling(e))break;if(!r.parent())return e<0?0:t.length}}for(var s=0,o=0,l=0;;o++){var a=o==i.length?null:i[o],h=a?n(this,a.fromA,-1):this.length;if(h>l&&this.partial(l,h,s,e,r),!a)break;l=n(this,a.toA,1),s+=a.toB-a.fromB-(a.toA-a.fromA)}return new t(I.none,e,r,this.length+s)},t.prototype.cut=function(i){if(i>=this.length)return this;for(var e=[],r=[],n=0;n<this.children.length;n++){var s=this.positions[n];if(s>=i)break;var o=this.children[n];e.push(s+o.length<=i?o:o.cut(i-s)),r.push(s)}return new t(this.type,e,r,i)},t.prototype.cursor=function(t,i){void 0===i&&(i=0);var e=null!=t&&A.get(this)||this.topNode,r=new N(e);return null!=t&&(r.moveTo(t,i),A.set(this,r.tree)),r},Object.defineProperty(t.prototype,"topNode",{get:function(){return new Y(this,0,0,null)},enumerable:!0,configurable:!0}),t.prototype.resolve=function(t,i){return void 0===i&&(i=0),this.cursor(t,i).node},t.prototype.iterate=function(t){for(var i=t.enter,e=t.leave,r=t.from,n=void 0===r?0:r,s=t.to,o=void 0===s?this.length:s,l=this.cursor();;){var a=!1;if(l.from<=o&&l.to>=n&&(l.type.isRepeated||!1!==i(l.type,l.from,l.to))){if(l.firstChild())continue;a=!0}for(;a&&e&&e(l.type,l.from,l.to),!l.nextSibling();){if(!l.parent())return;a=!0}}},t.prototype.append=function(i){if(!i.children.length)return this;if(i.positions[0]<this.length)throw new Error("Can't append overlapping trees");return new t(this.type,this.children.concat(i.children),this.positions.concat(i.positions),i.length)},t.prototype.balance=function(t){return void 0===t&&(t=1024),this.children.length<=K?this:it(this.type,I.none,this.children,this.positions,0,this.children.length,0,t,this.length)},t.build=function(t){return tt(t)},t.empty=new t(I.none,[],[],0),t}(),D=function(){function t(t,i,e,r){void 0===r&&(r=I.none),this.buffer=t,this.length=i,this.group=e,this.type=r}return t.prototype.toString=function(){for(var t=[],i=0;i<this.buffer.length;)t.push(this.childString(i)),i=this.buffer[i+3];return t.join(",")},t.prototype.childString=function(t){var i=this.buffer[t+3],e=this.group.types[this.buffer[t]],r=e.name;if(/\W/.test(r)&&!e.isError&&(r=JSON.stringify(r)),i==(t+=4))return r;for(var n=[];t<i;)n.push(this.childString(t)),t=this.buffer[t+3];return r+"("+n.join(",")+")"},t.prototype.cut=function(i){for(var e=0;e<this.buffer.length&&this.buffer[e+1]<i;)e+=4;for(var r=new Uint16Array(e),n=0;n<e;n+=4)r[n]=this.buffer[n],r[n+1]=this.buffer[n+1],r[n+2]=Math.min(i,this.buffer[n+2]),r[n+3]=Math.min(this.buffer[n+3],e);return new t(r,Math.min(i,this.length),this.group)},t.prototype.findChild=function(t,i,e,r){for(var n=this.buffer,s=-1,o=t;o!=i;o=n[o+3])if(-1e8!=r){var l=n[o+1],a=n[o+2];if(e>0){if(a>r&&(s=o),a>r)break}else if(l<r&&(s=o),a>=r)break}else if(s=o,e>0)break;return s},t}(),Y=function(){function t(t,i,e,r){this.node=t,this.from=i,this.index=e,this._parent=r}return Object.defineProperty(t.prototype,"type",{get:function(){return this.node.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.node.type.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"to",{get:function(){return this.from+this.node.length},enumerable:!0,configurable:!0}),t.prototype.nextChild=function(i,e,r){for(var n=this;;){for(var s=n.node,o=s.children,l=s.positions,a=e>0?o.length:-1;i!=a;i+=e){var h=o[i],c=l[i]+n.from;if(-1e8==r||!(e<0?c>=r:c+h.length<=r))if(h instanceof D){var u=h.findChild(0,h.buffer.length,e,-1e8==r?-1e8:r-c);if(u>-1)return new Z(new B(n,h,i,c),null,u)}else if(!h.type.isRepeated||H(h)){var f=new t(h,c,i,n);return f.type.isRepeated?f.nextChild(e<0?h.children.length-1:0,e,r):f}}if(!n.type.isRepeated)return null;i=n.index+e,n=n._parent}},Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.nextChild(0,1,-1e8)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.nextChild(this.node.children.length-1,-1,-1e8)},enumerable:!0,configurable:!0}),t.prototype.childAfter=function(t){return this.nextChild(0,1,t)},t.prototype.childBefore=function(t){return this.nextChild(this.node.children.length-1,-1,t)},t.prototype.nextSignificant=function(){for(var t=this;t.type.isRepeated;)t=t._parent;return t},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent?this._parent.nextSignificant():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this._parent?this._parent.nextChild(this.index+1,1,-1):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prevSibling",{get:function(){return this._parent?this._parent.nextChild(this.index-1,-1,-1):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{get:function(){return new N(this)},enumerable:!0,configurable:!0}),t.prototype.resolve=function(t,i){return void 0===i&&(i=0),this.cursor.moveTo(t,i).node},t.prototype.getChild=function(t,i,e){void 0===i&&(i=null),void 0===e&&(e=null);var r=F(this,t,i,e);return r.length?r[0]:null},t.prototype.getChildren=function(t,i,e){return void 0===i&&(i=null),void 0===e&&(e=null),F(this,t,i,e)},t.prototype.toString=function(){return this.node.toString()},t}();function F(t,i,e,r){var n=t.cursor,s=[];if(!n.firstChild())return s;if(null!=e)for(;!n.type.is(e);)if(!n.nextSibling())return s;for(;;){if(null!=r&&n.type.is(r))return s;if(n.type.is(i)&&s.push(n.node),!n.nextSibling())return null==r?s:[]}}var B=function(t,i,e,r){this.parent=t,this.buffer=i,this.index=e,this.start=r},Z=function(){function t(t,i,e){this.context=t,this._parent=i,this.index=e,this.type=t.buffer.group.types[t.buffer.buffer[e]]}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"from",{get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"to",{get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]},enumerable:!0,configurable:!0}),t.prototype.child=function(i,e){var r=this.context.buffer,n=r.findChild(this.index+4,r.buffer[this.index+3],i,-1e8==e?-1e8:e-this.context.start);return n<0?null:new t(this.context,this,n)},Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.child(1,-1e8)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.child(-1,-1e8)},enumerable:!0,configurable:!0}),t.prototype.childAfter=function(t){return this.child(1,t)},t.prototype.childBefore=function(t){return this.child(-1,t)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent||this.context.parent.nextSignificant()},enumerable:!0,configurable:!0}),t.prototype.externalSibling=function(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,-1)},Object.defineProperty(t.prototype,"nextSibling",{get:function(){var i=this.context.buffer,e=i.buffer[this.index+3];return e<(this._parent?i.buffer[this._parent.index+3]:i.buffer.length)?new t(this.context,this._parent,e):this.externalSibling(1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prevSibling",{get:function(){var i=this.context.buffer,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new t(this.context,this._parent,i.findChild(e,this.index,-1,-1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{get:function(){return new N(this)},enumerable:!0,configurable:!0}),t.prototype.resolve=function(t,i){return void 0===i&&(i=0),this.cursor.moveTo(t,i).node},t.prototype.toString=function(){return this.context.buffer.childString(this.index)},t.prototype.getChild=function(t,i,e){void 0===i&&(i=null),void 0===e&&(e=null);var r=F(this,t,i,e);return r.length?r[0]:null},t.prototype.getChildren=function(t,i,e){return void 0===i&&(i=null),void 0===e&&(e=null),F(this,t,i,e)},t}(),N=function(){function t(t){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Y)this.yieldNode(t);else{this.tree=t.context.parent,this.buffer=t.context;for(var i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type.name},enumerable:!0,configurable:!0}),t.prototype.yieldNode=function(t){return!!t&&(this.tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)},t.prototype.yieldBuf=function(t,i){this.index=t;var e=this.buffer,r=e.start,n=e.buffer;return this.type=i||n.group.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0},t.prototype.yield=function(t){return!!t&&(t instanceof Y?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))},t.prototype.toString=function(){return this.buffer?this.buffer.buffer.childString(this.index):this.tree.toString()},t.prototype.enter=function(t,i){if(!this.buffer)return this.yield(this.tree.nextChild(t<0?this.tree.node.children.length-1:0,t,i));var e=this.buffer.buffer,r=e.findChild(this.index+4,e.buffer[this.index+3],t,-1e8==i?-1e8:i-this.buffer.start);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))},t.prototype.firstChild=function(){return this.enter(1,-1e8)},t.prototype.lastChild=function(){return this.enter(-1,-1e8)},t.prototype.childAfter=function(t){return this.enter(1,t)},t.prototype.childBefore=function(t){return this.enter(-1,t)},t.prototype.parent=function(){if(!this.buffer)return this.yieldNode(this.tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var t=this.buffer.parent.nextSignificant();return this.buffer=null,this.yieldNode(t)},t.prototype.sibling=function(t){if(!this.buffer)return!!this.tree._parent&&this.yield(this.tree._parent.nextChild(this.tree.index+t,t,-1e8));var i=this.buffer.buffer,e=this.stack.length-1;if(t<0){var r=e<0?0:this.stack[e]+4;if(this.index!=r)return this.yieldBuf(i.findChild(r,this.index,-1,-1e8))}else{var n=i.buffer[this.index+3];if(n<(e<0?i.buffer.length:i.buffer[this.stack[e]+3]))return this.yieldBuf(n)}return e<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,-1e8))},t.prototype.nextSibling=function(){return this.sibling(1)},t.prototype.prevSibling=function(){return this.sibling(-1)},t.prototype.atLastNode=function(t){var i,e,r,n,s=this.buffer;if(s){if(t>0){if(this.index<s.buffer.buffer.length)return!1}else for(var o=0;o<this.index;o++)if(s.buffer.buffer[o+3]<this.index)return!1;r=s.index,n=s.parent}else r=(i=this.tree).index,n=i._parent;for(;n;r=(e=n).index,n=e._parent,e){o=r+t;for(var l=t<0?-1:n.node.children.length;o!=l;o+=t){var a=n.node.children[o];if(!a.type.isRepeated||a instanceof D||H(a))return!1}}return!0},t.prototype.move=function(t){if(this.enter(t,-1e8))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}},t.prototype.next=function(){return this.move(1)},t.prototype.prev=function(){return this.move(-1)},t.prototype.moveTo=function(t,i){for(void 0===i&&(i=0);(this.from==this.to||(i<1?this.from>=t:this.from>t)||(i>-1?this.to<=t:this.to<t))&&this.parent(););for(;i<0?this.childBefore(t):this.childAfter(t);)if(this.from==this.to||(i<1?this.from>=t:this.from>t)||(i>-1?this.to<=t:this.to<t)){this.parent();break}return this},Object.defineProperty(t.prototype,"node",{get:function(){if(!this.buffer)return this.tree;var t=this.bufferNode,i=null,e=0;if(t&&t.context==this.buffer)t:for(var r=this.index,n=this.stack.length;n>=0;){for(var s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;i=s,e=n+1;break t}r=this.stack[--n]}for(var o=e;o<this.stack.length;o++)i=new Z(this.buffer,i,this.stack[o]);return this.bufferNode=new Z(this.buffer,i,this.index)},enumerable:!0,configurable:!0}),t}();function H(t){return t.children.some((function(t){return!t.type.isRepeated||t instanceof D||H(t)}))}var J=function(){function t(t,i){this.buffer=t,this.index=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this.index},enumerable:!0,configurable:!0}),t.prototype.next=function(){this.index-=4},t.prototype.fork=function(){return new t(this.buffer,this.index)},t}(),K=8;function tt(t){var i=t.buffer,e=t.group,r=t.topID,n=void 0===r?0:r,s=t.maxBufferLength,o=void 0===s?1024:s,l=t.reused,a=void 0===l?[]:l,h=t.minRepeatType,c=void 0===h?e.types.length:h,u=Array.isArray(i)?new J(i,i.length):i,f=e.types;function d(t,i,r,n,s){for(var l=u.id,h=u.start,m=u.end,p=u.size;l==s;)u.next(),l=u.id,h=u.start,m=u.end,p=u.size;var g=h-t;if(p<0)return r.push(a[l]),n.push(g),void u.next();var v,w,Q=f[l];if(m-h<=o&&(w=function(t,i){var e=u.fork(),r=0,n=0,s=0,l=e.end-o,a={size:0,start:0,skip:0};t:for(var h=e.pos-t;e.pos>h;)if(e.id!=i){var f=e.size,d=e.pos-f;if(f<0||d<h||e.start<l)break;var O=e.id>=c?4:0,m=e.start;for(e.next();e.pos>d;){if(e.size<0)break t;e.id>=c&&(O+=4),e.next()}n=m,r+=f,s+=O}else a.size=r,a.start=n,a.skip=s,s+=4,r+=4,e.next();return(i<0||r==t)&&(a.size=r,a.start=n,a.skip=s),a.size>4?a:void 0}(u.pos-i,s))){for(var b=new Uint16Array(w.size-w.skip),$=u.pos-w.size,S=b.length;u.pos>$;)S=O(w.start,b,S,s);v=new D(b,m-w.start,e,s<0?I.none:f[s]),g=w.start-t}else{$=u.pos-p,u.next();for(var y=[],x=[],k=l>=c?l:-1;u.pos>$;)d(h,$,y,x,k);y.reverse(),x.reverse(),v=k>-1&&y.length>K?it(Q,Q,y,x,0,y.length,0,o,m-h):new z(Q,y,x,m-h)}r.push(v),n.push(g)}function O(t,i,e,r){var n=u.id,s=u.start,o=u.end,l=u.size;if(u.next(),n==r)return e;var a=e;if(l>4)for(var h=u.pos-(l-4);u.pos>h;)e=O(t,i,e,r);return n<c&&(i[--e]=a,i[--e]=o-t,i[--e]=s-t,i[--e]=n),e}for(var m=[],p=[];u.pos>0;)d(0,0,m,p,-1);var g=m.length?p[0]+m[0].length:0;return new z(e.types[n],m.reverse(),p.reverse(),g)}function it(t,i,e,r,n,s,o,l,a){var h=[],c=[];if(a<=l)for(var u=n;u<s;u++)h.push(e[u]),c.push(r[u]-o);else{var f=Math.max(l,Math.ceil(1.5*a/K));for(u=n;u<s;){var d=u,O=r[u];for(u++;u<s&&!(r[u]+e[u].length-O>f);u++);if(u==d+1){var m=e[d];if(m instanceof z&&m.type==i&&m.length>f<<1){for(var p=0;p<m.children.length;p++)h.push(m.children[p]),c.push(m.positions[p]+O-o);continue}h.push(m)}else if(u==d+1)h.push(e[d]);else{var g=it(i,i,e,r,d,u,O,l,r[u-1]+e[u-1].length-O);i==I.none||et(g.children,i)||(g=new z(I.none,g.children,g.positions,g.length)),h.push(g)}c.push(O-o)}}return new z(t,h,c,a)}function et(t,i){for(var e=0,r=t;e<r.length;e++)if(r[e].type==i)return!0;return!1}const rt=/\r\n?|\n/;var nt;!function(t){t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter"}(nt||(nt={}));class st{constructor(t){this.sections=t}get length(){let t=0;for(let i=0;i<this.sections.length;i+=2)t+=this.sections[i];return t}get newLength(){let t=0;for(let i=0;i<this.sections.length;i+=2){let e=this.sections[i+1];t+=e<0?this.sections[i]:e}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let i=0,e=0,r=0;i<this.sections.length;){let n=this.sections[i++],s=this.sections[i++];s<0?(t(e,r,n),r+=n):r+=s,e+=n}}iterChangedRanges(t,i=!1){ht(this,t,i)}get invertedDesc(){let t=[];for(let i=0;i<this.sections.length;){let e=this.sections[i++],r=this.sections[i++];r<0?t.push(e,r):t.push(r,e)}return new st(t)}composeDesc(t){return this.empty?t:t.empty?this:ut(this,t)}mapDesc(t,i=!1){return t.empty?this:ct(this,t,i)}mapPos(t,i=-1,e=nt.Simple){let r=0,n=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],l=this.sections[s++],a=r+o;if(l<0){if(a>t)return n+(t-r);n+=o}else{if(e!=nt.Simple&&a>=t&&(e==nt.TrackDel&&r<t&&a>t||e==nt.TrackBefore&&r<t||e==nt.TrackAfter&&a>t))return null;if(a>t||a==t&&i<0&&!o)return t==r||i<0?n:n+l;n+=l}r=a}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return n}touchesRange(t,i=t){for(let e=0,r=0;e<this.sections.length&&r<=i;){let n=r+this.sections[e++];if(this.sections[e++]>=0&&r<=i&&n>=t)return!(r<t&&n>i)||"cover";r=n}return!1}toString(){let t="";for(let i=0;i<this.sections.length;){let e=this.sections[i++],r=this.sections[i++];t+=(t?" ":"")+e+(r>=0?":"+r:"")}return t}}class ot extends st{constructor(t,i){super(t),this.inserted=i}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return ht(this,((i,e,r,n,s)=>t=t.replace(r,r+(e-i),s)),!1),t}mapDesc(t,i=!1){return ct(this,t,i,!0)}invert(t){let i=this.sections.slice(),e=[];for(let r=0,n=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o>=0){i[r]=o,i[r+1]=s;let l=r>>1;for(;e.length<l;)e.push(y.empty);e.push(s?t.slice(n,n+s):y.empty)}n+=s}return new ot(i,e)}compose(t){return this.empty?t:t.empty?this:ut(this,t,!0)}map(t,i=!1){return t.empty?this:ct(this,t,i,!0)}iterChanges(t,i=!1){ht(this,t,i)}get desc(){return new st(this.sections)}filter(t){let i=[],e=[],r=[],n=new ft(this);t:for(let s=0,o=0;;){let l=s==t.length?1e9:t[s++];for(;o<l||o==l&&0==n.len;){if(n.done)break t;let t=Math.min(n.len,l-o);lt(r,t,-1);let s=-1==n.ins?-1:0==n.off?n.ins:0;lt(i,t,s),s>0&&at(e,i,n.text),n.forward(t),o+=t}let a=t[s++];for(;o<a;){if(n.done)break t;let t=Math.min(n.len,a-o);lt(i,t,-1),lt(r,t,-1==n.ins?-1:0==n.off?n.ins:0),n.forward(t),o+=t}}return{changes:new ot(i,e),filtered:new st(r)}}toJSON(){let t=[];for(let i=0;i<this.sections.length;i+=2){let e=this.sections[i],r=this.sections[i+1];t.push(r<0?e:0==r?[e]:[e,this.inserted[i>>1].toJSON()])}return t}static of(t,i,e){let r=[],n=[],s=0,o=null;function l(t=!1){if(!t&&!r.length)return;s<i&&lt(r,i-s,-1);let e=new ot(r,n);o=o?o.compose(e.map(o)):e,r=[],n=[],s=0}return function t(a){if(Array.isArray(a))for(let i of a)t(i);else if(a instanceof ot){if(a.length!=i)throw new RangeError(`Mismatched change set length (got ${a.length}, expected ${i})`);l(),o=o?o.compose(a.map(o)):a}else{let{from:t,to:o=t,insert:h}=a;if(t>o||t<0||o>i)throw new RangeError(`Invalid change range ${t} to ${o} (in doc of length ${i})`);let c=h?"string"==typeof h?y.of(h.split(e||rt)):h:y.empty,u=c.length;if(t==o&&0==u)return;t<s&&l(),t>s&&lt(r,t-s,-1),lt(r,o-t,u),at(n,r,c),s=o}}(t),l(!o),o}static empty(t){return new ot(t?[t,-1]:[],[])}static fromJSON(t){let i=[],e=[];for(let r=0;r<t.length;r++){let n=t[r];if("number"==typeof n)i.push(n,-1);else if(1==n.length)i.push(n[0],0);else{for(;e.length<r;)e.push(y.empty);e[r]=y.of(n[1]),i.push(n[0],e[r].length)}}return new ot(i,e)}}function lt(t,i,e,r=!1){if(0==i&&e<=0)return;let n=t.length-2;n>=0&&e<=0&&e==t[n+1]?t[n]+=i:0==i&&0==t[n]?t[n+1]+=e:r?(t[n]+=i,t[n+1]+=e):t.push(i,e)}function at(t,i,e){if(0==e.length)return;let r=i.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(e);else{for(;t.length<r;)t.push(y.empty);t.push(e)}}function ht(t,i,e){let r=t.inserted;for(let n=0,s=0,o=0;o<t.sections.length;){let l=t.sections[o++],a=t.sections[o++];if(a<0)n+=l,s+=l;else{let h=n,c=s,u=y.empty;for(;h+=l,c+=a,a&&r&&(u=u.append(r[o-2>>1])),!(e||o==t.sections.length||t.sections[o+1]<0);)l=t.sections[o++],a=t.sections[o++];i(n,h,s,c,u),n=h,s=c}}}function ct(t,i,e,r=!1){let n=[],s=r?[]:null,o=new ft(t),l=new ft(i);for(let a=0,h=0;;)if(-1==o.ins)a+=o.len,o.next();else if(-1==l.ins&&h<a){let t=Math.min(l.len,a-h);l.forward(t),lt(n,t,-1),h+=t}else if(l.ins>=0&&(o.done||h<a||h==a&&(l.len<o.len||l.len==o.len&&!e))){for(lt(n,l.ins,-1);a>h&&!o.done&&a+o.len<h+l.len;)a+=o.len,o.next();h+=l.len,l.next()}else{if(!(o.ins>=0)){if(o.done&&l.done)return s?new ot(n,s):new st(n);throw new Error("Mismatched change set lengths")}{let t=0,i=a+o.len;for(;;)if(l.ins>=0&&h>a&&h+l.len<i)t+=l.ins,h+=l.len,l.next();else{if(!(-1==l.ins&&h<i))break;{let e=Math.min(l.len,i-h);t+=e,l.forward(e),h+=e}}lt(n,t,o.ins),s&&at(s,n,o.text),a=i,o.next()}}}function ut(t,i,e=!1){let r=[],n=e?[]:null,s=new ft(t),o=new ft(i);for(let l=!1;;){if(s.done&&o.done)return n?new ot(r,n):new st(r);if(0==s.ins)lt(r,s.len,0,l),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let t=Math.min(s.len2,o.len),i=r.length;if(-1==s.ins){let i=-1==o.ins?-1:o.off?0:o.ins;lt(r,t,i,l),n&&i&&at(n,r,o.text)}else-1==o.ins?(lt(r,s.off?0:s.len,t,l),n&&at(n,r,s.textBit(t))):(lt(r,s.off?0:s.len,o.off?0:o.ins,l),n&&!o.off&&at(n,r,o.text));l=(s.ins>t||o.ins>=0&&o.len>t)&&(l||r.length>i),s.forward2(t),o.forward(t)}}else lt(r,0,o.ins,l),n&&at(n,r,o.text),o.next()}}class ft{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length?y.empty:t[i]}textBit(t){let{inserted:i}=this.set,e=this.i-2>>1;return e>=i.length&&!t?y.empty:i[e].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class dt{constructor(t,i,e){this.from=t,this.to=i,this.flags=e}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let t=3&this.flags;return 3==t?null:t}get goalColumn(){let t=this.flags>>5;return 33554431==t?void 0:t}map(t){let i=t.mapPos(this.from),e=t.mapPos(this.to);return i==this.from&&e==this.to?this:new dt(i,e,this.flags)}extend(t,i=t){if(t<=this.anchor&&i>=this.anchor)return Ot.range(t,i);let e=Math.abs(t-this.anchor)>Math.abs(i-this.anchor)?t:i;return Ot.range(this.anchor,e)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Ot.range(t.anchor,t.head)}}class Ot{constructor(t,i=0){this.ranges=t,this.primaryIndex=i}map(t){return t.empty?this:Ot.create(this.ranges.map((i=>i.map(t))),this.primaryIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.primaryIndex!=t.primaryIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(t.ranges[i]))return!1;return!0}get primary(){return this.ranges[this.primaryIndex]}asSingle(){return 1==this.ranges.length?this:new Ot([this.primary])}addRange(t,i=!0){return Ot.create([t].concat(this.ranges),i?0:this.primaryIndex+1)}replaceRange(t,i=this.primaryIndex){let e=this.ranges.slice();return e[i]=t,Ot.create(e,this.primaryIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),primaryIndex:this.primaryIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.primaryIndex||t.primaryIndex>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ot(t.ranges.map((t=>dt.fromJSON(t))),t.primaryIndex)}static single(t,i=t){return new Ot([Ot.range(t,i)],0)}static create(t,i=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let e=0,r=0;r<t.length;r++){let n=t[r];if(n.empty?n.from<=e:n.from<e)return mt(t.slice(),i);e=n.to}return new Ot(t,i)}static cursor(t,i=0,e,r){return new dt(t,t,(0==i?0:i<0?4:8)|(null==e?3:Math.min(2,e))|(null!=r?r:33554431)<<5)}static range(t,i,e){let r=(null!=e?e:33554431)<<5;return i<t?new dt(i,t,16|r):new dt(t,i,r)}}function mt(t,i=0){let e=t[i];t.sort(((t,i)=>t.from-i.from)),i=t.indexOf(e);for(let r=1;r<t.length;r++){let e=t[r],n=t[r-1];if(e.empty?e.from<=n.to:e.from<n.to){let s=n.from,o=Math.max(e.to,n.to);r<=i&&i--,t.splice(--r,2,e.anchor>e.head?Ot.range(o,s):Ot.range(s,o))}}return new Ot(t,i)}function pt(t,i){for(let e of t.ranges)if(e.to>i)throw new RangeError("Selection points outside of document")}let gt=0;class vt{constructor(t,i,e,r){this.combine=t,this.compareInput=i,this.compare=e,this.isStatic=r,this.id=gt++,this.default=t([])}static define(t={}){return new vt(t.combine||(t=>t),t.compareInput||((t,i)=>t===i),t.compare||(t.combine?(t,i)=>t===i:wt),!!t.static)}of(t){return new Qt([],this,0,t)}compute(t,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qt(t,this,1,i)}computeN(t,i){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qt(t,this,2,i)}from(t,i){return e=>xt(i,this.compute([e],(i=>t(i.field(e)))))}nFrom(t,i){return e=>xt(i,this.computeN([e],(i=>t(i.field(e)))))}}function wt(t,i){return t==i||t.length==i.length&&t.every(((t,e)=>t===i[e]))}class Qt{constructor(t,i,e,r){this.dependencies=t,this.facet=i,this.type=e,this.value=r,this.id=gt++}dynamicSlot(t){let i=this.value,e=this.facet.compareInput,r=t[this.id]>>1,n=2==this.type,s=!1,o=!1,l=[];for(let a of this.dependencies)"doc"==a?s=!0:"selection"==a?o=!0:0==(1&t[a.id])&&l.push(t[a.id]);return(t,a)=>{if(!a||a.reconfigure)return t.values[r]=i(t),1;{if(!(s&&a.docChanged||o&&(a.docChanged||a.selection)||l.some((i=>(1&Xt(t,i))>0))))return 0;let h=i(t),c=a.startState.values[r];return(n?function(t,i,e){if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],i[r]))return!1;return!0}(h,c,e):e(h,c))?0:(t.values[r]=h,1)}}}}function bt(t,i,e){let r=e.map((i=>t[i.id])),n=e.map((t=>t.type)),s=r.filter((t=>!(1&t))),o=t[i.id]>>1;return(t,e)=>{let l=e?e.reconfigure?e.startState.config.address[i.id]:o<<1:null,a=null==l;for(let i of s)1&Xt(t,i)&&(a=!0);if(!a)return 0;let h=[];for(let i=0;i<r.length;i++){let e=Rt(t,r[i]);if(2==n[i])for(let t of e)h.push(t);else h.push(e)}let c=i.combine(h);return null!=l&&i.compare(c,Rt(e.startState,l))?0:(t.values[o]=c,1)}}class $t{constructor(t,i,e,r,n){this.id=t,this.createF=i,this.updateF=e,this.compareF=r,this.facets=n}static define(t){let i=[],e=new $t(gt++,t.create,t.update,t.compare||((t,i)=>t===i),i);if(t.provide)for(let r of t.provide)i.push(r instanceof vt?r.compute([e],(t=>t.field(e))):r(e));return e}slot(t){let i=t[this.id]>>1;return(t,e)=>{if(!e)return t.values[i]=this.createF(t),1;let r,n=0;if(e.reconfigure){let t=function(t,i){let e=t.config.address[i];return null==e?null:e>>1}(e.startState,this.id);r=null==t?this.createF(e.startState):e.startState.values[t],n=1}else r=e.startState.values[i];let s=this.updateF(r,e);return n||this.compareF(r,s)||(n=1),n&&(t.values[i]=s),n}}}const St={fallback:3,default:2,extend:1,override:0};function yt(t,i){if(!St.hasOwnProperty(i))throw new RangeError("Invalid precedence: "+i);return new kt(t,St[i])}function xt(t,i){return t?yt(i,t):i}class kt{constructor(t,i){this.e=t,this.prec=i}}class Lt{constructor(t,i){this.tag=t,this.extension=i}}class Pt{constructor(t,i,e,r,n){for(this.source=t,this.replacements=i,this.dynamicSlots=e,this.address=r,this.staticValues=n,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let i=this.address[t.id];return null==i?t.default:this.staticValues[i>>1]}static resolve(t,i=Object.create(null),e){let r=[],n=Object.create(null);for(let a of function(t,i){let e=[[],[],[],[]],r=new Map,n=Object.create(null);function s(t,o){let l=r.get(t);if(null!=l){if(l>=o)return;let i=e[l].indexOf(t);i>-1&&e[l].splice(i,1)}if(r.set(t,o),Array.isArray(t))for(let i of t)s(i,o);else if(t instanceof Lt){if(t.tag in n)throw new RangeError(`Duplicate use of tag '${String(t.tag)}' in extensions`);n[t.tag]=!0,s(i[t.tag]||t.extension,o)}else t.extension?s(t.extension,o):t instanceof kt?s(t.e,t.prec):(e[o].push(t),t instanceof $t&&s(t.facets,o))}s(t,St.default);for(let l of(o=i,(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(o):[]).concat(Object.keys(o))))!(l in n)&&"full"!=l&&i[l]&&(n[l]=!0,s(i[l],St.default));var o;return e.reduce(((t,i)=>t.concat(i)))}(t,i))a instanceof $t?r.push(a):(n[a.facet.id]||(n[a.facet.id]=[])).push(a);let s=Object.create(null),o=[],l=[];for(let a of r)s[a.id]=l.length<<1,l.push((t=>a.slot(t)));for(let a in n){let t=n[a],i=t[0].facet;if(t.every((t=>0==t.type))){s[i.id]=o.length<<1|1;let r=i.combine(t.map((t=>t.value))),n=e?e.config.address[i.id]:null;if(null!=n){let t=Rt(e,n);i.compare(r,t)&&(r=t)}o.push(r)}else{for(let i of t)0==i.type?(s[i.id]=o.length<<1|1,o.push(i.value)):(s[i.id]=l.length<<1,l.push((t=>i.dynamicSlot(t))));s[i.id]=l.length<<1,l.push((e=>bt(e,i,t)))}}return new Pt(t,i,l.map((t=>t(s))),s,o)}}function Xt(t,i){if(1&i)return 2;let e=i>>1,r=t.status[e];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[e]=4;let n=t.config.dynamicSlots[e](t,t.applying);return t.status[e]=2|n}function Rt(t,i){return 1&i?t.config.staticValues[i>>1]:t.values[i>>1]}const Ut=vt.define({combine:t=>t.some((t=>t)),static:!0}),qt=vt.define({combine:t=>t.length?t[0]:void 0,static:!0}),jt=vt.define(),Mt=vt.define(),Tt=new V,_t=vt.define();class Et{constructor(t,i={}){this.state=t,this.options=i}get unit(){return this.state.indentUnit}textAfterPos(t){var i,e;let r=null===(i=this.options)||void 0===i?void 0:i.simulateBreak;return t==r&&(null===(e=this.options)||void 0===e?void 0:e.simulateDoubleBreak)?"":this.state.sliceDoc(t,Math.min(t+100,null!=r&&r>t?r:1e9,this.state.doc.lineAt(t).to))}countColumn(t,i){return $(i<0?t:t.slice(0,i),0,this.state.tabSize)}lineIndent(t){var i;let e=null===(i=this.options)||void 0===i?void 0:i.overrideIndentation;if(e){let i=e(t.from);if(i>-1)return i}let r=t.slice(0,Math.min(100,t.length));return this.countColumn(r,r.search(/\S/))}column(t){var i;let e=this.state.doc.lineAt(t),r=e.slice(0,t-e.from),n=this.countColumn(r,t-e.from),s=(null===(i=this.options)||void 0===i?void 0:i.overrideIndentation)?this.options.overrideIndentation(e.from):-1;return s>-1&&(n+=s-this.countColumn(r,r.search(/\S/))),n}}class Wt{constructor(t,i){this.type=t,this.value=i}static define(){return new At}}class At{of(t){return new Wt(this,t)}}class Vt{constructor(t,i){this.type=t,this.value=i}map(t){let i=this.type.map(this.value,t);return void 0===i?void 0:i==this.value?this:new Vt(this.type,i)}is(t){return this.type==t}static define(t={}){return new Ct(t.map||(t=>t))}static mapEffects(t,i){if(!t.length)return t;let e=[];for(let r of t){let t=r.map(i);t&&e.push(t)}return e}}class Ct{constructor(t){this.map=t}of(t){return new Vt(this,t)}}class It{constructor(t,i,e,r,n,s,o){this.startState=t,this.changes=i,this.selection=e,this.effects=r,this.annotations=n,this.reconfigure=s,this.scrollIntoView=o,this._doc=null,this._state=null,e&&pt(e,i.newLength),n.some((t=>t.type==It.time))||(this.annotations=n.concat(It.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let i of this.annotations)if(i.type==t)return i.value}get docChanged(){return!this.changes.empty}}function Gt(t,i){let e=[];for(let r=0,n=0;;){let s,o;if(r<t.length&&(n==i.length||i[n]>=t[r]))s=t[r++],o=t[r++];else{if(!(n<i.length))return e;s=i[n++],o=i[n++]}!e.length||e[e.length-1]<s?e.push(s,o):e[e.length-1]<o&&(e[e.length-1]=o)}}function zt(t,i,e){var r;let n,s,o;return e?(n=i.changes,s=ot.empty(i.changes.length),o=t.changes.compose(i.changes)):(n=i.changes.map(t.changes),s=t.changes.mapDesc(i.changes,!0),o=t.changes.compose(n)),{changes:o,selection:i.selection?i.selection.map(s):null===(r=t.selection)||void 0===r?void 0:r.map(n),effects:Vt.mapEffects(t.effects,n).concat(Vt.mapEffects(i.effects,s)),annotations:t.annotations.length?t.annotations.concat(i.annotations):i.annotations,scrollIntoView:t.scrollIntoView||i.scrollIntoView,reconfigure:i.reconfigure?i.reconfigure.full||!t.reconfigure?i.reconfigure:Object.assign({},t.reconfigure,i.reconfigure):t.reconfigure}}function Dt(t,i,e){let r=i.reconfigure;r&&r.append&&(r=Object.assign({},r),r["undefined"==typeof Symbol?"__append"+Math.floor(4294967295*Math.random()):Symbol("appendConf")]=r.append,r.append=void 0);let n=i.selection;return{changes:i.changes instanceof ot?i.changes:ot.of(i.changes||[],e,t.facet(qt)),selection:n&&(n instanceof Ot?n:Ot.single(n.anchor,n.head)),effects:i.effects?Array.isArray(i.effects)?i.effects:[i.effects]:Ft,annotations:i.annotations?Array.isArray(i.annotations)?i.annotations:[i.annotations]:Ft,scrollIntoView:!!i.scrollIntoView,reconfigure:r}}function Yt(t,i,e){let r=Dt(t,i.length?i[0]:{},t.doc.length);i.length&&!1===i[0].filter&&(e=!1);for(let s=1;s<i.length;s++){!1===i[s].filter&&(e=!1);let n=!!i[s].sequential;r=zt(r,Dt(t,i[s],n?r.changes.newLength:t.doc.length),n)}let n=new It(t,r.changes,r.selection,r.effects,r.annotations,r.reconfigure,r.scrollIntoView);return e?function(t){let i=t.startState,e=!0;for(let n of i.facet(jt)){let i=n(t);if(!1===i){e=!1;break}Array.isArray(i)&&(e=!0===e?i:Gt(e,i))}if(!0!==e){let r,n;if(!1===e)n=t.changes.invertedDesc,r=ot.empty(i.doc.length);else{let i=t.changes.filter(e);r=i.changes,n=i.filtered.invertedDesc}t=new It(i,r,t.selection&&t.selection.map(n),Vt.mapEffects(t.effects,n),t.annotations,t.reconfigure,t.scrollIntoView)}let r=i.facet(Mt);for(let n=r.length-1;n>=0;n--){let e=r[n](t);t=e instanceof It?e:Array.isArray(e)&&1==e.length&&e[0]instanceof It?e[0]:Yt(i,Array.isArray(e)?e:[e],!1)}return t}(n):n}It.time=Wt.define(),It.userEvent=Wt.define(),It.addToHistory=Wt.define();const Ft=[];var Bt;!function(t){t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other"}(Bt||(Bt={}));const Zt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Nt;try{Nt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Mh){}class Ht{constructor(t,i,e,r=null){if(this.config=t,this.doc=i,this.selection=e,this.applying=null,this.status=t.statusTemplate.slice(),r&&!r.reconfigure)this.values=r.startState.values.slice();else if(this.values=t.dynamicSlots.map((()=>null)),r)for(let n in t.address){let i=t.address[n],e=r.startState.config.address[n];null!=e&&0==(1&i)&&(this.values[i>>1]=Rt(r.startState,e))}this.applying=r,r&&(r._state=this);for(let n=0;n<this.config.dynamicSlots.length;n++)Xt(this,n<<1);this.applying=null}field(t,i=!0){let e=this.config.address[t.id];if(null!=e)return Xt(this,e),Rt(this,e);if(i)throw new RangeError("Field is not present in this state")}update(...t){return Yt(this,t,!0)}applyTransaction(t){let i=this.config;t.reconfigure&&(i=Pt.resolve(t.reconfigure.full||i.source,Object.assign(i.replacements,t.reconfigure,{full:void 0}),this)),new Ht(i,t.newDoc,t.newSelection,t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((i=>({changes:{from:i.from,to:i.to,insert:t},range:Ot.cursor(i.from+t.length)})))}changeByRange(t){let i=this.selection,e=t(i.ranges[0]),r=this.changes(e.changes),n=[e.range];for(let s=1;s<i.ranges.length;s++){let e=t(i.ranges[s]),o=this.changes(e.changes),l=o.map(r);for(let t=0;t<s;t++)n[t]=n[t].map(l);n.push(e.range.map(r.mapDesc(o,!0))),r=r.compose(l)}return{changes:r,selection:Ot.create(n,i.primaryIndex)}}changes(t=[]){return t instanceof ot?t:ot.of(t,this.doc.length,this.facet(Ht.lineSeparator))}toText(t){return y.of(t.split(this.facet(Ht.lineSeparator)||rt))}sliceDoc(t=0,i=this.doc.length){return this.doc.sliceString(t,i,this.lineBreak)}facet(t){let i=this.config.address[t.id];return null==i?t.default:(Xt(this,i),Rt(this,i))}toJSON(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}}static fromJSON(t,i={}){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");return Ht.create({doc:t.doc,selection:Ot.fromJSON(t.selection),extensions:i.extensions})}static create(t={}){let i=Pt.resolve(t.extensions||[]),e=t.doc instanceof y?t.doc:y.of((t.doc||"").split(i.staticFacet(Ht.lineSeparator)||rt)),r=t.selection?t.selection instanceof Ot?t.selection:Ot.single(t.selection.anchor,t.selection.head):Ot.single(0);return pt(r,e.length),i.staticFacet(Ut)||(r=r.asSingle()),new Ht(i,e,r)}get tabSize(){return this.facet(Ht.tabSize)}get lineBreak(){return this.facet(Ht.lineSeparator)||"\n"}get indentUnit(){let t=this.facet(Ht.indentUnit);return 9==t.charCodeAt(0)?this.tabSize*t.length:t.length}indentString(t){let i="";if(9==this.facet(Ht.indentUnit).charCodeAt(0))for(;t>=this.tabSize;)i+="\t",t-=this.tabSize;for(let e=0;e<t;e++)i+=" ";return i}phrase(t){for(let i of this.facet(Ht.phrases))if(Object.prototype.hasOwnProperty.call(i,t))return i[t];return t}charCategorizer(t){return i=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return Bt.Space;if(function(t){if(Nt)return Nt.test(t);for(let i=0;i<t.length;i++){let e=t[i];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Zt.test(e)))return!0}return!1}(t))return Bt.Word;for(let e=0;e<i.length;e++)if(t.indexOf(i[e])>-1)return Bt.Word;return Bt.Other};var i}get tree(){let t=this.facet(Ht.syntax);return t.length?t[0].getTree(this):z.empty}languageDataAt(t,i){let e=[],r=this.facet(Ht.syntax);for(let n=r.length?0:1;n<2;n++){let s=this.facet(n?_t:r[0].languageDataFacetAt(this,i));for(let i of s)Object.prototype.hasOwnProperty.call(i,t)&&e.push(i[t])}return e}}function Jt(t,i,e={}){let r={};for(let n of t)for(let t of Object.keys(n)){let i=n[t],s=r[t];if(void 0===s)r[t]=i;else if(s===i||void 0===i);else{if(!Object.hasOwnProperty.call(e,t))throw new Error("Config merge conflict for field "+t);r[t]=e[t](s,i)}}for(let n in i)void 0===r[n]&&(r[n]=i[n]);return r}Ht.allowMultipleSelections=Ut,Ht.indentation=vt.define(),Ht.tabSize=vt.define({combine:t=>t.length?t[0]:4}),Ht.lineSeparator=qt,Ht.indentUnit=vt.define({combine:t=>{if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}}),Ht.phrases=vt.define(),Ht.syntax=vt.define(),Ht.globalLanguageData=_t,Ht.foldable=vt.define(),Ht.changeFilter=jt,Ht.transactionFilter=Mt;const Kt="undefined"==typeof Symbol?"__":Symbol.for(""),ti="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),ii="undefined"==typeof global?window:global;class ei{constructor(t,i){this.rules=[];let{process:e,extend:r}=i||{};function n(t){if(/^@/.test(t))return[t];let i=t.split(",");return e?i.map(e):i}function s(t,i,e){let o=[],l=/^@(\w+)\b/.exec(t[0]);if(l&&null==i)return e.push(t[0]+";");for(let a in i)if(/&/.test(a))s(t.map((t=>r?r(a,t):a.replace(/&/,t))),i[a],e);else if("object"==typeof i[a]){if(!l)throw new RangeError("The value of a property ("+a+") should be a primitive value.");s("keyframes"==l[1]?[a]:n(a),i[a],o)}else o.push(a.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+i[a]+";");(o.length||l&&"keyframes"==l[1])&&e.push(t.join(",")+" {"+o.join(" ")+"}")}for(let o in t)s(n(o),t[o],this.rules)}static newName(){let t=ii[Kt]||1;return ii[Kt]=t+1,""+t.toString(36)}static mount(t,i){(t[ti]||new ni(t)).mount(Array.isArray(i)?i:[i])}}let ri=null;class ni{constructor(t){if(t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(ri)return t.adoptedStyleSheets=[ri.sheet].concat(t.adoptedStyleSheets),t[ti]=ri;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),ri=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");let i=t.head||t;i.insertBefore(this.styleTag,i.firstChild)}this.modules=[],t[ti]=this}mount(t){let i=this.sheet,e=0,r=0;for(let n=0;n<t.length;n++){let s=t[n],o=this.modules.indexOf(s);if(o<r&&o>-1&&(this.modules.splice(o,1),r--,o=-1),-1==o){if(this.modules.splice(r++,0,s),i)for(let t=0;t<s.rules.length;t++)i.insertRule(s.rules[t],e++)}else{for(;r<o;)e+=this.modules[r++].rules.length;e+=s.rules.length,r++}}if(!i){let t="";for(let i=0;i<this.modules.length;i++)t+=this.modules[i].rules.join("\n")+"\n";this.styleTag.textContent=t}}}class si{eq(t){return this==t}range(t,i=t){return new oi(t,i,this)}}si.prototype.startSide=si.prototype.endSide=0,si.prototype.point=!1,si.prototype.mapMode=nt.TrackDel;class oi{constructor(t,i,e){this.from=t,this.to=i,this.value=e}}function li(t,i){return t.from-i.from||t.value.startSide-i.value.startSide}const ai=1e9;class hi{constructor(t,i,e,r){this.from=t,this.to=i,this.value=e,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,i,e=i*ai,r=0){if(t<=0)return r;let n=i<0?this.to:this.from;for(let s=r,o=n.length;;){if(s==o)return s;let r=s+o>>1,l=n[r]-t||(i<0?this.value[r].startSide:this.value[r].endSide)-e;if(r==s)return l>=0?s:o;l>=0?o=r:s=r+1}}between(t,i,e,r){for(let n=this.findIndex(i,-1),s=this.findIndex(e,1,void 0,n);n<s;n++)if(!1===r(this.from[n]+t,this.to[n]+t,this.value[n]))return!1}map(t,i){let e=[],r=[],n=[],s=-1,o=-1;for(let l=0;l<this.value.length;l++){let a,h,c=this.value[l],u=this.from[l]+t,f=this.to[l]+t;if(u==f){let t=i.mapPos(u,c.startSide,c.mapMode);if(null==t)continue;a=h=t}else if(a=i.mapPos(u,c.startSide),h=i.mapPos(f,c.endSide),a>h||a==h&&c.startSide>0&&c.endSide<=0)continue;(h-a||c.endSide-c.startSide)<0||(s<0&&(s=a),c.point&&(o=Math.max(o,h-a)),e.push(c),r.push(a-s),n.push(h-s))}return{mapped:e.length?new hi(r,n,e,o):null,pos:s}}}class ci{constructor(t,i,e=ci.empty,r){this.chunkPos=t,this.chunk=i,this.nextLayer=e,this.maxPoint=r}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this==ci.empty)return 0;let t=this.nextLayer.size;for(let i of this.chunk)t+=i.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:i=[],sort:e=!1,filter:r,filterFrom:n=0,filterTo:s=this.length}=t;if(0==i.length&&!r)return this;if(e&&i.slice().sort(li),this==ci.empty)return i.length?ci.of(i):this;let o=new fi(this,null,-1).goto(0),l=0,a=[],h=new ui;for(;o.value||l<i.length;)if(l<i.length&&(o.from-i[l].from||o.startSide-i[l].value.startSide)>=0){let t=i[l++];h.addInner(t.from,t.to,t.value)||a.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(l==i.length||this.chunkEnd(o.chunkIndex)<i[l].from)&&(!r||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!r||n>o.to||s<o.from||r(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||a.push(new oi(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer!=ci.empty||a.length?this.nextLayer.update({add:a,filter:r,filterFrom:n,filterTo:s}):ci.empty)}map(t){if(0==t.length||this==ci.empty)return this;let i=[],e=[],r=-1;for(let s=0;s<this.chunk.length;s++){let n=this.chunkPos[s],o=this.chunk[s],l=t.touchesRange(n,n+o.length);if(!1===l)r=Math.max(r,o.maxPoint),i.push(o),e.push(t.mapPos(n));else if(!0===l){let{mapped:s,pos:l}=o.map(n,t);s&&(r=Math.max(r,s.maxPoint),i.push(s),e.push(l))}}let n=this.nextLayer.map(t);return 0==i.length?n:new ci(e,i,n,r)}between(t,i,e){if(this!=ci.empty){for(let r=0;r<this.chunk.length;r++){let n=this.chunkPos[r],s=this.chunk[r];if(i>=n&&t<=n+s.length&&!1===s.between(n,t-n,i-n,e))return}this.nextLayer.between(t,i,e)}}iter(t=0){return di.from([this]).goto(t)}static iter(t,i=0){return di.from(t).goto(i)}static compare(t,i,e,r){var n;let s=null!==(n=r.minPointSize)&&void 0!==n?n:-1,o=t.filter((t=>t.maxPoint>=500||t!=ci.empty&&i.indexOf(t)<0&&t.maxPoint>=s)),l=i.filter((i=>i.maxPoint>=500||i!=ci.empty&&t.indexOf(i)<0&&i.maxPoint>=s)),a=function(t,i){let e=new Map;for(let n of t)for(let t=0;t<n.chunk.length;t++)n.chunk[t].maxPoint<500&&e.set(n.chunk[t],n.chunkPos[t]);let r=new Set;for(let n of i)for(let t=0;t<n.chunk.length;t++)e.get(n.chunk[t])==n.chunkPos[t]&&r.add(n.chunk[t]);return r}(o,l),h=new mi(o,a,s),c=new mi(l,a,s);e.iterGaps(((t,i,e)=>pi(h,t,c,i,e,r))),e.empty&&0==e.length&&pi(h,0,c,0,0,r)}static spans(t,i,e,r){var n;let s=new mi(t,null,null!==(n=r.minPointSize)&&void 0!==n?n:-1).goto(i),o=i,l=s.openStart;for(;;){let t=Math.min(s.to,e);if(s.point?(r.point(o,t,s.point,s.activeForPoint(s.to),l),l=s.openEnd(t)+(s.to>t?1:0)):t>o&&(r.span(o,t,s.active,l),l=s.openEnd(t)),s.to>e)break;o=s.to,s.next()}return l}static of(t,i=!1){let e=new ui;for(let r of t instanceof oi?[t]:i?t.slice().sort(li):t)e.add(r.from,r.to,r.value);return e.finish()}}ci.empty=new ci([],[],null,-1),ci.empty.nextLayer=ci.empty;class ui{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-ai,this.lastTo=-ai,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new hi(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,i,e){this.addInner(t,i,e)||(this.nextLayer||(this.nextLayer=new ui)).add(t,i,e)}addInner(t,i,e){let r=t-this.lastTo||e.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||e.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(i-this.chunkStart),this.last=e,this.lastFrom=t,this.lastTo=i,this.value.push(e),e.point&&(this.maxPoint=Math.max(this.maxPoint,i-t)),0))}addChunk(t,i){if((t-this.lastTo||i.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i.maxPoint),this.chunks.push(i),this.chunkPos.push(t);let e=i.value.length-1;return this.last=i.value[e],this.lastFrom=i.from[e]+t,this.lastTo=i.to[e]+t,!0}finish(){return this.finishInner(ci.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let i=new ci(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,i}}class fi{constructor(t,i,e,r=0){this.layer=t,this.skip=i,this.minPoint=e,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,i=-ai){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,i,!1),this}gotoInner(t,i,e){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,e=!1}let r=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],-1,i);(!e||this.rangeIndex<r)&&(this.rangeIndex=r),this.next()}forward(t,i){(this.to-t||this.endSide-i)<0&&this.gotoInner(t,i,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=ai,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],i=this.layer.chunk[this.chunkIndex];if(this.from=t+i.from[this.rangeIndex],this.to=t+i.to[this.rangeIndex],this.value=i.value[this.rangeIndex],++this.rangeIndex==i.value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide}}class di{constructor(t){this.heap=t}static from(t,i=null,e=-1){let r=[];for(let n=0;n<t.length;n++)for(let s=t[n];s!=ci.empty;s=s.nextLayer)s.maxPoint>=e&&r.push(new fi(s,i,e,n));return 1==r.length?r[0]:new di(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,i=-ai){for(let e of this.heap)e.goto(t,i);for(let e=this.heap.length>>1;e>=0;e--)Oi(this.heap,e);return this.next(),this}forward(t,i){for(let e of this.heap)e.forward(t,i);for(let e=this.heap.length>>1;e>=0;e--)Oi(this.heap,e);(this.to-t||this.value.endSide-i)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=ai,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Oi(this.heap,0)}}}function Oi(t,i){for(let e=t[i];;){let r=1+(i<<1);if(r>=t.length)break;let n=t[r];if(r+1<t.length&&n.compare(t[r+1])>=0&&(n=t[r+1],r++),e.compare(n)<0)break;t[r]=e,t[i]=n,i=r}}class mi{constructor(t,i,e){this.minPoint=e,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-ai,this.endSide=0,this.openStart=-1,this.cursor=di.from(t,i,e)}goto(t,i=-ai){return this.cursor.goto(t,i),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=i,this.openStart=-1,this.next(),this}forward(t,i){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-i)<0;)this.removeActive(this.minActive);this.cursor.forward(t,i)}removeActive(t){vi(this.active,t),vi(this.activeTo,t),vi(this.activeRank,t),this.minActive=Qi(this.active,this.activeTo)}addActive(t){let i=0,{value:e,to:r,rank:n}=this.cursor;for(;i<this.activeRank.length&&this.activeRank[i]<=n;)i++;wi(this.active,i,e),wi(this.activeTo,i,r),wi(this.activeRank,i,n),t&&wi(t,i,this.cursor.from),this.minActive=Qi(this.active,this.activeTo)}next(){let t=this.to;this.point=null;let i=this.openStart<0?[]:null,e=0;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&vi(i,r)}else{if(!this.cursor.value){this.to=this.endSide=ai;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let r=this.cursor.value;if(r.point){this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.from<t&&(e=1),this.cursor.next(),this.to>t&&this.forward(this.to,this.endSide);break}this.addActive(i),this.cursor.next()}}}if(i){let r=0;for(;r<i.length&&i[r]<t;)r++;this.openStart=r+e}}activeForPoint(t){if(!this.active.length)return this.active;let i=[];for(let e=0;e<this.active.length&&!(this.activeRank[e]>this.pointRank);e++)(this.activeTo[e]>t||this.activeTo[e]==t&&this.active[e].endSide>this.point.endSide)&&i.push(this.active[e]);return i}openEnd(t){let i=0;for(;i<this.activeTo.length&&this.activeTo[i]>t;)i++;return i}}function pi(t,i,e,r,n,s){t.goto(i),e.goto(r);let o=r+n,l=r,a=r-i;for(;;){let i=t.to+a-e.to||t.endSide-e.endSide,r=i<0?t.to+a:e.to,n=Math.min(r,o);if(t.point||e.point?t.point&&e.point&&(t.point==e.point||t.point.eq(e.point))||s.comparePoint(l,n,t.point,e.point):n>l&&!gi(t.active,e.active)&&s.compareRange(l,n,t.active,e.active),r>o)break;l=r,i<=0&&t.next(),i>=0&&e.next()}}function gi(t,i){if(t.length!=i.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=i[e]&&!t[e].eq(i[e]))return!1;return!0}function vi(t,i){for(let e=i,r=t.length-1;e<r;e++)t[e]=t[e+1];t.pop()}function wi(t,i,e){for(let r=t.length-1;r>=i;r--)t[r+1]=t[r];t[i]=e}function Qi(t,i){let e=-1,r=ai;for(let n=0;n<i.length;n++)(i[n]-r||t[n].endSide-t[e].endSide)<0&&(e=n,r=i[n]);return e}for(var bi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},$i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Si="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),yi="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),xi="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ki="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Li="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Pi=Si&&(ki||+Si[1]<57)||xi&&ki,Xi=0;Xi<10;Xi++)bi[48+Xi]=bi[96+Xi]=String(Xi);for(Xi=1;Xi<=24;Xi++)bi[Xi+111]="F"+Xi;for(Xi=65;Xi<=90;Xi++)bi[Xi]=String.fromCharCode(Xi+32),$i[Xi]=String.fromCharCode(Xi);for(var Ri in bi)$i.hasOwnProperty(Ri)||($i[Ri]=bi[Ri]);let[Ui,qi]="undefined"!=typeof navigator?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}];const ji=/Edge\/(\d+)/.exec(Ui.userAgent),Mi=/MSIE \d/.test(Ui.userAgent),Ti=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ui.userAgent),_i=!!(Mi||Ti||ji),Ei=!_i&&/gecko\/(\d+)/i.test(Ui.userAgent),Wi=!_i&&/Chrome\/(\d+)/.exec(Ui.userAgent),Ai="webkitFontSmoothing"in qi.documentElement.style;var Vi={mac:/Mac/.test(Ui.platform),ie:_i,ie_version:Mi?qi.documentMode||6:Ti?+Ti[1]:ji?+ji[1]:0,gecko:Ei,gecko_version:Ei?+(/Firefox\/(\d+)/.exec(Ui.userAgent)||[0,0])[1]:0,chrome:!!Wi,chrome_version:Wi?+Wi[1]:0,ios:!_i&&/AppleWebKit/.test(Ui.userAgent)&&/Mobile\/\w+/.test(Ui.userAgent),android:/Android\b/.test(Ui.userAgent),webkit:Ai,safari:/Apple Computer/.test(Ui.vendor),webkit_version:Ai?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=qi.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};function Ci(t){return t.getSelection?t.getSelection():document.getSelection()}function Ii(t,i){if(!i.anchorNode)return!1;try{return t.contains(3==i.anchorNode.nodeType?i.anchorNode.parentNode:i.anchorNode)}catch(Mh){return!1}}function Gi(t){if(3==t.nodeType){let i=te();return i.setEnd(t,t.nodeValue.length),i.setStart(t,0),i.getClientRects()}return 1==t.nodeType?t.getClientRects():[]}function zi(t,i,e,r){return!!e&&(Yi(t,i,e,r,-1)||Yi(t,i,e,r,1))}function Di(t){for(var i=0;;i++)if(!(t=t.previousSibling))return i}function Yi(t,i,e,r,n){for(;;){if(t==e&&i==r)return!0;if(i==(n<0?0:Fi(t))){if("DIV"==t.nodeName)return!1;let e=t.parentNode;if(!e||1!=e.nodeType)return!1;i=Di(t)+(n<0?0:1),t=e}else{if(1!=t.nodeType)return!1;t=t.childNodes[i+(n<0?-1:0)],i=n<0?Fi(t):0}}}function Fi(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Bi(t,i){let e=i?t.left:t.right;return{left:e,right:e,top:t.top,bottom:t.bottom}}function Zi(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}class Ni{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}}let Hi,Ji=null;function Ki(t){if(t.setActive)return t.setActive();if(Ji)return t.focus(Ji);let i=[];for(let e=t;e&&(i.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(t.focus(null==Ji?{get preventScroll(){return Ji={preventScroll:!0},!0}}:void 0),!Ji){Ji=!1;for(let t=0;t<i.length;){let e=i[t++],r=i[t++],n=i[t++];e.scrollTop!=r&&(e.scrollTop=r),e.scrollLeft!=n&&(e.scrollLeft=n)}}}function te(){return Hi||(Hi=document.createRange())}class ie{constructor(t,i,e=!0){this.node=t,this.offset=i,this.precise=e}static before(t,i){return new ie(t.parentNode,Di(t),i)}static after(t,i){return new ie(t.parentNode,Di(t)+1,i)}}const ee=[];class re{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let i=this.posAtStart;for(let e of this.children){if(e==t)return i;i+=e.length+e.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}coordsAt(t,i){return null}sync(t){if(2&this.dirty){let i=this.dom,e=null;for(let n of this.children){if(n.dirty){let r=e?e.nextSibling:i.firstChild;!r||n.dom||re.get(r)||n.reuseDOM(r),n.sync(t),n.dirty=0}t&&t.node==i&&e!=n.dom&&(t.written=!0),se(i,e,n.dom),e=n.dom}let r=e?e.nextSibling:i.firstChild;for(r&&t&&t.node==i&&(t.written=!0);r;)r=ne(r)}else if(1&this.dirty)for(let i of this.children)i.dirty&&(i.sync(t),i.dirty=0)}reuseDOM(t){return!1}localPosFromDOM(t,i){let e;if(t==this.dom)e=this.dom.childNodes[i];else{let r=0==Fi(t)?0:0==i?-1:1;for(;;){let i=t.parentNode;if(i==this.dom)break;0==r&&i.firstChild!=i.lastChild&&(r=t==i.firstChild?-1:1),t=i}e=r<0?t:t.nextSibling}if(e==this.dom.firstChild)return 0;for(;e&&!re.get(e);)e=e.nextSibling;if(!e)return this.length;for(let r=0,n=0;;r++){let t=this.children[r];if(t.dom==e)return n;n+=t.length+t.breakAfter}}domBoundsAround(t,i,e=0){let r=-1,n=-1,s=-1,o=-1;for(let l=0,a=e;l<this.children.length;l++){let e=this.children[l],h=a+e.length;if(a<t&&h>i)return e.domBoundsAround(t,i,a);if(h>=t&&-1==r&&(r=l,n=a),h>=i&&h!=a&&-1==s){s=l,o=h;break}a=h+e.breakAfter}return{from:n,to:o<0?e+this.length:o,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length-1&&s>=0?this.children[s+1].dom:null}}markDirty(t=!1){2&this.dirty||(this.dirty|=2,this.markParentsDirty(t))}markParentsDirty(t){for(let i=this.parent;i;i=i.parent){if(t&&(i.dirty|=2),1&i.dirty)return;i.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let i=t.parent;if(!i)return t;t=i}}replaceChildren(t,i,e=ee){this.markDirty();for(let r=t;r<i;r++)this.children[r].parent=null;this.children.splice(t,i-t,...e);for(let r=0;r<e.length;r++)e[r].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new oe(this.children,t,this.children.length)}childPos(t,i=1){return this.childCursor().findPos(t,i)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}}function ne(t){let i=t.nextSibling;return t.parentNode.removeChild(t),i}function se(t,i,e){let r=i?i.nextSibling:t.firstChild;if(e.parentNode==t)for(;r!=e;)r=ne(r);else t.insertBefore(e,r)}re.prototype.breakAfter=0;class oe{constructor(t,i,e){this.children=t,this.pos=i,this.i=e,this.off=0}findPos(t,i=1){for(;;){if(t>this.pos||t==this.pos&&(i>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let e=this.children[--this.i];this.pos-=e.length+e.breakAfter}}}const le=[];class ae extends re{become(t){return!1}getSide(){return 0}}ae.prototype.children=le;class he extends ae{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){return 3==t.nodeType&&(this.createDOM(t),!0)}merge(t,i,e){return(!e||e instanceof he&&!(this.length-(i-t)+e.length>256))&&(this.text=this.text.slice(0,t)+(e?e.text:"")+this.text.slice(i),this.markDirty(),!0)}slice(t){return new he(this.text.slice(t))}localPosFromDOM(t,i){return t==this.dom?i:i?this.text.length:0}domAtPos(t){return new ie(this.dom,t)}domBoundsAround(t,i,e){return{from:e,to:e+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,i){return ue(this.dom,t,i,this.length)}}class ce extends ae{constructor(t,i=[],e=0){super(),this.mark=t,this.children=i,this.length=e;for(let r of i)r.setParent(this)}createDOM(){let t=document.createElement(this.mark.tagName);if(this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let i in this.mark.attrs)t.setAttribute(i,this.mark.attrs[i]);this.setDOM(t)}sync(t){this.dom||this.createDOM(),super.sync(t)}merge(t,i,e,r,n){return!(e&&(!(e instanceof ce&&e.mark.eq(this.mark))||t&&r<=0||i<this.length&&n<=0)||(Oe(this,t,i,e?e.children:le,r-1,n-1),this.markDirty(),0))}slice(t){return new ce(this.mark,function(t,i){let e=[],r=0;for(let n of t){let t=r+n.length;t>i&&e.push(r<i?n.slice(i-r):n),r=t}return e}(this.children,t),this.length-t)}domAtPos(t){return me(this.dom,this.children,t)}coordsAt(t,i){return ge(this,t,i)}}function ue(t,i,e,r){let n=i,s=i,o=0;0==i&&e<0||i==r&&e>=0?Vi.chrome||Vi.gecko||(i?(n--,o=1):(s++,o=-1)):e<0?n--:s++;let l=te();l.setEnd(t,s),l.setStart(t,n);let a=l.getBoundingClientRect();return o?Bi(a,o<0):a}class fe extends ae{constructor(t,i,e){super(),this.widget=t,this.length=i,this.side=e}static create(t,i,e){return new(t.customView||fe)(t,i,e)}slice(t){return fe.create(this.widget,this.length-t,this.side)}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,i,e,r,n){return!(e&&(!(e instanceof fe&&this.widget.compare(e.widget))||t>0&&r<=0||i<this.length&&n<=0)||(this.length=t+(e?e.length:0)+(this.length-i),0))}become(t){return t.length==this.length&&t instanceof fe&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.eq(t.widget)||this.markDirty(!0),this.widget=t.widget,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return y.empty;let t=this;for(;t.parent;)t=t.parent;let i=t.editorView,e=i&&i.state.doc,r=this.posAtStart;return e?e.slice(r,r+this.length):y.empty}domAtPos(t){return 0==t?ie.before(this.dom):ie.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,i){let e=this.dom.getClientRects(),r=null;for(let n=t>0?e.length-1:0;r=e[n],!(t>0?0==n:n==e.length-1||r.top<r.bottom);n+=t>0?-1:1);return r}}class de extends fe{domAtPos(t){return new ie(this.widget.text,t)}sync(){this.dom||this.setDOM(this.widget.toDOM())}localPosFromDOM(t,i){return i?3==t.nodeType?Math.min(i,this.length):this.length:0}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,i){return ue(this.widget.text,t,i,this.length)}}function Oe(t,i,e,r,n,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(e,1),{i:h,off:c}=o.findPos(i,-1),u=i-e;for(let d of r)u+=d.length;t.length+=u;let{children:f}=t;if(h==l&&c){let t=f[h];if(1==r.length&&t.merge(c,a,r[0],n,s))return;if(0==r.length)return void t.merge(c,a,null,n,s);let i=t.slice(a);i.merge(0,0,r[r.length-1],0,s)?r[r.length-1]=i:r.push(i),l++,s=a=0}if(a){let t=f[l];r.length&&t.merge(0,a,r[r.length-1],0,s)?(r.pop(),s=0):t.merge(0,a,null,0,0)}else l<f.length&&r.length&&f[l].merge(0,0,r[r.length-1],0,s)&&(r.pop(),s=0);if(c){let t=f[h];r.length&&t.merge(c,t.length,r[0],n,0)?(r.shift(),n=0):t.merge(c,t.length,null,0,0),h++}else if(h&&r.length){let t=f[h-1];t.merge(t.length,t.length,r[0],n,0)&&(r.shift(),n=0)}for(;h<l&&r.length&&f[l-1].become(r[r.length-1]);)r.pop(),l--,s=0;for(;h<l&&r.length&&f[h].become(r[0]);)r.shift(),h++,n=0;!r.length&&h&&l<f.length&&n&&s&&f[l].merge(0,0,f[h-1],n,s)&&h--,(r.length||h!=l)&&t.replaceChildren(h,l,r)}function me(t,i,e){let r=0;for(let n=0;r<i.length;r++){let s=i[r],o=n+s.length;if(!(o==n&&s.getSide()<=0)){if(e>n&&e<o&&s.dom.parentNode==t)return s.domAtPos(e-n);if(e<=n)break;n=o}}for(;r>0;r--){let e=i[r-1].dom;if(e.parentNode==t)return ie.after(e)}return new ie(t,0)}function pe(t,i,e){let r,{children:n}=t;e>0&&i instanceof ce&&n.length&&(r=n[n.length-1])instanceof ce&&r.mark.eq(i.mark)?pe(r,i.children[0],e-1):(n.push(i),i.setParent(t)),t.length+=i.length}function ge(t,i,e){for(let r=0,n=0;n<t.children.length;n++){let s=t.children[n],o=r+s.length;if(!(o==r&&s.getSide()<=0)){if(e<=0||o==t.length?o>=i:o>i)return s.coordsAt(i-r,e);r=o}}return(t.dom.lastChild||t.dom).getBoundingClientRect()}function ve(t,i){for(let e in t)"class"==e&&i.class?i.class+=" "+t.class:"style"==e&&i.style?i.style+=";"+t.style:i[e]=t[e];return i}function we(t,i){if(t==i)return!0;if(!t||!i)return!1;let e=Object.keys(t),r=Object.keys(i);if(e.length!=r.length)return!1;for(let n of e)if(-1==r.indexOf(n)||t[n]!==i[n])return!1;return!0}function Qe(t,i,e){if(i)for(let r in i)e&&r in e||t.removeAttribute(r);if(e)for(let r in e)i&&i[r]==e[r]||t.setAttribute(r,e[r])}class be{eq(t){return!1}updateDOM(t){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}get customView(){return null}}var $e;!function(t){t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange"}($e||($e={}));class Se extends si{constructor(t,i,e,r){super(),this.startSide=t,this.endSide=i,this.widget=e,this.spec=r}get heightRelevant(){return!1}static mark(t){return new ye(t)}static widget(t){let i=t.side||0;return t.block&&(i+=200000001*(i>0?1:-1)),new ke(t,i,i,!!t.block,t.widget||null,!1)}static replace(t){let i=!!t.block,{start:e,end:r}=Le(t);return new ke(t,i?-2e8*(e?2:1):1e8*(e?-1:1),i?2e8*(r?2:1):1e8*(r?1:-1),i,t.widget||null,!0)}static line(t){return new xe(t)}static set(t,i=!1){return ci.of(t,i)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Se.none=ci.empty;class ye extends Se{constructor(t){let{start:i,end:e}=Le(t);super(1e8*(i?-1:1),1e8*(e?1:-1),null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof ye&&this.tagName==t.tagName&&this.class==t.class&&we(this.attrs,t.attrs)}range(t,i=t){if(t>=i)throw new RangeError("Mark decorations may not be empty");return super.range(t,i)}}ye.prototype.point=!1;class xe extends Se{constructor(t){super(-1e8,-1e8,null,t)}eq(t){return t instanceof xe&&we(this.spec.attributes,t.spec.attributes)}range(t,i=t){if(i!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,i)}}xe.prototype.mapMode=nt.TrackBefore,xe.prototype.point=!0;class ke extends Se{constructor(t,i,e,r,n,s){super(i,e,n,t),this.block=r,this.isReplace=s,this.mapMode=r?i<0?nt.TrackBefore:nt.TrackAfter:nt.TrackDel}get type(){return this.startSide<this.endSide?$e.WidgetRange:this.startSide<0?$e.WidgetBefore:$e.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof ke&&((i=this.widget)==(e=t.widget)||!!(i&&e&&i.compare(e)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var i,e}range(t,i=t){if(this.isReplace&&(t>i||t==i&&this.startSide>0&&this.endSide<0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,i)}}function Le(t){let{inclusiveStart:i,inclusiveEnd:e}=t;return null==i&&(i=t.inclusive),null==e&&(e=t.inclusive),{start:i||!1,end:e||!1}}function Pe(t,i,e){let r=e.length-1;r>=0&&e[r]+4>t?e[r]=Math.max(e[r],i):e.push(t,i)}ke.prototype.point=!0;const Xe=vt.define({combine:t=>t.join(" ")}),Re=vt.define({combine:t=>t.indexOf(!0)>-1}),Ue=ei.newName();function qe(t){return t.replace(/\$\w[\w\.]*/g,(t=>{let i=t.slice(1).split("."),e="";for(let r=1;r<=i.length;r++)e+=".cm-"+i.slice(0,r).join("-");return e}))}function je(t,i){return new ei(i,{process:i=>(i=qe(i),/\$/.test(i)?i.replace(/\$/,t):t+" "+i),extend:(i,e)=>(i=qe(i),e.slice(0,t.length+1)==t+" "?t+" "+i.replace(/&/,e.slice(t.length+1)):i.replace(/&/,e))})}function Me(t){if(t.indexOf(".")<0)return"cm-"+t;let i=t.split("."),e="";for(let r=1;r<=i.length;r++)e+=(e?" ":"")+"cm-"+i.slice(0,r).join("-");return e}const Te=je("."+Ue,{$:{position:"relative !important",boxSizing:"border-box","&$focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},$scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},$content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"$$light $content":{caretColor:"black"},"$$dark $content":{caretColor:"white"},$line:{display:"block",padding:"0 2px 0 4px"},$selectionLayer:{zIndex:-1,contain:"size style"},$selectionBackground:{position:"absolute"},"$$light $selectionBackground":{background:"#d9d9d9"},"$$dark $selectionBackground":{background:"#222"},"$$focused$light $selectionBackground":{background:"#d7d4f0"},"$$focused$dark $selectionBackground":{background:"#233"},$cursorLayer:{zIndex:100,contain:"size style",pointerEvents:"none"},"$$focused $cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},$cursor:{position:"absolute",borderLeft:"1.2px solid #aaa",marginLeft:"-0.6px",pointerEvents:"none"},"$$focused $cursor":{borderLeft:"1.2px solid black"},$placeholder:{color:"#888",display:"inline-block"},$button:{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"$$light $button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"$$dark $button":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},$textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"$$light $textfield":{backgroundColor:"white"},"$$dark $textfield":{border:"1px solid #555",backgroundColor:"inherit"}}),_e=Me("line");class Ee extends re{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,i,e,r,n,s){if(e){if(!(e instanceof Ee))return!1;this.dom||e.transferDOM(this)}return r&&this.setDeco(e?e.attrs:null),Oe(this,t,i,e?e.children:We,n,s),!0}split(t){let i=new Ee;if(i.breakAfter=this.breakAfter,0==this.length)return i;let{i:e,off:r}=this.childPos(t);r&&(i.append(this.children[e].slice(r),0),this.children[e].merge(r,this.children[e].length,null,0,0),e++);for(let n=e;n<this.children.length;n++)i.append(this.children[n],0);for(;e>0&&0==this.children[e-1].length;)this.children[e-1].parent=null,e--;return this.children.length=e,this.markDirty(),this.length=t,i}transferDOM(t){this.dom&&(t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){we(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,i){pe(this,t,i)}addLineDeco(t){let i=t.spec.attributes;i&&(this.attrs=ve(i,this.attrs||{}))}domAtPos(t){return me(this.dom,this.children,t)}sync(t){this.dom||(this.setDOM(document.createElement("div")),this.dom.className=_e,this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Qe(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(_e),this.prevAttrs=void 0),super.sync(t);let i=this.dom.lastChild;if(!i||"BR"!=i.nodeName&&re.get(i)instanceof fe){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t=0;for(let i of this.children){if(!(i instanceof he))return null;let e=Gi(i.dom);if(1!=e.length)return null;t+=e[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}}coordsAt(t,i){return ge(this,t,i)}match(t){return!1}get type(){return $e.Text}static find(t,i){for(let e=0,r=0;;e++){let n=t.children[e],s=r+n.length;if(s>=i){if(n instanceof Ee)return n;if(n.length)return null}r=s+n.breakAfter}}}const We=[];class Ae extends re{constructor(t,i,e){super(),this.widget=t,this.length=i,this.type=e,this.breakAfter=0}merge(t,i,e,r,n,s){return!(e&&(!(e instanceof Ae&&this.widget.compare(e.widget))||t>0&&n<=0||i<this.length&&s<=0)||(this.length=t+(e?e.length:0)+(this.length-i),0))}domAtPos(t){return 0==t?ie.before(this.dom):ie.after(this.dom,t==this.length)}split(t){let i=this.length-t;return this.length=t,new Ae(this.widget,i,this.type)}get children(){return We}sync(){this.dom&&this.widget.updateDOM(this.dom)||(this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):y.empty}domBoundsAround(){return null}match(t){return t instanceof Ae&&t.type==this.type&&t.widget.constructor==this.widget.constructor&&(t.widget.eq(this.widget)||this.markDirty(!0),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0)}}class Ve{constructor(t,i,e){this.doc=t,this.pos=i,this.end=e,this.content=[],this.curLine=null,this.breakAtStart=0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=i}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof Ae&&t.type==$e.WidgetBefore)}getLine(){return this.curLine||this.content.push(this.curLine=new Ee),this.curLine}addWidget(t){this.curLine=null,this.content.push(t)}finish(){this.posCovered()||this.getLine()}wrapMarks(t,i){for(let e=i.length-1;e>=0;e--)t=new ce(i[e],[t],t.length);return t}buildText(t,i,e){for(;t>0;){if(this.textOff==this.text.length){let{value:i,lineBreak:e,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(e){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.curLine=null,t--;continue}this.text=i,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t);this.getLine().append(this.wrapMarks(new he(this.text.slice(this.textOff,this.textOff+r)),i),e),t-=r,this.textOff+=r}}span(t,i,e,r){this.buildText(i-t,e,r),this.pos=i,this.openStart<0&&(this.openStart=r)}point(t,i,e,r,n){let s=i-t;if(e instanceof ke)if(e.block){let{type:t}=e;t!=$e.WidgetAfter||this.posCovered()||this.getLine(),this.addWidget(new Ae(e.widget||new Ce("div"),s,t))}else{let t=this.wrapMarks(fe.create(e.widget||new Ce("span"),s,e.startSide),r);this.getLine().append(t,n)}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(e);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i),this.openStart<0&&(this.openStart=n)}static build(t,i,e,r){let n=new Ve(t,i,e);return n.openEnd=ci.spans(r,i,e,n),n.openStart<0&&(n.openStart=n.openEnd),n.finish(),n}}class Ce extends be{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}}var Ie;!function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(Ie||(Ie={}));const Ge=Ie.LTR,ze=Ie.RTL;function De(t){let i=[];for(let e=0;e<t.length;e++)i.push(1<<+t[e]);return i}const Ye=De("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Fe=De("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Be=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Ze{constructor(t,i,e){this.from=t,this.to=i,this.level=e}get dir(){return this.level%2?ze:Ge}side(t,i){return this.dir==i==t?this.to:this.from}static find(t,i,e,r){let n=-1;for(let s=0;s<t.length;s++){let o=t[s];if(o.from<=i&&o.to>=i){if(o.level==e)return s;(n<0||(0!=r?r<0?o.from<i:o.to>i:t[n].level>o.level))&&(n=s)}}if(n<0)throw new RangeError("Index out of range");return n}}const Ne=[];function He(t){return[new Ze(0,t,0)]}let Je="";function Ke(t,i,e,r,n){var s;let o=r.head-t.from,l=-1;if(0==o){if(!n||!t.length)return null;i[0].level!=e&&(o=i[0].side(!1,e),l=0)}else if(o==t.length){if(n)return null;let t=i[i.length-1];t.level!=e&&(o=t.side(!0,e),l=i.length-1)}l<0&&(l=Ze.find(i,o,null!==(s=r.bidiLevel)&&void 0!==s?s:-1,r.assoc));let a=i[l];o==a.side(n,e)&&(a=i[l+=n?1:-1],o=a.side(!n,e));let h=n==(a.dir==e),c=t.findClusterBreak(o,h);if(Je=t.slice(Math.min(o,c),Math.max(o,c)),c!=a.side(n,e))return Ot.cursor(c+t.from,h?-1:1,a.level);let u=l==(n?i.length-1:0)?null:i[l+(n?1:-1)];return u||a.level==e?u&&u.level<a.level?Ot.cursor(u.side(!n,e)+t.from,0,u.level):Ot.cursor(c+t.from,0,a.level):Ot.cursor(n?t.to:t.from,n?-1:1,e)}const tr=["pre-wrap","normal","pre-line"];class ir{constructor(){this.doc=y.empty,this.lineWrapping=!1,this.direction=Ie.LTR,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(t,i){let e=this.doc.lineAt(i).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(e+=Math.ceil((i-t-e*this.lineLength*.5)/this.lineLength)),this.lineHeight*e}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefresh(t,i,e){let r=!1;for(let n=0;n<t.length;n++){let i=t[n];i<0?n++:this.heightSamples[Math.floor(10*i)]||(r=!0,this.heightSamples[Math.floor(10*i)]=!0)}return r||tr.indexOf(i)>-1!=this.lineWrapping||this.direction!=e}refresh(t,i,e,r,n,s){let o=tr.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o||this.direction!=i;if(this.lineWrapping=o,this.direction=i,this.lineHeight=e,this.charWidth=r,this.lineLength=n,l){this.heightSamples={};for(let t=0;t<s.length;t++){let i=s[t];i<0?t++:this.heightSamples[Math.floor(10*i)]=!0}}return l}}class er{constructor(t,i){this.from=t,this.heights=i,this.index=0}get more(){return this.index<this.heights.length}}class rr{constructor(t,i,e,r,n){this.from=t,this.length=i,this.top=e,this.height=r,this.type=n}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let i=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new rr(this.from,this.length+t.length,this.top,this.height+t.height,i)}}var nr;!function(t){t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight"}(nr||(nr={}));class sr{constructor(t,i,e=2){this.length=t,this.height=i,this.flags=e}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,i){this.height!=i&&(Math.abs(this.height-i)>1e-4&&(t.heightChanged=!0),this.height=i)}replace(t,i,e){return sr.of(e)}decomposeLeft(t,i){i.push(this)}decomposeRight(t,i){i.push(this)}applyChanges(t,i,e,r){let n=this;for(let s=r.length-1;s>=0;s--){let{fromA:o,toA:l,fromB:a,toB:h}=r[s],c=n.lineAt(o,nr.ByPosNoHeight,i,0,0),u=c.to>=l?c:n.lineAt(l,nr.ByPosNoHeight,i,0,0);for(h+=u.to-l,l=u.to;s>0&&c.from<=r[s-1].toA;)o=r[s-1].fromA,a=r[s-1].fromB,s--,o<c.from&&(c=n.lineAt(o,nr.ByPosNoHeight,i,0,0));a+=c.from-o,o=c.from;let f=ur.build(e,t,a,h);n=n.replace(o,l,f)}return n.updateHeight(e,0)}static empty(){return new lr(0,0)}static of(t){if(1==t.length)return t[0];let i=0,e=t.length,r=0,n=0;for(;;)if(i==e)if(r>2*n){let n=t[i-1];n.break?t.splice(--i,1,n.left,null,n.right):t.splice(--i,1,n.left,n.right),e+=1+n.break,r-=n.size}else{if(!(n>2*r))break;{let i=t[e];i.break?t.splice(e,1,i.left,null,i.right):t.splice(e,1,i.left,i.right),e+=2+i.break,n-=i.size}}else if(r<n){let e=t[i++];e&&(r+=e.size)}else{let i=t[--e];i&&(n+=i.size)}let s=0;return null==t[i-1]?(s=1,i--):null==t[i]&&(s=1,e++),new hr(sr.of(t.slice(0,i)),s,sr.of(t.slice(e)))}}sr.prototype.size=1;class or extends sr{constructor(t,i,e){super(t,i),this.type=e}blockAt(t,i,e,r){return new rr(r,this.length,e,this.height,this.type)}lineAt(t,i,e,r,n){return this.blockAt(0,e,r,n)}forEachLine(t,i,e,r,n,s){s(this.blockAt(0,e,r,n))}updateHeight(t,i=0,e=!1,r){return r&&r.from<=i&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class lr extends or{constructor(t,i){super(t,i,$e.Text),this.collapsed=0,this.widgetHeight=0}replace(t,i,e){let r=e[0];return 1==e.length&&(r instanceof lr||r instanceof ar&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof ar?r=new lr(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):sr.of(e)}updateHeight(t,i=0,e=!1,r){return r&&r.from<=i&&r.more?this.setHeight(t,r.heights[r.index++]):(e||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ar extends sr{constructor(t){super(t,0)}lines(t,i){let e=t.lineAt(i).number,r=t.lineAt(i+this.length).number;return{firstLine:e,lastLine:r,lineHeight:this.height/(r-e+1)}}blockAt(t,i,e,r){let{firstLine:n,lastLine:s,lineHeight:o}=this.lines(i,r),l=Math.max(0,Math.min(s-n,Math.floor((t-e)/o))),{from:a,length:h}=i.line(n+l);return new rr(a,h,e+o*l,o,$e.Text)}lineAt(t,i,e,r,n){if(i==nr.ByHeight)return this.blockAt(t,e,r,n);if(i==nr.ByPosNoHeight){let{from:i,to:r}=e.lineAt(t);return new rr(i,r-i,0,0,$e.Text)}let{firstLine:s,lineHeight:o}=this.lines(e,n),{from:l,length:a,number:h}=e.lineAt(t);return new rr(l,a,r+o*(h-s),o,$e.Text)}forEachLine(t,i,e,r,n,s){let{firstLine:o,lineHeight:l}=this.lines(e,n);for(let a=t;a<i;){let i=e.lineAt(a);a==t&&(r+=l*(i.number-o)),s(new rr(i.from,i.length,r,r+=l,$e.Text)),a=i.to+1}}replace(t,i,e){let r=this.length-i;if(r>0){let t=e[e.length-1];t instanceof ar?e[e.length-1]=new ar(t.length+r):e.push(null,new ar(r-1))}if(t>0){let i=e[0];i instanceof ar?e[0]=new ar(t+i.length):e.unshift(new ar(t-1),null)}return sr.of(e)}decomposeLeft(t,i){i.push(new ar(t-1),null)}decomposeRight(t,i){i.push(null,new ar(this.length-t-1))}updateHeight(t,i=0,e=!1,r){let n=i+this.length;if(r&&r.from<=i+this.length&&r.more){let e=[],s=Math.max(i,r.from);for(r.from>i&&e.push(new ar(r.from-i-1).updateHeight(t,i));s<=n&&r.more;){let i=t.doc.lineAt(s).length;e.length&&e.push(null);let n=new lr(i,r.heights[r.index++]);n.outdated=!1,e.push(n),s+=i+1}return s<=n&&e.push(null,new ar(n-s).updateHeight(t,s)),t.heightChanged=!0,sr.of(e)}return(e||this.outdated)&&(this.setHeight(t,t.heightForGap(i,i+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class hr extends sr{constructor(t,i,e){super(t.length+i+e.length,t.height+e.height,i|(t.outdated||e.outdated?2:0)),this.left=t,this.right=e,this.size=t.size+e.size}get break(){return 1&this.flags}blockAt(t,i,e,r){let n=e+this.left.height;return t<n||0==this.right.height?this.left.blockAt(t,i,e,r):this.right.blockAt(t,i,n,r+this.left.length+this.break)}lineAt(t,i,e,r,n){let s=r+this.left.height,o=n+this.left.length+this.break,l=i==nr.ByHeight?t<s||0==this.right.height:t<o,a=l?this.left.lineAt(t,i,e,r,n):this.right.lineAt(t,i,e,s,o);if(this.break||(l?a.to<o:a.from>o))return a;let h=i==nr.ByPosNoHeight?nr.ByPosNoHeight:nr.ByPos;return l?a.join(this.right.lineAt(o,h,e,s,o)):this.left.lineAt(o,h,e,r,n).join(a)}forEachLine(t,i,e,r,n,s){let o=r+this.left.height,l=n+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,i,e,r,n,s),i>=l&&this.right.forEachLine(t,i,e,o,l,s);else{let a=this.lineAt(l,nr.ByPos,e,r,n);t<a.from&&this.left.forEachLine(t,a.from-1,e,r,n,s),a.to>=t&&a.from<=i&&s(a),i>a.to&&this.right.forEachLine(a.to+1,i,e,o,l,s)}}replace(t,i,e){let r=this.left.length+this.break;if(i<r)return this.balanced(this.left.replace(t,i,e),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,i-r,e));let n=[];t>0&&this.decomposeLeft(t,n);let s=n.length;for(let o of e)n.push(o);if(t>0&&cr(n,s-1),i<this.length){let t=n.length;this.decomposeRight(i,n),cr(n,t)}return sr.of(n)}decomposeLeft(t,i){let e=this.left.length;if(t<=e)return this.left.decomposeLeft(t,i);i.push(this.left),this.break&&(e++,t>=e&&i.push(null)),t>e&&this.right.decomposeLeft(t-e,i)}decomposeRight(t,i){let e=this.left.length,r=e+this.break;if(t>=r)return this.right.decomposeRight(t-r,i);t<e&&this.left.decomposeRight(t,i),this.break&&t<r&&i.push(null),i.push(this.right)}balanced(t,i){return t.size>2*i.size||i.size>2*t.size?sr.of(this.break?[t,null,i]:[t,i]):(this.left=t,this.right=i,this.height=t.height+i.height,this.outdated=t.outdated||i.outdated,this.size=t.size+i.size,this.length=t.length+this.break+i.length,this)}updateHeight(t,i=0,e=!1,r){let{left:n,right:s}=this,o=i+n.length+this.break,l=null;return r&&r.from<=i+n.length&&r.more?l=n=n.updateHeight(t,i,e,r):n.updateHeight(t,i,e),r&&r.from<=o+s.length&&r.more?l=s=s.updateHeight(t,o,e,r):s.updateHeight(t,o,e),l?this.balanced(n,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function cr(t,i){let e,r;null==t[i]&&(e=t[i-1])instanceof ar&&(r=t[i+1])instanceof ar&&t.splice(i-1,3,new ar(e.length+1+r.length))}class ur{constructor(t,i){this.pos=t,this.oracle=i,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,i){if(this.lineStart>-1){let t=Math.min(i,this.lineEnd),e=this.nodes[this.nodes.length-1];e instanceof lr?e.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new lr(t-this.pos,-1)),this.writtenTo=t,i>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i}point(t,i,e){if(t<i||e.heightRelevant){let r=e.widget?Math.max(0,e.widget.estimatedHeight):0,n=i-t;e.block?this.addBlock(new or(n,r,e.type)):(n||r>=5)&&this.addLineDeco(r,n)}else i>t&&this.span(t,i);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:i}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=i,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new lr(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,i){let e=new ar(i-t);return this.oracle.doc.lineAt(t).to==i&&(e.flags|=4),e}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof lr)return t;let i=new lr(0,-1);return this.nodes.push(i),i}addBlock(t){this.enterLine(),t.type!=$e.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=$e.WidgetBefore&&(this.covering=t)}addLineDeco(t,i){let e=this.ensureLine();e.length+=i,e.collapsed+=i,e.widgetHeight=Math.max(e.widgetHeight,t),this.writtenTo=this.pos=this.pos+i}finish(t){let i=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||i instanceof lr||this.isCovered?(this.writtenTo<this.pos||null==i)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new lr(0,-1));let e=t;for(let r of this.nodes)r instanceof lr&&r.updateHeight(this.oracle,e),e+=r?r.length:1;return this.nodes}static build(t,i,e,r){let n=new ur(e,t);return ci.spans(i,e,r,n),n.finish(e)}get minPointSize(){return 0}}class fr{constructor(){this.changes=[]}compareRange(){}comparePoint(t,i,e,r){(t<i||e&&e.heightRelevant||r&&r.heightRelevant)&&Pe(t,i,this.changes)}get minPointSize(){return 0}}const dr=[],Or=vt.define(),mr=vt.define(),pr=vt.define(),gr=vt.define(),vr=vt.define(),wr=vt.define();function Qr(t,i,e){let r=t.facet(gr);r.length?r[0](i):window.onerror?window.onerror(String(i),e,void 0,void 0,i):e?console.error(e+":",i):console.error(i)}const br=vt.define({combine:t=>!t.length||t[0]});class $r{constructor(t,i){this.field=t,this.get=i}}class Sr{from(t){return new $r(this,t)}static define(){return new Sr}}Sr.scrollMargins=Sr.define();let yr=0;const xr=vt.define();class kr{constructor(t,i,e){this.id=t,this.create=i,this.fields=e,this.extension=xr.of(this)}static define(t,i){let{eventHandlers:e,provide:r,decorations:n}=i||{},s=[];if(r)for(let o of Array.isArray(r)?r:[r])s.push(o);if(e&&s.push(Pr.from((t=>({plugin:t,handlers:e})))),n)for(let o of Array.isArray(n)?n:[n])s.push(Lr.from(o));return new kr(yr++,t,s)}static fromClass(t,i){return kr.define((i=>new t(i)),i)}}const Lr=Sr.define(),Pr=Sr.define();class Xr{constructor(t,i){this.value=t,this.spec=i}static create(t,i){let e;try{e=t.create(i)}catch(r){return Qr(i.state,r,"CodeMirror plugin crashed"),Xr.dummy}return new Xr(e,t)}takeField(t,i){for(let{field:e,get:r}of this.spec.fields)e==t&&i.push(r(this.value))}update(t){if(!this.value.update)return this;try{return this.value.update(t),this}catch(i){if(Qr(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(Mh){}return Xr.dummy}}destroy(t){if(this.value.destroy)try{this.value.destroy()}catch(i){Qr(t.state,i,"CodeMirror plugin crashed")}}}Xr.dummy=new Xr({},kr.define((()=>({}))));const Rr=vt.define({combine:t=>t.reduce(((t,i)=>ve(i,t)),{})}),Ur=vt.define({combine:t=>t.reduce(((t,i)=>ve(i,t)),{})}),qr=vt.define(),jr=vt.define();class Mr{constructor(t,i,e,r){this.fromA=t,this.toA=i,this.fromB=e,this.toB=r}join(t){return new Mr(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let i=t.length,e=this;for(;i>0;i--){let r=t[i-1];if(!(r.fromA>e.toA)){if(r.toA<e.fromA)break;e=e.join(r),t.splice(i-1,1)}}return t.splice(i,0,e),t}static extendWithRanges(t,i){if(0==i.length)return t;let e=[];for(let r=0,n=0,s=0,o=0;;r++){let l=r==t.length?null:t[r],a=s-o,h=l?l.fromB:1e9;for(;n<i.length&&i[n]<h;){let t=i[n+1],r=Math.max(o,i[n]),s=Math.min(h,t);if(r<=s&&new Mr(r+a,s+a,r,s).addToSet(e),t>h)break;n+=2}if(!l)return e;new Mr(l.fromA,l.toA,l.fromB,l.toB).addToSet(e),s=l.toA,o=l.toB}}}class Tr{constructor(t,i,e=dr){this.view=t,this.state=i,this.transactions=e,this.flags=0,this.prevState=t.state,this.changes=ot.empty(this.prevState.doc.length);for(let s of e)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges(((t,i,e,n)=>r.push(new Mr(t,i,e,n)))),this.changedRanges=r;let n=t.hasFocus;n!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=n),this.docChanged&&(this.flags|=2)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return this.transactions.some((t=>t.docChanged))}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class _r{constructor(t,i,e){this.from=t,this.to=i,this.size=e}static same(t,i){if(t.length!=i.length)return!1;for(let e=0;e<t.length;e++){let r=t[e],n=i[e];if(r.from!=n.from||r.to!=n.to||r.size!=n.size)return!1}return!0}draw(t){return Se.replace({widget:new Er(this.size,t)}).range(this.from,this.to)}}class Er extends be{constructor(t,i){super(),this.size=t,this.vertical=i}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class Wr{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentWidth=0,this.heightOracle=new ir,this.heightMap=sr.empty(),this.scrollTo=null,this.printing=!1,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.heightMap=this.heightMap.applyChanges(t.facet(qr),y.empty,this.heightOracle.setDoc(t.doc),[new Mr(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Se.set(this.lineGaps.map((t=>t.draw(!1)))),this.computeVisibleRanges()}update(t,i=null){let e=this.state;this.state=t.state;let r=this.state.facet(qr),n=Mr.extendWithRanges(t.changedRanges,function(t,i,e){let r=new fr;return ci.compare(t,i,e,r),r.changes}(t.prevState.facet(qr),r,t?t.changes:ot.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(r,e.doc,this.heightOracle.setDoc(this.state.doc),n),this.heightMap.height!=s&&(t.flags|=2);let o=n.length?this.mapViewport(this.viewport,t.changes):this.viewport;(i&&(i.head<o.from||i.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,i)),o.eq(this.viewport)||(this.viewport=o,t.flags|=4),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(t.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes)))),this.computeVisibleRanges(),i&&(this.scrollTo=i),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.primary.empty&&t.state.selection.primary.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(t,i){let e=t.dom,r="",n=Ie.LTR;if(!i){let t=window.getComputedStyle(e);r=t.whiteSpace,n="rtl"==t.direction?Ie.RTL:Ie.LTR,this.paddingTop=parseInt(t.paddingTop)||0,this.paddingBottom=parseInt(t.paddingBottom)||0}let s=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:function(t,i){let e=t.getBoundingClientRect(),r=Math.max(0,e.left),n=Math.min(innerWidth,e.right),s=Math.max(0,e.top),o=Math.min(innerHeight,e.bottom);for(let l=t.parentNode;l;)if(1==l.nodeType){if((l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth)&&"visible"!=window.getComputedStyle(l).overflow){let t=l.getBoundingClientRect();r=Math.max(r,t.left),n=Math.min(n,t.right),s=Math.max(s,t.top),o=Math.min(o,t.bottom)}l=l.parentNode}else{if(11!=l.nodeType)break;l=l.host}return{left:r-e.left,right:n-e.left,top:s-(e.top+i),bottom:o-(e.top+i)}}(e,this.paddingTop),o=s.top-this.pixelViewport.top,l=s.bottom-this.pixelViewport.bottom;if(this.pixelViewport=s,this.inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left,!this.inView)return 0;let a=t.measureVisibleLineHeights(),h=!1,c=0,u=0,f=this.heightOracle;if(!i){let i=t.dom.clientWidth;if(f.mustRefresh(a,r,n)||f.lineWrapping&&Math.abs(i-this.contentWidth)>f.charWidth){let{lineHeight:e,charWidth:s}=t.measureTextSize();h=f.refresh(r,n,e,s,i/s,a),h&&(t.minWidth=0,u|=16)}this.contentWidth!=i&&(this.contentWidth=i,u|=16),o>0&&l>0?c=Math.max(o,l):o<0&&l<0&&(c=Math.min(o,l))}return f.heightChanged=!1,this.heightMap=this.heightMap.updateHeight(f,0,h,new er(this.viewport.from,a)),f.heightChanged&&(u|=2),(!this.viewportIsAppropriate(this.viewport,c)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to))&&(this.viewport=this.getViewport(c,this.scrollTo),u|=4),(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)&&(u|=this.updateLineGaps(this.ensureLineGaps(h?[]:this.lineGaps))),this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.enforceCursorAssoc()),u}getViewport(t,i){let e=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,n=this.state.doc,{top:s,bottom:o}=this.pixelViewport,l=new Ar(r.lineAt(s-1e3*e,nr.ByHeight,n,0,0).from,r.lineAt(o+1e3*(1-e),nr.ByHeight,n,0,0).to);if(i)if(i.head<l.from){let{top:t}=r.lineAt(i.head,nr.ByPos,n,0,0);l=new Ar(r.lineAt(t-500,nr.ByHeight,n,0,0).from,r.lineAt(t+(o-s)+500,nr.ByHeight,n,0,0).to)}else if(i.head>l.to){let{bottom:t}=r.lineAt(i.head,nr.ByPos,n,0,0);l=new Ar(r.lineAt(t-(o-s)-500,nr.ByHeight,n,0,0).from,r.lineAt(t+500,nr.ByHeight,n,0,0).to)}return l}mapViewport(t,i){let e=i.mapPos(t.from,-1),r=i.mapPos(t.to,1);return new Ar(this.heightMap.lineAt(e,nr.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,nr.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:t,to:i},e=0){let{top:r}=this.heightMap.lineAt(t,nr.ByPos,this.state.doc,0,0),{bottom:n}=this.heightMap.lineAt(i,nr.ByPos,this.state.doc,0,0);return(0==t||r<=this.pixelViewport.top-Math.max(10,Math.min(-e,250)))&&(i==this.state.doc.length||n>=this.pixelViewport.bottom+Math.max(10,Math.min(e,250)))&&r>this.pixelViewport.top-2e3&&n<this.pixelViewport.bottom+2e3}mapLineGaps(t,i){if(!t.length||i.empty)return t;let e=[];for(let r of t)i.touchesRange(r.from,r.to)||e.push(new _r(i.mapPos(r.from),i.mapPos(r.to),r.size));return e}ensureLineGaps(t){let i=[];return this.heightOracle.direction!=Ie.LTR||this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(e=>{if(e.length<1e4)return;let r,n,s=function(t,i,e){let r=[],n=t,s=0;return ci.spans(e.facet(qr),t,i,{span(){},point(t,i){t>n&&(r.push({from:n,to:t}),s+=t-n),n=i},minPointSize:20}),n<i&&(r.push({from:n,to:i}),s+=i-n),{total:s,ranges:r}}(e.from,e.to,this.state);if(s.total<1e4)return;if(this.heightOracle.lineWrapping)r=e.from!=this.viewport.from?e.from:Vr(s,(this.pixelViewport.top-e.top)/e.height),n=e.to!=this.viewport.to?e.to:Vr(s,(this.pixelViewport.bottom-e.top)/e.height);else{let t=s.total*this.heightOracle.charWidth;r=Vr(s,this.pixelViewport.left/t),n=Vr(s,this.pixelViewport.right/t)}let o=this.state.selection.primary;o.from<=r&&o.to>=e.from&&(r=o.from),o.from<=e.to&&o.to>=n&&(n=o.to);let l=r-1e4,a=n+1e4;l>e.from+5e3&&i.push(Ir(t,(t=>t.from==e.from&&t.to>l-5e3&&t.to<l+5e3))||new _r(e.from,l,this.gapSize(e,l,!0,s))),a<e.to-5e3&&i.push(Ir(t,(t=>t.to==e.to&&t.from>a-5e3&&t.from<a+5e3))||new _r(a,e.to,this.gapSize(e,a,!1,s)))})),i}gapSize(t,i,e,r){if(this.heightOracle.lineWrapping){let n=t.height*Cr(r,i);return e?n:t.height-n}{let t=Cr(r,i);return r.total*this.heightOracle.charWidth*(e?t:1-t)}}updateLineGaps(t){return _r.same(t,this.lineGaps)?0:(this.lineGaps=t,this.lineGapDeco=Se.set(t.map((t=>t.draw(this.heightOracle.lineWrapping)))),8)}computeVisibleRanges(){let t=this.state.facet(qr);this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];ci.spans(t,this.viewport.from,this.viewport.to,{span(t,e){i.push({from:t,to:e})},point(){},minPointSize:20}),this.visibleRanges=i}lineAt(t,i){return this.heightMap.lineAt(t,nr.ByPos,this.state.doc,i+this.paddingTop,0)}lineAtHeight(t,i){return this.heightMap.lineAt(t,nr.ByHeight,this.state.doc,i+this.paddingTop,0)}blockAtHeight(t,i){return this.heightMap.blockAt(t,this.state.doc,i+this.paddingTop,0)}forEachLine(t,i,e,r){return this.heightMap.forEachLine(t,i,this.state.doc,r+this.paddingTop,0,e)}}class Ar{constructor(t,i){this.from=t,this.to=i}eq(t){return this.from==t.from&&this.to==t.to}}function Vr({total:t,ranges:i},e){if(e<=0)return i[0].from;if(e>=1)return i[i.length-1].to;let r=Math.floor(t*e);for(let n=0;;n++){let{from:t,to:e}=i[n],s=e-t;if(r<=s)return t+r;r-=s}}function Cr(t,i){let e=0;for(let{from:r,to:n}of t.ranges){if(i<=n){e+=i-r;break}e+=n-r}return e/t.total}function Ir(t,i){for(let e of t)if(i(e))return e}const Gr=[];class zr extends re{constructor(t){super(),this.view=t,this.viewports=Gr,this.compositionDeco=Se.none,this.decorations=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.setDOM(t.contentDOM),this.children=[new Ee],this.children[0].setParent(this),this.updateInner([new Mr(0,0,0,t.state.doc.length)],this.updateDeco(),0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(t){var i;let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every((({fromA:t,toA:i})=>i<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=0),(null===(i=this.view.inputState)||void 0===i?void 0:i.composing)?t.transactions.length&&(this.compositionDeco=function(t,i){let e=Ci(t.root),r=e.focusNode&&Fr(e.focusNode,e.focusOffset,0);if(!r)return Se.none;let n,s,o=t.docView.nearest(r),l=r;if(o instanceof ae){for(;o.parent instanceof ae;)o=o.parent;n=o.posAtStart,s=n+o.length,l=o.dom}else{if(!(o instanceof Ee))return Se.none;{for(;l.parentNode!=o.dom;)l=l.parentNode;let t=l.previousSibling;for(;t&&!re.get(t);)t=t.previousSibling;n=s=t?re.get(t).posAtEnd:o.posAtStart}}let a=i.mapPos(n,1),h=Math.max(a,i.mapPos(s,-1)),c=r.nodeValue,{state:u}=t;if(h-a<c.length)if(u.sliceDoc(a,Math.min(u.doc.length,a+c.length))==c)h=a+c.length;else{if(u.sliceDoc(Math.max(0,h-c.length),h)!=c)return Se.none;a=h-c.length}else if(u.sliceDoc(a,h)!=c)return Se.none;return Se.set(Se.replace({widget:new Yr(l,r)}).range(a,h))}(this.view,t.changes)):this.compositionDeco=Se.none;let r=(Vi.ie||Vi.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.prevState.doc.lines,n=this.decorations,s=this.updateDeco(),o=function(t,i,e){let r=new Zr;return ci.compare(t,i,e,r),r.changes}(n,s,t.changes);e=Mr.extendWithRanges(e,o);let l=t.transactions.some((t=>"pointerselection"==t.annotation(It.userEvent)));return 0==this.dirty&&0==e.length&&!(12&t.flags)&&t.state.selection.primary.from>=this.view.viewport.from&&t.state.selection.primary.to<=this.view.viewport.to?(this.updateSelection(r,l),!1):(this.updateInner(e,s,t.prevState.doc.length,r,l),!0)}updateInner(t,i,e,r=!1,n=!1){this.updateChildren(t,i,e),this.view.observer.ignore((()=>{this.dom.style.height=this.view.viewState.heightMap.height+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let t=Vi.chrome?{node:Ci(this.view.root).focusNode,written:!1}:void 0;this.sync(t),this.dirty=0,(null==t?void 0:t.written)&&(r=!0),this.updateSelection(r,n),this.dom.style.height=""}))}updateChildren(t,i,e){let r=this.childCursor(e);for(let n=t.length-1;;n--){let e=n>=0?t[n]:null;if(!e)break;let{fromA:s,toA:o,fromB:l,toB:a}=e,{content:h,breakAtStart:c,openStart:u,openEnd:f}=Ve.build(this.view.state.doc,l,a,i),{i:d,off:O}=r.findPos(o,1),{i:m,off:p}=r.findPos(s,-1);this.replaceRange(m,p,d,O,h,c,u,f)}}replaceRange(t,i,e,r,n,s,o,l){let a=this.children[t],h=n.length?n[n.length-1]:null,c=h?h.breakAfter:s;if(t==e&&!s&&!c&&n.length<2&&a.merge(i,r,n.length?h:null,0==i,o,l))return;let u=this.children[e];for(r<u.length||u.children.length&&0==u.children[u.children.length-1].length?(t==e&&(u=u.split(r),r=0),!c&&h&&u.merge(0,r,h,!0,0,l)?n[n.length-1]=u:((r||u.children.length&&0==u.children[0].length)&&u.merge(0,r,null,!1,0,l),n.push(u))):u.breakAfter&&(h?h.breakAfter=1:s=1),e++,a.breakAfter=s,i>0&&(!s&&n.length&&a.merge(i,a.length,n[0],!1,o,0)?a.breakAfter=n.shift().breakAfter:(i<a.length||a.children.length&&0==a.children[a.children.length-1].length)&&a.merge(i,a.length,null,!1,o,0),t++);t<e&&n.length;)if(this.children[e-1].match(n[n.length-1]))e--,n.pop();else{if(!this.children[t].match(n[0]))break;t++,n.shift()}(t<e||n.length)&&this.replaceChildren(t,e,n)}updateSelection(t=!1,i=!1){if(!i&&!this.mayControlSelection())return;let e=this.view.state.selection.primary,r=this.domAtPos(e.anchor),n=this.domAtPos(e.head),s=Ci(this.root);(t||!s.focusNode||Vi.gecko&&e.empty&&Br(s.focusNode,s.focusOffset)||!zi(r.node,r.offset,s.anchorNode,s.anchorOffset)||!zi(n.node,n.offset,s.focusNode,s.focusOffset))&&this.view.observer.ignore((()=>{if(e.empty){if(Vi.gecko){let t=Br(r.node,r.offset);if(t&&3!=t){let i=Fr(r.node,r.offset,1==t?1:-1);i&&(r=new ie(i,1==t?0:i.nodeValue.length))}}s.collapse(r.node,r.offset),null!=e.bidiLevel&&null!=s.cursorBidiLevel&&(s.cursorBidiLevel=e.bidiLevel)}else if(s.extend)s.collapse(r.node,r.offset),s.extend(n.node,n.offset);else{let t=document.createRange();e.anchor>e.head&&([r,n]=[n,r]),t.setEnd(n.node,n.offset),t.setStart(r.node,r.offset),s.removeAllRanges(),s.addRange(t)}})),this.impreciseAnchor=r.precise?null:new ie(s.anchorNode,s.anchorOffset),this.impreciseHead=n.precise?null:new ie(s.focusNode,s.focusOffset)}enforceCursorAssoc(){let t=this.view.state.selection.primary,i=Ci(this.root);if(!t.empty||!t.assoc||!i.modify)return;let e=Ee.find(this,t.head);if(!e)return;let r=e.posAtStart;if(t.head==r||t.head==r+e.length)return;let n=this.coordsAt(t.head,-1),s=this.coordsAt(t.head,1);if(!n||!s||n.bottom>s.top)return;let o=this.domAtPos(t.head+t.assoc);i.collapse(o.node,o.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(br)?this.root.activeElement==this.dom:Ii(this.dom,Ci(this.root))}nearest(t){for(let i=t;i;){let t=re.get(i);if(t&&t.rootView==this)return t;i=i.parentNode}return null}posFromDOM(t,i){let e=this.nearest(t);if(!e)throw new RangeError("Trying to find position for a DOM position outside of the document");return e.localPosFromDOM(t,i)+e.posAtStart}domAtPos(t){let{i,off:e}=this.childCursor().findPos(t,-1);for(;i<this.children.length-1;){let t=this.children[i];if(e<t.length||t instanceof Ee)break;i++,e=0}return this.children[i].domAtPos(e)}coordsAt(t,i){for(let e=this.length,r=this.children.length-1;;r--){let n=this.children[r],s=e-n.breakAfter-n.length;if(t>=s&&n.type!=$e.WidgetAfter)return n.coordsAt(t-s,i);e=s}}measureVisibleLineHeights(){let t=[],{from:i,to:e}=this.view.viewState.viewport,r=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;for(let n=0,s=0;s<this.children.length;s++){let o=this.children[s],l=n+o.length;if(l>e)break;if(n>=i){t.push(o.dom.getBoundingClientRect().height);let i=o.dom.scrollWidth;i>r&&(this.minWidth=r=i,this.minWidthFrom=n,this.minWidthTo=l)}n=l+o.breakAfter}return t}measureTextSize(){for(let r of this.children)if(r instanceof Ee){let t=r.measureTextSize();if(t)return t}let t,i,e=document.createElement("div");return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(e);let r=Gi(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()})),{lineHeight:t,charWidth:i}}childCursor(t=this.length){let i=this.children.length;return i&&(t-=this.children[--i].length),new oe(this.children,t,i)}computeBlockGapDeco(){let t=this.view.viewState.viewport,i=[t],{head:e,anchor:r}=this.view.state.selection.primary;if(e<t.from||e>t.to){let{from:t,to:r}=this.view.viewState.lineAt(e,0);i.push(new Ar(t,r))}if(!i.some((({from:t,to:i})=>r>=t&&r<=i))){let{from:t,to:e}=this.view.viewState.lineAt(r,0);i.push(new Ar(t,e))}this.viewports=i.sort(((t,i)=>t.from-i.from));let n=[];for(let s=0,o=0;;o++){let t=o==i.length?null:i[o],e=t?t.from-1:this.length;if(e>s){let t=this.view.viewState.lineAt(e,0).bottom-this.view.viewState.lineAt(s,0).top;n.push(Se.replace({widget:new Dr(t),block:!0,inclusive:!0}).range(s,e))}if(!t)break;s=t.to+1}return Se.set(n)}updateDeco(){return this.decorations=[this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco,...this.view.state.facet(qr),...this.view.pluginField(Lr)]}scrollPosIntoView(t,i){let e=this.coordsAt(t,i);if(!e)return;let r=0,n=0,s=0,o=0;for(let l of this.view.pluginField(Sr.scrollMargins))if(l){let{left:t,right:i,top:e,bottom:a}=l;null!=t&&(r=Math.max(r,t)),null!=i&&(n=Math.max(n,i)),null!=e&&(s=Math.max(s,e)),null!=a&&(o=Math.max(o,a))}!function(t,i){let e=t.ownerDocument.defaultView;for(let r=t.parentNode;r;)if(1==r.nodeType){let t,n=r==document.body;if(n)t=Zi(e);else{if(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth){r=r.parentNode;continue}let i=r.getBoundingClientRect();t={left:i.left,right:i.left+r.clientWidth,top:i.top,bottom:i.top+r.clientHeight}}let s=0,o=0;if(i.top<t.top?o=-(t.top-i.top+5):i.bottom>t.bottom&&(o=i.bottom-t.bottom+5),i.left<t.left?s=-(t.left-i.left+5):i.right>t.right&&(s=i.right-t.right+5),s||o)if(n)e.scrollBy(s,o);else{if(o){let t=r.scrollTop;r.scrollTop+=o,o=r.scrollTop-t}if(s){let t=r.scrollLeft;r.scrollLeft+=s,s=r.scrollLeft-t}i={left:i.left-s,top:i.top-o,right:i.right-s,bottom:i.bottom-o}}if(n)break;r=r.parentNode}else{if(11!=r.nodeType)break;r=r.host}}(this.dom,{left:e.left-r,top:e.top-s,right:e.right+n,bottom:e.bottom+o})}}class Dr extends be{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){if(this.height<1e7){for(;t.lastChild;)t.lastChild.remove();t.style.height=this.height+"px"}else{t.style.height="";for(let i=this.height;i>0;i-=1e7)t.appendChild(document.createElement("div")).style.height=Math.min(i,1e7)+"px"}return!0}get estimatedHeight(){return this.height}}class Yr extends be{constructor(t,i){super(),this.top=t,this.text=i}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return de}}function Fr(t,i,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&i>0&&e<=0)i=Fi(t=t.childNodes[i-1]);else{if(!(1==t.nodeType&&i<t.childNodes.length&&e>=0))return null;t=t.childNodes[i],i=0}}}function Br(t,i){return 1!=t.nodeType?0:(i&&"false"==t.childNodes[i-1].contentEditable?1:0)|(i<t.childNodes.length&&"false"==t.childNodes[i].contentEditable?2:0)}class Zr{constructor(){this.changes=[]}compareRange(t,i){Pe(t,i,this.changes)}comparePoint(t,i){Pe(t,i,this.changes)}}function Nr(t,i){return i.left>t?i.left-t:Math.max(0,t-i.right)}function Hr(t,i){return i.top>t?i.top-t:Math.max(0,t-i.bottom)}function Jr(t,i){return t.top<i.bottom-1&&t.bottom>i.top+1}function Kr(t,i){return i<t.top?{top:i,left:t.left,right:t.right,bottom:t.bottom}:t}function tn(t,i){return i>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:i}:t}function en(t,i,e){let r,n,s,o,l,a,h,c;for(let f=t.firstChild;f;f=f.nextSibling){let t=Gi(f);for(let u=0;u<t.length;u++){let d=t[u];n&&Jr(n,d)&&(d=Kr(tn(d,n.bottom),n.top));let O=Nr(i,d),m=Hr(e,d);if(0==O&&0==m)return 3==f.nodeType?rn(f,i,e):en(f,i,e);(!r||o>m||o==m&&s>O)&&(r=f,n=d,s=O,o=m),0==O?e>d.bottom&&(!h||h.bottom<d.bottom)?(l=f,h=d):e<d.top&&(!c||c.top>d.top)&&(a=f,c=d):h&&Jr(h,d)?h=tn(h,d.bottom):c&&Jr(c,d)&&(c=Kr(c,d.top))}}if(h&&h.bottom>=e?(r=l,n=h):c&&c.top<=e&&(r=a,n=c),!r)return{node:t,offset:0};let u=Math.max(n.left,Math.min(n.right,i));return 3==r.nodeType?rn(r,u,e):s||"true"!=r.contentEditable?{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(i>=(n.left+n.right)/2?1:0)}:en(r,u,e)}function rn(t,i,e){let r=t.nodeValue.length,n=te();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let r=n.getClientRects();for(let o=0;o<r.length;o++){let l=r[o];if(l.top!=l.bottom&&l.left-1<=i&&l.right+1>=i&&l.top-1<=e&&l.bottom+1>=e){let e=i>=(l.left+l.right)/2,r=e;return(Vi.chrome||Vi.gecko)&&(n.setEnd(t,s),n.getBoundingClientRect().left==l.right&&(r=!e)),{node:t,offset:s+(r?1:0)}}}}return{node:t,offset:0}}function nn(t,{x:i,y:e},r=-1){let n,s=t.contentDOM.getBoundingClientRect(),o=t.defaultLineHeight/2;for(let f=!1;;){if(n=t.blockAtHeight(e,s.top),n.top>e||n.bottom<e){if(r=n.top>e?-1:1,e=Math.min(n.bottom-o,Math.max(n.top+o,e)),f)return-1;f=!0}if(n.type==$e.Text)break;e=r>0?n.bottom+o:n.top-o}let l=n.from;if(l<t.viewport.from)return 0==t.viewport.from?0:null;if(l>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:null;i=Math.max(s.left+1,Math.min(s.right-1,i));let a,h=t.root,c=h.elementFromPoint(i,e),u=-1;if(c&&t.contentDOM.contains(c)&&!(t.docView.nearest(c)instanceof fe))if(h.caretPositionFromPoint){let t=h.caretPositionFromPoint(i,e);t&&({offsetNode:a,offset:u}=t)}else if(h.caretRangeFromPoint){let t=h.caretRangeFromPoint(i,e);t&&({startContainer:a,startOffset:u}=t)}if(!a||!t.docView.dom.contains(a)){let r=Ee.find(t.docView,l);({node:a,offset:u}=en(r.dom,i,e))}return t.docView.posFromDOM(a,u)}function sn(t,i,e,r){let n=t.state.doc.lineAt(i.head),s=t.bidiSpans(n);for(let o=i,l=null;;){let i=Ke(n,s,t.textDirection,o,e),a=Je;if(!i){if(n.number==(e?t.state.doc.lines:1))return o;a="\n",n=t.state.doc.line(n.number+(e?1:-1)),s=t.bidiSpans(n),i=Ot.cursor(e?n.from:n.to)}if(l){if(!l(a))return o}else{if(!r)return i;l=r(a)}o=i}}class on{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=!1,this.compositionEndedAt=0,this.mouseSelection=null;for(let i in hn){let e=hn[i];t.contentDOM.addEventListener(i,(r=>{an(t,r)&&!this.ignoreDuringComposition(r)&&(this.mustFlushObserver(r)&&t.observer.forceFlush(),this.runCustomHandlers(i,t,r)?r.preventDefault():e(t,r))})),this.registeredEvents.push(i)}t.contentDOM.addEventListener("keydown",(i=>{t.inputState.lastKeyCode=i.keyCode,t.inputState.lastKeyTime=Date.now()})),this.notifiedFocused=t.hasFocus,this.ensureHandlers(t)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t){let i=this.customHandlers=t.pluginField(Pr);for(let e of i)for(let i in e.handlers)this.registeredEvents.indexOf(i)<0&&"scroll"!=i&&(this.registeredEvents.push(i),t.contentDOM.addEventListener(i,(e=>{an(t,e)&&this.runCustomHandlers(i,t,e)&&e.preventDefault()})))}runCustomHandlers(t,i,e){for(let n of this.customHandlers){let s=n.handlers[t];if(s)try{if(s.call(n.plugin,e,i)||e.defaultPrevented)return!0}catch(r){Qr(i.state,r)}}return!1}runScrollHandlers(t,i){for(let r of this.customHandlers){let n=r.handlers.scroll;if(n)try{n.call(r.plugin,i,t)}catch(e){Qr(t.state,e)}}}ignoreDuringComposition(t){return!(!/^key/.test(t.type)||!this.composing&&(!(Vi.safari&&t.timeStamp-this.compositionEndedAt<500)||(this.compositionEndedAt=0,0)))}mustFlushObserver(t){return"keydown"==t.type||"compositionend"==t.type}startMouseSelection(t,i,e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=new ln(this,t,i,e)}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.lastKeyCode=this.lastSelectionTime=0}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}class ln{constructor(t,i,e,r){this.inputState=t,this.view=i,this.startEvent=e,this.style=r;let n=i.contentDOM.ownerDocument;n.addEventListener("mousemove",this.move=this.move.bind(this)),n.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=i.state.facet(Ht.allowMultipleSelections)&&function(t,i){let e=t.state.facet(Or);return e.length?e[0](i):Vi.mac?i.metaKey:i.ctrlKey}(i,e),this.dragMove=function(t,i){let e=t.state.facet(mr);return e.length?e[0](i):Vi.mac?!i.altKey:!i.ctrlKey}(i,e),this.dragging=!!function(t,i){let{primary:e}=t.state.selection;if(e.empty)return!1;let r=Ci(t.root);if(0==r.rangeCount)return!0;let n=r.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let t=n[s];if(t.left<=i.clientX&&t.right>=i.clientX&&t.top<=i.clientY&&t.bottom>=i.clientY)return!0}return!1}(i,e)&&null,!1===this.dragging&&(e.preventDefault(),this.select(e))}move(t){if(0==t.buttons)return this.destroy();!1===this.dragging&&this.select(t)}up(t){null==this.dragging&&this.select(this.startEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.inputState.mouseSelection=null}select(t){let i=this.style.get(t,this.extend,this.multiple);i.eq(this.view.state.selection)&&i.primary.assoc==this.view.state.selection.primary.assoc||this.view.dispatch({selection:i,annotations:It.userEvent.of("pointerselection"),scrollIntoView:!0})}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)}}function an(t,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(let e,r=i.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(e=re.get(r))&&e.ignoreEvent(i))return!1;return!0}const hn=Object.create(null),cn=Vi.ie&&Vi.ie_version<15||Vi.ios&&Vi.webkit_version<604;function un(t,i){let e,{state:r}=t,n=1,s=r.toText(i),o=s.lines==r.selection.ranges.length;e=Qn&&r.selection.ranges.every((t=>t.empty))&&Qn==s.toString()?{changes:r.selection.ranges.map((t=>r.doc.lineAt(t.from))).filter(((t,i,e)=>0==i||e[i-1]!=t)).map((t=>({from:t.from,insert:(o?s.line(n++).slice():i)+r.lineBreak})))}:o?r.changeByRange((t=>{let i=s.line(n++);return{changes:{from:t.from,to:t.to,insert:i.slice()},range:Ot.cursor(t.from+i.length)}})):r.replaceSelection(s),t.dispatch(e,{annotations:It.userEvent.of("paste"),scrollIntoView:!0})}function fn(t,i,e,r){if(1==r)return Ot.cursor(i,e);if(2==r)return function(t,i,e=1){let r=t.charCategorizer(i),n=t.doc.lineAt(i),s=i-n.from;if(0==n.length)return Ot.cursor(i);0==s?e=1:s==n.length&&(e=-1);let o=s,l=s;e<0?o=n.findClusterBreak(s,!1):l=n.findClusterBreak(s,!0);let a=r(n.slice(o,l));for(;o>0;){let t=n.findClusterBreak(o,!1);if(r(n.slice(t,o))!=a)break;o=t}for(;l<n.length;){let t=n.findClusterBreak(l,!0);if(r(n.slice(l,t))!=a)break;l=t}return Ot.range(o+n.from,l+n.from)}(t.state,i,e);{let e=Ee.find(t.docView,i);if(e)return Ot.range(e.posAtStart,e.posAtEnd);let{from:r,to:n}=t.state.doc.lineAt(i);return Ot.range(r,n)}}hn.keydown=(t,i)=>{(function(t){let i=(t.ctrlKey?1:0)|(t.metaKey?8:0)|(t.altKey?2:0)|(t.shiftKey?4:0),e=t.keyCode,r=Vi.mac&&1==i;return 8==e||r&&72==e||46==e||r&&68==e||27==e||i==(Vi.mac?8:1)&&(66==e||73==e||89==e||90==e)})(i)&&i.preventDefault(),t.inputState.setSelectionOrigin("keyboardselection")},hn.touchdown=hn.touchmove=t=>{t.inputState.setSelectionOrigin("pointerselection")},hn.mousedown=(t,i)=>{let e=null;for(let r of t.state.facet(pr))if(e=r(t,i),e)break;e||0!=i.button||(e=function(t,i){let e=pn(t,i),r=function(t){if(!gn)return t.detail;let i=vn;return vn=t,wn=!i||i.timeStamp>Date.now()-400&&Math.abs(i.clientX-t.clientX)<2&&Math.abs(i.clientY-t.clientY)<2?(wn+1)%3:1}(i),n=t.state.selection,s=e,o=i;return{update(t){t.changes&&(e&&(e.pos=t.changes.mapPos(e.pos)),n=n.map(t.changes))},get(i,l,a){let h;if(i.clientX==o.clientX&&i.clientY==o.clientY?h=s:(h=s=pn(t,i),o=i),!h||!e)return n;let c=fn(t,h.pos,h.bias,r);if(e.pos!=h.pos&&!l){let i=fn(t,e.pos,e.bias,r),n=Math.min(i.from,c.from),s=Math.max(i.to,c.to);c=n<c.from?Ot.range(n,s):Ot.range(s,n)}return l?n.replaceRange(n.primary.extend(c.from,c.to)):a?n.addRange(c):Ot.create([c])}}}(t,i)),e&&(t.root.activeElement!=t.contentDOM&&t.observer.ignore((()=>Ki(t.contentDOM))),t.inputState.startMouseSelection(t,i,e))};let dn=(t,i)=>t>=i.top&&t<=i.bottom,On=(t,i,e)=>dn(i,e)&&t>=e.left&&t<=e.right;function mn(t,i,e,r){let n=Ee.find(t.docView,i);if(!n)return 1;let s=i-n.posAtStart;if(0==s)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&On(e,r,o))return-1;let l=n.coordsAt(s,1);return l&&On(e,r,l)?1:o&&dn(r,o)?-1:1}function pn(t,i){let e=t.posAtCoords({x:i.clientX,y:i.clientY});return null==e?null:{pos:e,bias:mn(t,e,i.clientX,i.clientY)}}const gn=Vi.ie&&Vi.ie_version<=11;let vn=null,wn=0;hn.dragstart=(t,i)=>{let{selection:{primary:e}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=e),i.dataTransfer&&(i.dataTransfer.setData("Text",t.state.sliceDoc(e.from,e.to)),i.dataTransfer.effectAllowed="copyMove")},hn.drop=(t,i)=>{if(!i.dataTransfer)return;let e=t.posAtCoords({x:i.clientX,y:i.clientY}),r=i.dataTransfer.getData("Text");if(null==e||!r)return;i.preventDefault();let{mouseSelection:n}=t.inputState,s=n&&n.dragging&&n.dragMove?{from:n.dragging.from,to:n.dragging.to}:null,o={from:e,insert:r},l=t.state.changes(s?[s,o]:o);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(e,-1),head:l.mapPos(e,1)},annotations:It.userEvent.of("drop")})},hn.paste=(t,i)=>{t.observer.flush();let e=cn?null:i.clipboardData,r=e&&e.getData("text/plain");r?(un(t,r),i.preventDefault()):function(t){let i=t.dom.parentNode;if(!i)return;let e=i.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout((()=>{t.focus(),e.remove(),un(t,e.value)}),50)}(t)};let Qn=null;function bn(t){t.docView.compositionDeco.size&&t.update([])}hn.copy=hn.cut=(t,i)=>{let{text:e,ranges:r,linewise:n}=function(t){let i=[],e=[],r=!1;for(let n of t.selection.ranges)n.empty||(i.push(t.sliceDoc(n.from,n.to)),e.push(n));if(!i.length){let n=-1;for(let{from:r}of t.selection.ranges){let s=t.doc.lineAt(r);s.number>n&&(i.push(s.slice()),e.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),n=s.number}r=!0}return{text:i.join(t.lineBreak),ranges:e,linewise:r}}(t.state);if(!e)return;Qn=n?e:null;let s=cn?null:i.clipboardData;s?(i.preventDefault(),s.clearData(),s.setData("text/plain",e)):function(t,i){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=i,r.focus(),r.selectionEnd=i.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,e),"cut"==i.type&&t.dispatch({changes:r,scrollIntoView:!0,annotations:It.userEvent.of("cut")})},hn.focus=hn.blur=t=>{setTimeout((()=>{t.hasFocus!=t.inputState.notifiedFocused&&t.update([])}),10)},hn.beforeprint=t=>{t.viewState.printing=!0,t.requestMeasure(),setTimeout((()=>{t.viewState.printing=!1,t.requestMeasure()}),2e3)},hn.compositionstart=hn.compositionupdate=t=>{t.inputState.composing||(t.docView.compositionDeco.size&&(t.observer.flush(),bn(t)),t.inputState.composing=!0)},hn.compositionend=t=>{t.inputState.composing=!1,t.inputState.compositionEndedAt=Date.now(),setTimeout((()=>{t.inputState.composing||bn(t)}),50)};const $n={childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0},Sn=Vi.ie&&Vi.ie_version<=11;class yn{constructor(t,i,e){this.view=t,this.onChange=i,this.onScrollChanged=e,this.active=!1,this.ignoreSelection=new Ni,this.delayedFlush=-1,this.queue=[],this.scrollTargets=[],this.intersection=null,this.intersecting=!1,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((t=>{for(let i of t)this.queue.push(i);Vi.ie&&Vi.ie_version<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Sn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=()=>{if(this.view.root.activeElement==this.dom){if(Vi.ie&&Vi.ie_version<=11&&!this.view.state.selection.primary.empty){let t=Ci(this.view.root);if(t.focusNode&&zi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},this.start(),this.onScroll=this.onScroll.bind(this),window.addEventListener("scroll",this.onScroll),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom)),this.listenForScroll()}onScroll(t){this.intersecting&&(this.flush(),this.onScrollChanged(t))}listenForScroll(){this.parentCheck=-1;let t=0,i=null;for(let e=this.dom;e;)if(1==e.nodeType)!i&&t<this.scrollTargets.length&&this.scrollTargets[t]==e?t++:i||(i=this.scrollTargets.slice(0,t)),i&&i.push(e),e=e.parentNode;else{if(11!=e.nodeType)break;e=e.host}if(t<this.scrollTargets.length&&!i&&(i=this.scrollTargets.slice(0,t)),i){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=i)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,$n),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange),Sn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),Sn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clearSelection(){this.ignoreSelection.set(Ci(this.view.root))}clear(){this.observer.takeRecords(),this.queue.length=0,this.clearSelection()}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout((()=>{this.delayedFlush=-1,this.flush()}),20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}flush(){if(this.delayedFlush>=0)return;let t=this.queue;for(let l of this.observer.takeRecords())t.push(l);t.length&&(this.queue=[]);let i=Ci(this.view.root),e=!this.ignoreSelection.eq(i)&&Ii(this.dom,i);if(0==t.length&&!e)return;let r=-1,n=-1,s=!1;for(let l of t){let t=this.readMutation(l);t&&(t.typeOver&&(s=!0),-1==r?({from:r,to:n}=t):(r=Math.min(t.from,r),n=Math.max(t.to,n)))}let o=this.view.state;(r>-1||e)&&this.onChange(r,n,s),this.view.state==o&&(this.view.docView.dirty&&(this.ignore((()=>this.view.docView.sync())),this.view.docView.dirty=0),this.view.docView.updateSelection()),this.clearSelection()}readMutation(t){let i=this.view.docView.nearest(t.target);if(!i||i.ignoreMutation(t))return null;if(i.markDirty(),"childList"==t.type){let e=xn(i,t.previousSibling||t.target.previousSibling,-1),r=xn(i,t.nextSibling||t.target.nextSibling,1);return{from:e?i.posAfter(e):i.posAtStart,to:r?i.posBefore(r):i.posAtEnd,typeOver:!1}}return{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}destroy(){this.stop(),this.intersection&&this.intersection.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),clearTimeout(this.parentCheck)}}function xn(t,i,e){for(;i;){let r=re.get(i);if(r&&r.parent==t)return r;let n=i.parentNode;i=n!=t.dom?n:e>0?i.nextSibling:i.previousSibling}return null}class kn{constructor(t,i){this.points=t,this.lineSep=i,this.text=""}readRange(t,i){if(!t)return;let e=t.parentNode;for(let r=t;;){this.findPointBefore(e,r),this.readNode(r);let t=r.nextSibling;if(t==i)break;let n=re.get(r),s=re.get(t);((n?n.breakAfter:Ln(r))||(s?s.breakAfter:Ln(t))&&("BR"!=r.nodeName||r.cmIgnore))&&(this.text+=this.lineSep),r=t}this.findPointBefore(e,i)}readNode(t){if(t.cmIgnore)return;let i,e=re.get(t),r=e&&e.overrideDOMText;null!=r?i=r.sliceString(0,void 0,this.lineSep):3==t.nodeType?i=t.nodeValue:"BR"==t.nodeName?i=t.nextSibling?this.lineSep:"":1==t.nodeType&&this.readRange(t.firstChild,null),null!=i&&(this.findPointIn(t,i.length),this.text+=i)}findPointBefore(t,i){for(let e of this.points)e.node==t&&t.childNodes[e.offset]==i&&(e.pos=this.text.length)}findPointIn(t,i){for(let e of this.points)e.node==t&&(e.pos=this.text.length+Math.min(e.offset,i))}}function Ln(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Pn{constructor(t,i){this.node=t,this.offset=i,this.pos=-1}}function Xn(t,i,e){let r={key:i,code:i,keyCode:e,which:e,cancelable:!0},n=new KeyboardEvent("keydown",r);t.contentDOM.dispatchEvent(n);let s=new KeyboardEvent("keyup",r);return t.contentDOM.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}class Rn{constructor(t={}){this.plugins=[],this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.className=Me("scroller"),this.scrollDOM.appendChild(this.contentDOM),this.dom=document.createElement("div"),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=t.root||document,this.viewState=new Wr(t.state||Ht.create()),this.plugins=this.state.facet(xr).map((t=>Xr.create(t,this))),this.observer=new yn(this,((t,i,e)=>function(t,i,e,r){let n,s,o,l=t.state.selection.primary;if(i>-1&&(o=t.docView.domBoundsAround(i,e,0))){let{from:i,to:e}=o,r=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:function(t,i){let e=[];if(i.activeElement!=t)return e;let{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:o}=Ci(i);return r&&(e.push(new Pn(r,n)),s==r&&o==n||e.push(new Pn(s,o))),e}(t.contentDOM,t.root),a=new kn(r,t.state.lineBreak);a.readRange(o.startDOM,o.endDOM),s=function(t,i){if(0==t.length)return null;let e=t[0].pos,r=2==t.length?t[1].pos:e;return e>-1&&r>-1?Ot.single(e+i,r+i):null}(r,i);let h=l.from,c=null;8===t.inputState.lastKeyCode&&t.inputState.lastKeyTime>Date.now()-100&&(h=l.to,c="end");let u=function(t,i,e,r){let n=Math.min(t.length,i.length),s=0;for(;s<n&&t.charCodeAt(s)==i.charCodeAt(s);)s++;if(s==n&&t.length==i.length)return null;let o=t.length,l=i.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==i.charCodeAt(l-1);)o--,l--;return"end"==r&&(e-=o+Math.max(0,s-Math.min(o,l))-s),o<s&&t.length<i.length?(s-=e<=s&&e>=o?s-e:0,l=s+(l-o),o=s):l<s&&(s-=e<=s&&e>=l?s-e:0,o=s+(o-l),l=s),{from:s,toA:o,toB:l}}(t.state.sliceDoc(i,e),a.text,h-i,c);u&&(n={from:i+u.from,to:i+u.toA,insert:t.state.toText(a.text.slice(u.from,u.toB))})}else if(t.hasFocus){let i=Ci(t.root),{impreciseHead:e,impreciseAnchor:r}=t.docView,n=e&&e.node==i.focusNode&&e.offset==i.focusOffset?t.state.selection.primary.head:t.docView.posFromDOM(i.focusNode,i.focusOffset),o=r&&r.node==i.anchorNode&&r.offset==i.anchorOffset?t.state.selection.primary.anchor:function(t){let i=t.isCollapsed;return i&&Vi.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(i=!1),i}(i)?n:t.docView.posFromDOM(i.anchorNode,i.anchorOffset);n==l.head&&o==l.anchor||(s=Ot.single(o,n))}if(n||s)if(!n&&r&&!l.empty&&s&&s.primary.empty&&(n={from:l.from,to:l.to,insert:t.state.doc.slice(l.from,l.to)}),n){let i=t.state;if(Vi.android&&(n.from==l.from&&n.to==l.to&&1==n.insert.length&&2==n.insert.lines&&Xn(t,"Enter",10)||n.from==l.from-1&&n.to==l.to&&0==n.insert.length&&Xn(t,"Backspace",8)||n.from==l.from&&n.to==l.to+1&&0==n.insert.length&&Xn(t,"Delete",46)))return;let e,r=n.insert.toString();if(t.state.facet(wr).some((i=>i(t,n.from,n.to,r))))return;if(n.from>=l.from&&n.to<=l.to&&n.to-n.from>=(l.to-l.from)/3){let r=l.from<n.from?i.sliceDoc(l.from,n.from):"",s=l.to>n.to?i.sliceDoc(n.to,l.to):"";e=i.replaceSelection(t.state.toText(r+n.insert.sliceString(0,void 0,t.state.lineBreak)+s))}else{let t=i.changes(n);e={changes:t,selection:s&&!i.selection.primary.eq(s.primary)&&s.primary.to<=t.newLength?i.selection.replaceRange(s.primary):void 0}}t.dispatch(e,{scrollIntoView:!0,annotations:It.userEvent.of("input")})}else if(s&&!s.primary.eq(l)){let i,e=!1;t.inputState.lastSelectionTime>Date.now()-50&&("keyboardselection"==t.inputState.lastSelectionOrigin?e=!0:i=It.userEvent.of(t.inputState.lastSelectionOrigin)),t.dispatch({selection:s,scrollIntoView:e,annotations:i})}}(this,t,i,e)),(t=>{this.inputState.runScrollHandlers(this,t),this.measure()})),this.docView=new zr(this),this.inputState=new on(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,window.addEventListener("resize",(()=>{-1==jn&&(jn=setTimeout(Mn,50))})),this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof It?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");this.updateState=2;let i=this.state;for(let s of t){if(s.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=s.state}let e=new Tr(this,i,t),r=t.some((t=>t.scrollIntoView))?i.selection.primary:null;this.viewState.update(e,r),this.bidiCache=_n.update(this.bidiCache,e.changes),e.empty||this.updatePlugins(e);let n=this.docView.update(e);this.state.facet(jr)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.updateState=0,(n||r||this.viewState.mustEnforceCursorAssoc)&&this.requestMeasure();for(let s of this.state.facet(vr))s(e)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;for(let i of this.plugins)i.destroy(this);this.viewState=new Wr(t),this.plugins=t.facet(xr).map((t=>Xr.create(t,this))),this.docView=new zr(this),this.inputState.ensureHandlers(this),this.mountStyles(),this.updateAttrs(),this.bidiCache=[],this.updateState=0,this.requestMeasure()}updatePlugins(t){let i=t.prevState.facet(xr),e=t.state.facet(xr);if(i!=e){let r=[],n=[];for(let s of e){let e=i.indexOf(s);if(e<0)r.push(Xr.create(s,this));else{let i=this.plugins[e].update(t);n.push(i),r.push(i)}}for(let t of this.plugins)n.indexOf(t)<0&&t.destroy(this);this.plugins=r,this.inputState.ensureHandlers(this)}else for(let r=0;r<this.plugins.length;r++)this.plugins[r]=this.plugins[r].update(t)}measure(){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=-1;let t=null;for(let e=0;;e++){this.updateState=1;let r=this.viewState.measure(this.docView,e>0),n=this.measureRequests;if(!r&&!n.length&&null==this.viewState.scrollTo)break;if(this.measureRequests=[],e>5){console.warn("Viewport failed to stabilize");break}let s=n.map((t=>{try{return t.read(this)}catch(i){return Qr(this.state,i),Tn}})),o=new Tr(this,this.state);o.flags|=r,t?t.flags|=r:t=o,this.updateState=2,this.updatePlugins(o),this.updateAttrs(),r&&this.docView.update(o);for(let t=0;t<n.length;t++)if(s[t]!=Tn)try{n[t].write(s[t],this)}catch(i){Qr(this.state,i)}if(this.viewState.scrollTo&&(this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc),this.viewState.scrollTo=null),!(4&r)&&0==this.measureRequests.length)break}if(this.updateState=0,this.measureScheduled=-1,t)for(let e of this.state.facet(vr))e(t)}get themeClasses(){return Ue+" "+(this.state.facet(Re)?"cm-dark":"cm-light")+" "+this.state.facet(Xe)}updateAttrs(){let t=ve(this.state.facet(Rr),{class:Me("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});Qe(this.dom,this.editorAttrs,t),this.editorAttrs=t;let i=ve(this.state.facet(Ur),{spellcheck:"false",contenteditable:String(this.state.facet(br)),class:Me("content"),style:`${Vi.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"});Qe(this.contentDOM,this.contentAttrs,i),this.contentAttrs=i}mountStyles(){this.styleModules=this.state.facet(jr),ei.mount(this.root,this.styleModules.concat(Te).reverse())}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,i=0){return this.docView.posFromDOM(t,i)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure()}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame((()=>this.measure()))),t){if(null!=t.key)for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===t.key)return void(this.measureRequests[i]=t);this.measureRequests.push(t)}}pluginField(t){let i=[];for(let e of this.plugins)e.takeField(t,i);return i}plugin(t){for(let i of this.plugins)if(i.spec==t)return i.value;return null}blockAtHeight(t,i){return this.readMeasured(),this.viewState.blockAtHeight(t,qn(i,this.contentDOM))}visualLineAtHeight(t,i){return this.readMeasured(),this.viewState.lineAtHeight(t,qn(i,this.contentDOM))}visualLineAt(t,i=0){return this.viewState.lineAt(t,i)}viewportLines(t,i){let{from:e,to:r}=this.viewport;this.viewState.forEachLine(e,r,t,qn(i,this.contentDOM))}get contentHeight(){return this.viewState.heightMap.height+this.viewState.paddingTop+this.viewState.paddingBottom}moveByChar(t,i,e){return sn(this,t,i,e)}moveByGroup(t,i){return sn(this,t,i,(i=>function(t,i,e){let r=t.state.charCategorizer(i),n=r(e);return t=>{let i=r(t);return n==Bt.Space&&(n=i),n==i}}(this,t.head,i)))}moveToLineBoundary(t,i,e=!0){return function(t,i,e,r){let n=t.state.doc.lineAt(i.head),s=r&&t.lineWrapping?t.coordsAtPos(i.assoc<0&&i.head>n.from?i.head-1:i.head):null;if(s){let i=t.dom.getBoundingClientRect(),r=t.posAtCoords({x:e==(t.textDirection==Ie.LTR)?i.right-1:i.left+1,y:(s.top+s.bottom)/2});if(null!=r)return Ot.cursor(r,e?-1:1)}let o=Ee.find(t.docView,i.head);return Ot.cursor(o?e?o.posAtEnd:o.posAtStart:e?n.to:n.from,e?-1:1)}(this,t,i,e)}moveVertically(t,i,e){return function(t,i,e,r){var n;let s=i.head,o=e?1:-1;if(s==(e?t.state.doc.length:0))return Ot.cursor(s);let l=t.coordsAtPos(s);if(l){let e=t.dom.getBoundingClientRect(),a=null!==(n=i.goalColumn)&&void 0!==n?n:l.left-e.left,h=e.left+a,c=null!=r?r:5;for(let i=o<0?l.top:l.bottom,r=0;r<50;r+=10){let e=nn(t,{x:h,y:i+(c+r)*o},o);if(null==e)break;if(e!=s)return Ot.cursor(e,void 0,void 0,a)}}let{doc:a}=t.state,h=a.lineAt(s),c=t.state.tabSize,u=i.goalColumn,f=0;if(null==u){for(const t=a.iterRange(h.from,s);!t.next().done;)f=$(t.value,f,c);u=f*t.defaultCharacterWidth}else f=Math.round(u/t.defaultCharacterWidth);if(o<0&&0==h.from)return Ot.cursor(0);if(o>0&&h.to==a.length)return Ot.cursor(h.to);let d=a.line(h.number+o),O=d.from,m=0;for(const p=a.iterRange(d.from,d.to);m>=f&&!p.next().done;){const{offset:t,leftOver:i}=S(p.value,m,f,c);m=f-i,O+=t}return Ot.cursor(O,void 0,void 0,u)}(this,t,i,e)}scrollPosIntoView(t){this.viewState.scrollTo=Ot.cursor(t),this.requestMeasure()}posAtCoords(t){return this.readMeasured(),nn(this,t)}coordsAtPos(t,i=1){this.readMeasured();let e=this.docView.coordsAt(t,i);if(!e||e.left==e.right)return e;let r=this.state.doc.lineAt(t),n=this.bidiSpans(r);return Bi(e,n[Ze.find(n,t-r.from,-1,i)].dir==Ie.LTR==i>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.heightOracle.direction}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Un)return He(t.length);let i=this.textDirection;for(let r of this.bidiCache)if(r.from==t.from&&r.dir==i)return r.order;let e=function(t,i){let e=t.length,r=i==Ge?1:2;if(!t||1==r&&!Be.test(t))return He(e);for(let o=0,l=r,a=r;o<e;o++){let i=(n=t.charCodeAt(o))<=247?Ye[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Fe[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||8204==n?256:1;512==i?i=l:8==i&&4==a&&(i=16),Ne[o]=4==i?2:i,7&i&&(a=i),l=i}var n;for(let o=0,l=r,a=r;o<e;o++){let t=Ne[o];if(128==t)o<e-1&&l==Ne[o+1]&&24&l?t=Ne[o]=l:Ne[o]=256;else if(64==t){let t=o+1;for(;t<e&&64==Ne[t];)t++;let i=o&&8==l||t<e&&8==Ne[t]?1==a?1:8:256;for(let e=o;e<t;e++)Ne[e]=i;o=t-1}else 8==t&&1==a&&(Ne[o]=1);l=t,7&t&&(a=t)}for(let o=0;o<e;o++)if(256==Ne[o]){let t=o+1;for(;t<e&&256==Ne[t];)t++;let i=1==(o?Ne[o-1]:r),n=i==(1==(t<e?Ne[t]:r))?i?1:2:r;for(let e=o;e<t;e++)Ne[e]=n;o=t-1}let s=[];if(1==r)for(let o=0;o<e;){let t=o,i=1!=Ne[o++];for(;o<e&&i==(1!=Ne[o]);)o++;if(i)for(let e=o;e>t;){let i=e,r=2!=Ne[--e];for(;e>t&&r==(2!=Ne[e-1]);)e--;s.push(new Ze(e,i,r?2:1))}else s.push(new Ze(t,o,0))}else for(let o=0;o<e;){let t=o,i=2==Ne[o++];for(;o<e&&i==(2==Ne[o]);)o++;s.push(new Ze(t,o,i?1:2))}return s}(t.slice(),this.textDirection);return this.bidiCache.push(new _n(t.from,t.to,i,e)),e}get hasFocus(){return this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Ki(this.contentDOM),this.docView.updateSelection()}))}destroy(){for(let t of this.plugins)t.destroy(this);this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled)}static domEventHandlers(t){return kr.define((()=>({})),{eventHandlers:t})}static theme(t,i){let e=ei.newName(),r=[Xe.of(e),jr.of(je(`.${Ue}.${e}`,t))];return i&&i.dark&&r.push(Re.of(!0)),r}static baseTheme(t){return yt(jr.of(je("."+Ue,t)),"fallback")}}Rn.styleModule=jr,Rn.inputHandler=wr,Rn.exceptionSink=gr,Rn.updateListener=vr,Rn.editable=br,Rn.dragMovesSelection=mr,Rn.clickAddsSelectionRange=Or,Rn.mouseSelectionStyle=pr,Rn.decorations=qr,Rn.lineWrapping=Rn.theme({$content:{whiteSpace:"pre-wrap"}}),Rn.contentAttributes=Ur,Rn.editorAttributes=Rr;const Un=4096;function qn(t,i){return null==t?i.getBoundingClientRect().top:t}let jn=-1;function Mn(){jn=-1;let t=document.querySelectorAll(".cm-content");for(let i=0;i<t.length;i++){let e=re.get(t[i]);e&&e.editorView.requestMeasure()}}const Tn={};class _n{constructor(t,i,e,r){this.from=t,this.to=i,this.dir=e,this.order=r}static update(t,i){if(i.empty)return t;let e=[],r=t.length?t[t.length-1].dir:Ie.LTR;for(let n=Math.max(0,t.length-10);n<t.length;n++){let s=t[n];s.dir!=r||i.touchesRange(s.from,s.to)||e.push(new _n(i.mapPos(s.from,1),i.mapPos(s.to,-1),s.dir,s.order))}return e}}const En="undefined"==typeof navigator?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key";function Wn(t,i,e){return i.altKey&&(t="Alt-"+t),i.ctrlKey&&(t="Ctrl-"+t),i.metaKey&&(t="Meta-"+t),!1!==e&&i.shiftKey&&(t="Shift-"+t),t}const An=vt.define(),Vn=Rn.domEventHandlers({keydown:(t,i)=>function(t,i,e,r){let n=function(t){var i=!(Pi&&(t.ctrlKey||t.altKey||t.metaKey)||(yi||Li)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?$i:bi)[t.keyCode]||t.key||"Unidentified";return"Esc"==i&&(i="Escape"),"Del"==i&&(i="Delete"),"Left"==i&&(i="ArrowLeft"),"Up"==i&&(i="ArrowUp"),"Right"==i&&(i="ArrowRight"),"Down"==i&&(i="ArrowDown"),i}(i),s=1==n.length&&" "!=n,o="";In&&In.view==e&&In.scope==r&&(o=In.prefix+" ",In=null);let l=!!o,a=t=>{if(t){for(let i of t.commands)if(i(e))return!0;t.preventDefault&&(l=!0)}return!1};for(let h of t){let t,e=h.editor;if(e){if(a(e[o+Wn(n,i,!s)]))return!0;if(s&&(i.shiftKey||i.altKey||i.metaKey)&&(t=bi[i.keyCode])&&t!=n){if(a(e[o+Wn(t,i,!0)]))return!0}else if(s&&i.shiftKey&&a(e[o+Wn(n,i,!0)]))return!0}}return l}(i.state.facet(An),t,i,"editor")});function Cn(t,i){return[Vn,An.of(Gn(t,i))]}let In=null;function Gn(t,i=En){let e=Object.create(null),r=Object.create(null),n=(t,i)=>{let e=r[t];if(null==e)r[t]=i;else if(e!=i)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},s=(t,r,s,o)=>{let l=e[t]||(e[t]=Object.create(null)),a=r.split(/ (?!$)/).map((t=>function(t,i){const e=t.split(/-(?!$)/);let r,n,s,o,l=e[e.length-1];"Space"==l&&(l=" ");for(let a=0;a<e.length-1;++a){const t=e[a];if(/^(cmd|meta|m)$/i.test(t))o=!0;else if(/^a(lt)?$/i.test(t))r=!0;else if(/^(c|ctrl|control)$/i.test(t))n=!0;else if(/^s(hift)?$/i.test(t))s=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);"mac"==i?o=!0:n=!0}}return r&&(l="Alt-"+l),n&&(l="Ctrl-"+l),o&&(l="Meta-"+l),s&&(l="Shift-"+l),l}(t,i)));for(let i=1;i<a.length;i++){let e=a.slice(0,i).join(" ");n(e,!0),l[e]||(l[e]={preventDefault:!0,commands:[i=>{let r=In={view:i,prefix:e,scope:t};return setTimeout((()=>{In==r&&(In=null)}),4e3),!0}]})}let h=a.join(" ");n(h,!1);let c=l[h]||(l[h]={preventDefault:!1,commands:[]});c.commands.push(s),o&&(c.preventDefault=!0)};for(let o of t){let t=o[i]||o.key;if(t)for(let i of o.scope?o.scope.split(" "):["editor"])s(i,t,o.run,o.preventDefault),o.shift&&s(i,"Shift-"+t,o.shift,o.preventDefault)}return e}const zn=!Vi.ios,Dn=vt.define({combine:t=>Jt(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,i)=>Math.min(t,i),drawRangeCursor:(t,i)=>t||i})});function Yn(t={}){return[Dn.of(t),Bn,Nn]}class Fn{constructor(t,i,e,r,n){this.left=t,this.top=i,this.width=e,this.height=r,this.className=n}draw(){let t=document.createElement("div");return t.className=this.className,t.style.left=this.left+"px",t.style.top=this.top+"px",this.width>=0&&(t.style.width=this.width+"px"),t.style.height=this.height+"px",t}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}}const Bn=kr.fromClass(class{constructor(t){this.view=t,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className=Me("selectionLayer"),this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className=Me("cursorLayer"),this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Dn).cursorBlinkRate+"ms"}update(t){let i=t.prevState.facet(Dn)!=t.state.facet(Dn);(i||t.selectionSet||t.geometryChanged||t.viewportChanged)&&this.view.requestMeasure(this.measureReq),t.transactions.some((t=>t.scrollIntoView))&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),i&&this.setBlinkRate()}readPos(){let{state:t}=this.view,i=t.facet(Dn),e=t.selection.ranges.map((t=>t.empty?[]:function(t,i){if(i.to<=t.viewport.from||i.from>=t.viewport.to)return[];let e=Math.max(i.from,t.viewport.from),r=Math.min(i.to,t.viewport.to),n=t.textDirection==Ie.LTR,s=t.contentDOM,o=s.getBoundingClientRect(),l=Jn(t),a=window.getComputedStyle(s.firstChild),h=o.left+parseInt(a.paddingLeft),c=o.right-parseInt(a.paddingRight),u=t.visualLineAt(e),f=t.visualLineAt(r);if(u.from==f.from)return O(m(i.from,i.to));{let t=m(i.from,null),e=m(null,i.to),r=[];return u.to<f.from-1?r.push(d(h,t.bottom,c,e.top)):t.bottom<e.top&&e.top-t.bottom<4&&(t.bottom=e.top=(t.bottom+e.top)/2),O(t).concat(r).concat(O(e))}function d(t,i,e,r){return new Fn(t-l.left,i-l.top,e-t,r-i,Hn)}function O({top:t,bottom:i,horizontal:e}){let r=[];for(let n=0;n<e.length;n+=2)r.push(d(e[n],t,e[n+1],i));return r}function m(i,e){let r=1e9,s=-1e9,o=[];function l(i,e,l,a,u){let f=t.coordsAtPos(i,1),d=t.coordsAtPos(l,-1);r=Math.min(f.top,d.top,r),s=Math.max(f.bottom,d.bottom,s),u==Ie.LTR?o.push(n&&e?h:f.left,n&&a?c:d.right):o.push(!n&&a?h:d.left,!n&&e?c:f.right)}let a=null!=i?i:t.moveToLineBoundary(Ot.cursor(e,1),!1).head,u=null!=e?e:t.moveToLineBoundary(Ot.cursor(i,-1),!0).head;for(let n of t.visibleRanges)if(n.to>a&&n.from<u)for(let r=Math.max(n.from,a),s=Math.min(n.to,u);;){let n=t.state.doc.lineAt(r);for(let o of t.bidiSpans(n)){let t=o.from+n.from,h=o.to+n.from;if(t>=s)break;h>r&&l(Math.max(t,r),null==i&&t<=a,Math.min(h,s),null==e&&h>=u,o.dir)}if(r=n.to+1,r>=s)break}if(0==o.length){let i=t.coordsAtPos(a,-1);r=Math.min(i.top,r),s=Math.max(i.bottom,s)}return{top:r,bottom:s,horizontal:o}}}(this.view,t))).reduce(((t,i)=>t.concat(i))),r=[];for(let n of t.selection.ranges){let e=n==t.selection.primary;if(n.empty?!e||zn:i.drawRangeCursor){let t=is(this.view,n,e);t&&r.push(t)}}return{rangePieces:e,cursors:r}}drawSel({rangePieces:t,cursors:i}){if(t.length!=this.rangePieces.length||t.some(((t,i)=>!t.eq(this.rangePieces[i])))){this.selectionLayer.textContent="";for(let i of t)this.selectionLayer.appendChild(i.draw());this.rangePieces=t}if(i.length!=this.cursors.length||i.some(((t,i)=>!t.eq(this.cursors[i])))){this.cursorLayer.textContent="";for(let t of i)this.cursorLayer.appendChild(t.draw());this.cursors=i}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),Zn={$content:{"& ::selection":{backgroundColor:"transparent !important"}}};zn&&(Zn.$content.caretColor="transparent !important");const Nn=yt(Rn.theme(Zn),"override"),Hn=Me("selectionBackground");function Jn(t){let i=t.scrollDOM.getBoundingClientRect();return{left:i.left-t.scrollDOM.scrollLeft,top:i.top-t.scrollDOM.scrollTop}}const Kn=Me("cursor.primary"),ts=Me("cursor.secondary");function is(t,i,e){let r=t.coordsAtPos(i.head,i.assoc||1);if(!r)return null;let n=Jn(t);return new Fn(r.left-n.left,r.top-n.top,-1,r.bottom-r.top,e?Kn:ts)}const es=/[\u0000-\u0008\u000a-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/gu,rs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ns=null;function ss(){if(null==ns&&"undefined"!=typeof document&&document.body){let t=document.body.style;ns=null!=(t.tabSize||t.MozTabSize)}return ns||!1}const os=null!=/x/.unicode?"gu":"g",ls=vt.define({combine(t){let i=Jt(t,{render:null,specialChars:es,addSpecialChars:null});return(i.replaceTabs=!ss())&&(i.specialChars=new RegExp("\t|"+i.specialChars.source,os)),i.addSpecialChars&&(i.specialChars=new RegExp(i.specialChars.source+"|"+i.addSpecialChars.source,os)),i}});function as(t={}){let i=[ls.of(t),hs];return ss()||i.push(ds),i}const hs=kr.fromClass(class{constructor(t){this.view=t,this.decorations=Se.none,this.decorationCache=Object.create(null),this.recompute()}update(t){let i=t.prevState.facet(ls)!=t.state.facet(ls);i&&(this.decorationCache=Object.create(null)),(i||t.changes.length||t.viewportChanged)&&this.recompute()}recompute(){let t=[];for(let{from:i,to:e}of this.view.visibleRanges)this.getDecorationsFor(i,e,t);this.decorations=Se.set(t)}getDecorationsFor(t,i,e){let r=this.view.state.facet(ls),{doc:n}=this.view.state;for(let s,o=t,l=n.iterRange(t,i);!l.next().done;){if(!l.lineBreak)for(;s=r.specialChars.exec(l.value);){let t,i=w(s[0],0);if(null!=i){if(9==i){let i=n.lineAt(o+s.index),e=this.view.state.tabSize,r=$(n.sliceString(i.from,o+s.index),0,e);t=Se.replace({widget:new us((e-r%e)*this.view.defaultCharacterWidth)})}else t=this.decorationCache[i]||(this.decorationCache[i]=Se.replace({widget:new cs(r,i)}));e.push(t.range(o+s.index,o+s.index+s[0].length))}}o+=l.value.length}}},{decorations:t=>t.decorations});class cs extends be{constructor(t,i){super(),this.options=t,this.code=i}eq(t){return t.code==this.code}toDOM(){let t=function(t){return t>=32?null:10==t?"":String.fromCharCode(9216+t)}(this.code)||"",i="Control character "+(rs[this.code]||this.code),e=this.options.render&&this.options.render(this.code,i,t);if(e)return e;let r=document.createElement("span");return r.textContent=t,r.title=i,r.setAttribute("aria-label",i),r.style.color="red",r}ignoreEvent(){return!1}}class us extends be{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className=fs,t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const fs=ei.newName(),ds=Rn.styleModule.of(new ei({["."+fs]:{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"}})),Os=kr.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.tooltips=t.state.facet(ps),this.tooltipViews=this.tooltips.map((t=>this.createTooltip(t)))}update(t){let i=t.state.facet(ps);if(i==this.tooltips)for(let e of this.tooltipViews)e.update&&e.update(t);else{let e=[];for(let r=0;r<i.length;r++){let n=i[r],s=-1;for(let t=0;t<this.tooltips.length;t++)this.tooltips[t].create==n.create&&(s=t);if(s<0)e[r]=this.createTooltip(n);else{let i=e[r]=this.tooltipViews[s];i.update&&i.update(t)}}for(let t of this.tooltipViews)e.indexOf(t)<0&&t.dom.remove();this.tooltips=i,this.tooltipViews=e,this.maybeMeasure()}}createTooltip(t){let i=t.create(this.view);return i.dom.className=Me("tooltip"+(t.style?"."+t.style:"")),this.view.dom.appendChild(i.dom),i.mount&&i.mount(this.view),i}destroy(){for(let{dom:t}of this.tooltipViews)t.remove()}readMeasure(){return{editor:this.view.dom.getBoundingClientRect(),pos:this.tooltips.map((t=>this.view.coordsAtPos(t.pos))),size:this.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),innerWidth:window.innerWidth,innerHeight:window.innerHeight}}writeMeasure(t){let{editor:i}=t;for(let e=0;e<this.tooltipViews.length;e++){let r=this.tooltips[e],n=this.tooltipViews[e],{dom:s}=n,o=t.pos[e],l=t.size[e];if(!o||o.bottom<=i.top||o.top>=i.bottom||o.right<=i.left||o.left>=i.right){s.style.top="-10000px";continue}let a=l.right-l.left,h=l.bottom-l.top,c=this.view.textDirection==Ie.LTR?Math.min(o.left,t.innerWidth-a):Math.max(0,o.left-a),u=!!r.above;!r.strictSide&&(u?o.top-(l.bottom-l.top)<0:o.bottom+(l.bottom-l.top)>t.innerHeight)&&(u=!u),s.style.top=(u?o.top-h:o.bottom)+"px",s.style.left=c+"px",s.classList.toggle("cm-tooltip-above",u),s.classList.toggle("cm-tooltip-below",!u),n.positioned&&n.positioned()}}maybeMeasure(){this.tooltips.length&&((this.view.inView||this.inView)&&this.view.requestMeasure(this.measureReq),this.inView=this.view.inView)}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),ms=Rn.baseTheme({$tooltip:{position:"fixed",border:"1px solid #ddd",backgroundColor:"#f5f5f5",zIndex:100}}),ps=vt.define();class gs{constructor(t,i,e){this.state=t,this.pos=i,this.explicit=e,this.abortListeners=[]}tokenBefore(t){let i=this.state.tree.resolve(this.pos,-1);for(;i&&t.indexOf(i.name)<0;)i=i.parent;return i?{from:i.from,to:this.pos,text:this.state.sliceDoc(i.from,this.pos),type:i.type}:null}matchBefore(t){let i=this.state.doc.lineAt(this.pos),e=Math.max(i.from,this.pos-250),r=i.slice(e-i.from,this.pos-i.from),n=r.search(Qs(t,!1));return n<0?null:{from:e+n,to:this.pos,text:r.slice(n)}}get aborted(){return null==this.abortListeners}addEventListener(t,i){this.abortListeners&&this.abortListeners.push(i)}}class vs{constructor(t,i,e){this.completion=t,this.source=i,this.match=e}}function ws(t){return t.selection.primary.head}function Qs(t,i){var e;let{source:r}=t,n=i&&"^"!=r[0],s="$"!=r[r.length-1];return n||s?new RegExp(`${n?"^":""}(?:${r})${s?"$":""}`,null!==(e=t.flags)&&void 0!==e?e:t.ignoreCase?"i":""):t}function bs(t,i){let e=i.completion.apply||i.completion.label,r=i.source;"string"==typeof e?t.dispatch({changes:{from:r.from,to:r.to,insert:e},selection:{anchor:r.from+e.length}}):e(t,i.completion,r.from,r.to)}class $s{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let i=0;i<t.length;){let e=w(t,i),r=b(e);this.chars.push(e);let n=t.slice(i,i+r),s=n.toUpperCase();this.folded.push(w(s==n?n.toLowerCase():s,0)),i+=r}this.astral=t.length!=this.chars.length}match(t){if(0==this.pattern.length)return[0];if(t.length<this.pattern.length)return null;let{chars:i,folded:e,any:r,precise:n,byWord:s}=this;if(1==i.length){let r=w(t,0);return r==i[0]?[0,0,b(r)]:r==e[0]?[-200,0,b(r)]:null}let o=t.indexOf(this.pattern);if(0==o)return[0,0,this.pattern.length];let l=i.length,a=0;if(o<0){for(let n=0,s=Math.min(t.length,200);n<s&&a<l;){let s=w(t,n);s!=i[a]&&s!=e[a]||(r[a++]=n),n+=b(s)}if(a<l)return null}let h=0,c=0,u=!1,f=0,d=-1,O=-1;for(let m=0,p=Math.min(t.length,200),g=0;m<p&&c<l;){let r=w(t,m);o<0&&(h<l&&r==i[h]&&(n[h++]=m),f<l&&(r==i[f]||r==e[f]?(0==f&&(d=m),O=m,f++):f=0));let a,p=r<255?r>=48&&r<=57||r>=97&&r<=122?2:r>=65&&r<=90?1:0:(a=Q(r))!=a.toLowerCase()?1:a!=a.toUpperCase()?2:0;(1==p||0==g&&0!=p&&(this.chars[c]==r||this.folded[c]==r&&(u=!0)))&&(s[c++]=m),g=p,m+=b(r)}return c==l&&0==s[0]?this.result((u?-200:0)-100,s,t):f==l&&0==d?[-200,0,O]:o>-1?[-700,o,o+this.pattern.length]:f==l?[-900,d,O]:c==l?this.result((u?-200:0)-100-700,s,t):2==i.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,i,e){let r=[t],n=1;for(let s of i){let t=s+(this.astral?b(w(e,s)):1);n>1&&r[n-1]==s?r[n-1]=t:(r[n++]=s,r[n++]=t)}return r}}const Ss=vt.define({combine:t=>Jt(t,{activateOnTyping:!0,override:null,maxRenderedOptions:100})}),ys=Rn.baseTheme({"$tooltip.autocomplete":{"& > ul":{fontFamily:"monospace",overflowY:"auto",whiteSpace:"nowrap",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{cursor:"pointer",padding:"1px 1em 1px 3px",lineHeight:1.2},"& > li[aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"}}},"$completionListIncompleteTop:before, $completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},"$tooltip.completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},"$tooltip.completionInfo.left":{right:"100%"},"$tooltip.completionInfo.right":{left:"100%"},"$$light $snippetField":{backgroundColor:"#ddd"},"$$dark $snippetField":{backgroundColor:"#333"},$snippetFieldPosition:{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},$completionMatchedText:{textDecoration:"underline"},$completionDetail:{marginLeft:"0.5em",fontStyle:"italic"},$completionIcon:{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},"$completionIcon.function, $completionIcon.method":{"&:after":{content:"''"}},"$completionIcon.class":{"&:after":{content:"''"}},"$completionIcon.interface":{"&:after":{content:"''"}},"$completionIcon.variable":{"&:after":{content:"''"}},"$completionIcon.constant":{"&:after":{content:"''"}},"$completionIcon.type":{"&:after":{content:"''"}},"$completionIcon.enum":{"&:after":{content:"''"}},"$completionIcon.property":{"&:after":{content:"''"}},"$completionIcon.keyword":{"&:after":{content:"''"}},"$completionIcon.namespace":{"&:after":{content:"''"}},"$completionIcon.text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function xs(t,i,e){const r=document.createElement("ul");r.id=i,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true");for(let n=e.from;n<e.to;n++){let{completion:e,match:s}=t[n];const o=r.appendChild(document.createElement("li"));o.id=i+"-"+n;let l=o.appendChild(document.createElement("div"));l.className=Me("completionIcon"+(e.type?"."+e.type:"")),l.setAttribute("aria-hidden","true");let a=o.appendChild(document.createElement("span"));a.className=Me("completionLabel");let{label:h,detail:c}=e,u=0;for(let t=1;t<s.length;){let i=s[t++],e=s[t++];i>u&&a.appendChild(document.createTextNode(h.slice(u,i)));let r=a.appendChild(document.createElement("span"));r.appendChild(document.createTextNode(h.slice(i,e))),r.className=Me("completionMatchedText"),u=e}if(u<h.length&&a.appendChild(document.createTextNode(h.slice(u))),c){let t=o.appendChild(document.createElement("span"));t.className=Me("completionDetail"),t.textContent=c}o.setAttribute("role","option")}return e.from&&r.classList.add(Me("completionListIncompleteTop")),e.to<t.length&&r.classList.add(Me("completionListIncompleteBottom")),r}function ks(t,i,e){if(t<=e)return{from:0,to:t};if(i<=t>>1){let t=Math.floor(i/e);return{from:t*e,to:(t+1)*e}}let r=Math.floor((t-i)/e);return{from:t-(r+1)*e,to:t-r*e}}class Ls{constructor(t,i){this.view=t,this.stateField=i,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:t=>this.positionInfo(t),key:this};let e=t.state.field(i),{options:r,selected:n}=e.open,s=t.state.facet(Ss);this.range=ks(r.length,n,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.addEventListener("mousedown",(i=>{for(let e,n=i.target;n&&n!=this.dom;n=n.parentNode)if("LI"==n.nodeName&&(e=/-(\d+)$/.exec(n.id))&&+e[1]<r.length)return bs(t,r[+e[1]]),void i.preventDefault()})),this.list=this.dom.appendChild(xs(r,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(t){t.state.field(this.stateField)!=t.prevState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let t=this.view.state.field(this.stateField),i=t.open;if((i.selected<this.range.from||i.selected>=this.range.to)&&(this.range=ks(i.options.length,i.selected,this.view.state.facet(Ss).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(xs(i.options,t.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(i.selected)){this.info&&(this.info.remove(),this.info=null);let t=i.options[i.selected];t.completion.info&&(this.info=this.dom.appendChild(function(t){let i=document.createElement("div");i.className=Me("tooltip.completionInfo");let{info:e}=t.completion;return"string"==typeof e?i.textContent=e:i.appendChild(e(t.completion)),i}(t)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(t){let i=null;for(let e=this.list.firstChild,r=this.range.from;e;e=e.nextSibling,r++)r==t?e.hasAttribute("aria-selected")||(e.setAttribute("aria-selected","true"),i=e):e.hasAttribute("aria-selected")&&e.removeAttribute("aria-selected");return i&&function(t,i){let e=t.getBoundingClientRect(),r=i.getBoundingClientRect();r.top<e.top?t.scrollTop-=e.top-r.top:r.bottom>e.bottom&&(t.scrollTop+=r.bottom-e.bottom)}(this.list,i),i}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t)return null;let i=this.dom.getBoundingClientRect(),e=t.getBoundingClientRect().top-i.top;if(e<0||e>this.list.clientHeight-10)return null;let r=this.view.textDirection==Ie.RTL,n=i.left,s=innerWidth-i.right;return r&&n<Math.min(300,s)?r=!1:!r&&s<Math.min(300,n)&&(r=!0),{top:e,left:r}}positionInfo(t){this.info&&t&&(this.info.style.top=t.top+"px",this.info.classList.toggle("cm-tooltip-completionInfo-left",t.left),this.info.classList.toggle("cm-tooltip-completionInfo-right",!t.left))}}class Ps{constructor(t,i,e,r,n){this.options=t,this.attrs=i,this.tooltip=e,this.timestamp=r,this.selected=n}setSelected(t,i){return t==this.selected||t>=this.options.length?this:new Ps(this.options,Rs(i,t),this.tooltip,this.timestamp,t)}static build(t,i,e,r){let n=function(t,i){let e=[];for(let r of t)if(r.hasResult()){let t,n=new $s(i.sliceDoc(r.from,r.to));for(let i of r.result.options)(t=n.match(i.label))&&(null!=i.boost&&(t[0]+=i.boost),e.push(new vs(i,r,t)))}return e.sort(js),e.length>300?e.slice(0,300):e}(t,i);if(!n.length)return null;let s=0;if(r){let t=r.options[r.selected].completion;for(let i=0;i<n.length&&!s;i++)n[i].completion==t&&(s=i)}return new Ps(n,Rs(e,s),[{pos:t.reduce(((t,i)=>i.hasResult()?Math.min(t,i.from):t),1e8),style:"autocomplete",create:(o=As,t=>new Ls(t,o))}],r?r.timestamp:Date.now(),s);var o}map(t){return new Ps(this.options,this.attrs,[Object.assign(Object.assign({},this.tooltip[0]),{pos:t.mapPos(this.tooltip[0].pos)})],this.timestamp,this.selected)}}class Xs{constructor(t,i,e){this.active=t,this.id=i,this.open=e}static start(){return new Xs(qs,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:i}=t,e=i.facet(Ss),r=(e.override||i.languageDataAt("autocomplete",ws(i))).map((i=>(this.active.find((t=>t.source==i))||new Ms(i,0,!1)).update(t,e)));r.length==this.active.length&&r.every(((t,i)=>t==this.active[i]))&&(r=this.active);let n=t.selection||r.some((i=>i.hasResult()&&t.changes.touchesRange(i.from,i.to)))||!function(t,i){if(t==i)return!0;for(let e=0,r=0;;){for(;e<t.length&&!t[e].hasResult;)e++;for(;r<i.length&&!i[r].hasResult;)r++;let n=e==t.length,s=r==i.length;if(n||s)return n==s;if(t[e++].result!=i[r++].result)return!1}}(r,this.active)?Ps.build(r,i,this.id,this.open):this.open&&t.docChanged?this.open.map(t.changes):this.open;for(let s of t.effects)s.is(Ws)&&(n=n&&n.setSelected(s.value,this.id));return r==this.active&&n==this.open?this:new Xs(r,this.id,n)}get tooltip(){return this.open?this.open.tooltip:qs}get attrs(){return this.open?this.open.attrs:Us}}function Rs(t,i){return{"aria-autocomplete":"list","aria-activedescendant":t+"-"+i,"aria-owns":t}}const Us={"aria-autocomplete":"list"},qs=[];function js(t,i){let e=i.match[0]-t.match[0];if(e)return e;let r=t.completion.label,n=i.completion.label;return r<n?-1:r==n?0:1}class Ms{constructor(t,i,e){this.source=t,this.state=i,this.explicit=e}hasResult(){return!1}update(t,i){let e=t.annotation(It.userEvent),r=this;"input"==e||"delete"==e?r=r.handleUserEvent(t,e,i):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new Ms(r.source,0,!1));for(let n of t.effects)if(n.is(_s))r=n.value?new Ms(r.source,1,!0):new Ms(r.source,0,!1);else if(n.is(Es))for(let t of n.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,i,e){return"delete"!=i&&e.activateOnTyping?new Ms(this.source,1,!1):this}handleChange(t){return t.changes.touchesRange(ws(t.startState))?new Ms(this.source,0,!1):this}}class Ts extends Ms{constructor(t,i,e,r,n,s){super(t,2,i),this.result=e,this.from=r,this.to=n,this.span=s}hasResult(){return!0}handleUserEvent(t,i,e){let r=t.changes.mapPos(this.from),n=t.changes.mapPos(this.to,1),s=ws(t.state);return(this.explicit?s<r:s<=r)||s>n?new Ms(this.source,"input"==i&&e.activateOnTyping?1:0,!1):this.span&&(r==n||this.span.test(t.state.sliceDoc(r,n)))?new Ts(this.source,this.explicit,this.result,r,n,this.span):new Ms(this.source,1,this.explicit)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Ms(this.source,0,!1):new Ts(this.source,this.explicit,this.result,t.changes.mapPos(this.from),t.changes.mapPos(this.to,1),this.span)}map(t){return new Ts(this.source,this.explicit,this.result,t.mapPos(this.from),t.mapPos(this.to,1),this.span)}}const _s=Vt.define(),Es=Vt.define({map:(t,i)=>t.map((t=>t.hasResult()&&!i.empty?t.map(i):t))}),Ws=Vt.define(),As=$t.define({create:()=>Xs.start(),update:(t,i)=>t.update(i),provide:[ps.nFrom((t=>t.tooltip)),Rn.contentAttributes.from((t=>t.attrs))]});function Vs(t,i="option"){return e=>{let r=e.state.field(As,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;let n,s=1;"page"==i&&(n=e.dom.querySelector(".cm-tooltip-autocomplete"))&&(s=Math.max(2,Math.floor(n.offsetHeight/n.firstChild.offsetHeight)));let o=r.open.selected+s*(t?1:-1),{length:l}=r.open.options;return o<0?o="page"==i?0:l-1:o>=l&&(o="page"==i?l-1:0),e.dispatch({effects:Ws.of(o)}),!0}}const Cs=t=>{let i=t.state.field(As,!1);return!(!i||!i.open||Date.now()-i.open.timestamp<75||(bs(t,i.open.options[i.open.selected]),0))},Is=t=>!!t.state.field(As,!1)&&(t.dispatch({effects:_s.of(!0)}),!0);class Gs{constructor(t,i){this.source=t,this.context=i,this.time=Date.now(),this.updates=[],this.done=void 0}}const zs=kr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1;for(let i of t.state.field(As).active)1==i.state&&this.startQuery(i)}update(t){let i=t.state.field(As);if(!t.selectionSet&&!t.docChanged&&t.prevState.field(As)==i)return;let e=t.transactions.some((t=>{let i=t.annotation(It.userEvent);return(t.selection||t.docChanged)&&"input"!=i&&"delete"!=i}));for(let n=0;n<this.running.length;n++){let i=this.running[n];if(e||i.updates.length+t.transactions.length>50&&i.time-Date.now()>1e3){for(let t of i.context.abortListeners)try{t()}catch(r){Qr(this.view.state,r)}i.context.abortListeners=null,this.running.splice(n--,1)}else i.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=i.active.some((t=>1==t.state&&!this.running.some((i=>i.source==t.source))))?setTimeout((()=>this.startUpdate()),50):-1}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,i=t.field(As);for(let e of i.active)1!=e.state||this.running.some((t=>t.source==e.source))||this.startQuery(e)}startQuery(t){let{state:i}=this.view,e=ws(i),r=new gs(i,e,t.explicit),n=new Gs(t.source,r);this.running.push(n),Promise.resolve(t.source(r)).then((t=>{n.context.aborted||(n.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:_s.of(!1)}),Qr(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let i=[],e=this.view.state.facet(Ss);for(let r=0;r<this.running.length;r++){let n=this.running[r];if(void 0===n.done)continue;if(this.running.splice(r--,1),n.done){let r=new Ts(n.source,n.context.explicit,n.done,n.done.from,null!==(t=n.done.to)&&void 0!==t?t:ws(n.updates.length?n.updates[0].startState:this.view.state),n.done.span?Qs(n.done.span,!0):null);for(let t of n.updates)r=r.update(t,e);if(r.hasResult()){i.push(r);continue}}let s=this.view.state.field(As).active.find((t=>t.source==n.source));if(s&&1==s.state)if(null==n.done){let t=new Ms(n.source,0,!1);for(let i of n.updates)t=t.update(i,e);1!=t.state&&i.push(t)}else this.startQuery(s)}i.length&&this.view.dispatch({effects:Es.of(i)})}});let Ds=Se.widget({widget:new class extends be{toDOM(){let t=document.createElement("span");return t.className=Me("snippetFieldPosition"),t}ignoreEvent(){return!1}}}),Ys=Se.mark({class:Me("snippetField")});class Fs{constructor(t,i){this.ranges=t,this.active=i,this.deco=Se.set(t.map((t=>(t.from==t.to?Ds:Ys).range(t.from,t.to))))}map(t){return new Fs(this.ranges.map((i=>i.map(t))),this.active)}selectionInsideField(t){return t.ranges.every((t=>this.ranges.some((i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))))}}const Bs=Vt.define({map:(t,i)=>t&&t.map(i)}),Zs=Vt.define(),Ns=$t.define({create:()=>null,update(t,i){for(let e of i.effects){if(e.is(Bs))return e.value;if(e.is(Zs)&&t)return new Fs(t.ranges,e.value)}return t&&i.docChanged&&(t=t.map(i.changes)),t&&i.selection&&!t.selectionInsideField(i.selection)&&(t=null),t},provide:[Rn.decorations.from((t=>t?t.deco:Se.none))]});function Hs(t){return({state:i,dispatch:e})=>{let r=i.field(Ns,!1);if(!r||t<0&&0==r.active)return!1;let n=r.active+t,s=t>0&&!r.ranges.some((i=>i.field==n+t));var o,l;return e(i.update({selection:(o=r.ranges,l=n,Ot.create(o.filter((t=>t.field==l)).map((t=>Ot.range(t.from,t.to))))),effects:Bs.of(s?null:new Fs(r.ranges,n))})),!0}}function Js(t={}){return[As,Ss.of(t),zs,ys,[Os,ms],yt(Cn([{key:"ArrowDown",run:Vs(!0)},{key:"ArrowUp",run:Vs(!1)},{key:"PageDown",run:Vs(!0,"page")},{key:"PageUp",run:Vs(!1,"page")},{key:"Enter",run:Cs}]),"override")]}yt(Cn([{key:"Tab",run:Hs(1),shift:Hs(-1)},{key:"Escape",run:({state:t,dispatch:i})=>!!t.field(Ns,!1)&&(i(t.update({effects:Bs.of(null)})),!0)}]),"override");const Ks={brackets:["(","[","{","'",'"'],before:")]}'\":;>"};function to(t){for(let i=0;i<"()[]{}<>".length;i+=2)if("()[]{}<>".charCodeAt(i)==t)return"()[]{}<>".charAt(i+1);return Q(t<128?t:t+1)}function io(t,i){return t.languageDataAt("closeBrackets",i)[0]||Ks}function eo(t,i,e,r){if(t.composing)return!1;let n=t.state.selection.primary;if(r.length>2||2==r.length&&1==b(w(r,0))||i!=n.from||e!=n.to)return!1;let s=function(t,i){let e=io(t,t.selection.primary.head),r=e.brackets||Ks.brackets;for(let n of r){let s=to(w(n,0));if(i==n)return s==n?lo(t,n,r.indexOf(n+n+n)>-1):so(t,n,s,e.before||Ks.before);if(i==s)return oo(t,0,s)}return null}(t.state,r);return!!s&&(t.dispatch(s),!0)}const ro=[{key:"Backspace",run:({state:t,dispatch:i})=>{let e=io(t,t.selection.primary.head).brackets||Ks.brackets,r=null,n=t.changeByRange((i=>{if(i.empty){let r=function(t,i){let e=t.sliceString(i-2,i);return b(w(e,0))==e.length?e:e.slice(1)}(t.doc,i.head);for(let n of e)if(n==r&&no(t.doc,i.head)==to(w(n,0)))return{changes:{from:i.head-n.length,to:i.head+n.length},range:Ot.cursor(i.head-n.length),annotations:It.userEvent.of("delete")}}return{range:r=i}}));return r||i(t.update(n,{scrollIntoView:!0})),!r}}];function no(t,i){let e=t.sliceString(i,i+2);return e.slice(0,b(w(e,0)))}function so(t,i,e,r){let n=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:i,from:s.from},{insert:e,from:s.to}],range:Ot.range(s.anchor+i.length,s.head+i.length)};let o=no(t.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:i+e,from:s.head},range:Ot.cursor(s.head+i.length)}:{range:n=s}}));return n?null:t.update(s,{scrollIntoView:!0,annotations:It.userEvent.of("input")})}function oo(t,i,e){let r=null,n=t.selection.ranges.map((i=>i.empty&&no(t.doc,i.head)==e?Ot.cursor(i.head+e.length):r=i));return r?null:t.update({selection:Ot.create(n,t.selection.primaryIndex),scrollIntoView:!0})}function lo(t,i,e){let r=null,n=t.changeByRange((n=>{if(!n.empty)return{changes:[{insert:i,from:n.from},{insert:i,from:n.to}],range:Ot.range(n.anchor+i.length,n.head+i.length)};let s=n.head,o=no(t.doc,s);if(o==i){if(ao(t,s))return{changes:{insert:i+i,from:s},range:Ot.cursor(s+i.length)};{let r=e&&t.sliceDoc(s,s+3*i.length)==i+i+i;return{range:Ot.cursor(s+i.length*(r?3:1))}}}if(e&&t.sliceDoc(s-2*i.length,s)==i+i&&ao(t,s-2*i.length))return{changes:{insert:i+i+i+i,from:s},range:Ot.cursor(s+i.length)};if(t.charCategorizer(s)(o)!=Bt.Word){let e=t.sliceDoc(s-1,s);if(e!=i&&t.charCategorizer(s)(e)!=Bt.Word)return{changes:{insert:i+i,from:s},range:Ot.cursor(s+i.length)}}return{range:r=n}}));return r?null:t.update(n,{scrollIntoView:!0,annotations:It.userEvent.of("input")})}function ao(t,i){let e=t.tree.resolve(i+1);return e.parent&&e.from==i}const ho=Rn.baseTheme({$matchingBracket:{color:"#0b0"},$nonmatchingBracket:{color:"#a22"}}),co=vt.define({combine:t=>Jt(t,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4})}),uo=Se.mark({class:Me("matchingBracket")}),fo=Se.mark({class:Me("nonmatchingBracket")}),Oo=[$t.define({create:()=>Se.none,update(t,i){if(!i.docChanged&&!i.selection)return t;let e=[],r=i.state.facet(co);for(let n of i.state.selection.ranges){if(!n.empty)continue;let t=go(i.state,n.head,-1,r)||n.head>0&&go(i.state,n.head-1,1,r)||r.afterCursor&&(go(i.state,n.head,1,r)||n.head<i.state.doc.length&&go(i.state,n.head+1,-1,r));if(!t)continue;let s=t.matched?uo:fo;e.push(s.range(t.start.from,t.start.to)),t.end&&e.push(s.range(t.end.from,t.end.to))}return Se.set(e,!0)},provide:[Rn.decorations]}),ho];function mo(t={}){return[co.of(t),Oo]}function po(t,i,e){let r=t.prop(i<0?V.openedBy:V.closedBy);if(r)return r;if(1==t.name.length){let r=e.indexOf(t.name);if(r>-1&&r%2==(i<0?1:0))return[e[r+i]]}return null}function go(t,i,e,r={}){let n,s=r.maxScanDistance||1e4,o=r.brackets||"()[]{}",l=t.tree,a=l.resolve(i,e);return(n=po(a.type,e,o))?function(t,i,e,r,n,s){let o=r.parent,l={from:r.from,to:r.to},a=0,h=null==o?void 0:o.cursor;if(h&&(e<0?h.childBefore(r.from):h.childAfter(r.to)))do{if(e<0?h.to<=r.from:h.from>=r.to){if(0==a&&n.indexOf(h.type.name)>-1)return{start:l,end:{from:h.from,to:h.to},matched:!0};if(po(h.type,e,s))a++;else if(po(h.type,-e,s)&&(a--,0==a))return{start:l,end:{from:h.from,to:h.to},matched:!1}}}while(e<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}(0,0,e,a,n,o):function(t,i,e,r,n,s,o){let l=e<0?t.sliceDoc(i-1,i):t.sliceDoc(i,i+1),a=o.indexOf(l);if(a<0||a%2==0!=e>0)return null;let h={from:e<0?i-1:i,to:e>0?i+1:i},c=t.doc.iterRange(i,e>0?t.doc.length:0),u=0;for(let f=0;!c.next().done&&f<=s;){let t=c.value;e<0&&(f+=t.length);let s=i+f*e;for(let i=e>0?0:t.length-1,l=e>0?t.length:-1;i!=l;i+=e){let l=o.indexOf(t[i]);if(!(l<0||r.resolve(s+i,1).type!=n))if(l%2==0==e>0)u++;else{if(1==u)return{start:h,end:{from:s+i,to:s+i+1},matched:l>>1==a>>1};u--}}e>0&&(f+=t.length)}return c.done?{start:h,matched:!1}:null}(t,i,e,l,a.type,s,o)}function vo(t,i){return Ot.create(t.ranges.map(i),t.primaryIndex)}function wo(t,i){return t.update({selection:i,scrollIntoView:!0,annotations:It.userEvent.of("keyboardselection")})}function Qo({state:t,dispatch:i},e){let r=vo(t.selection,e);return!r.eq(t.selection)&&(i(wo(t,r)),!0)}function bo(t,i){return Ot.cursor(i?t.to:t.from)}function $o(t,i){return Qo(t,(e=>e.empty?t.moveByChar(e,i):bo(e,i)))}const So=t=>$o(t,t.textDirection!=Ie.LTR),yo=t=>$o(t,t.textDirection==Ie.LTR);function xo(t,i){return Qo(t,(e=>e.empty?t.moveByGroup(e,i):bo(e,i)))}function ko(t,i,e){if(i.type.prop(e))return!0;let r=i.to-i.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(i.from,i.to)))||i.firstChild}function Lo(t,i,e){let r,n,s=t.tree.resolve(i.head),o=e?V.closedBy:V.openedBy;for(let l=i.head;;){let i=e?s.childAfter(l):s.childBefore(l);if(!i)break;ko(t,i,o)?s=i:l=e?i.to:i.from}return n=s.type.prop(o)&&(r=e?go(t,s.from,1):go(t,s.to,-1))&&r.matched?e?r.end.to:r.end.from:e?s.to:s.from,Ot.cursor(n,e?-1:1)}function Po(t,i){return Qo(t,(e=>e.empty?t.moveVertically(e,i):bo(e,i)))}const Xo=t=>Po(t,!1),Ro=t=>Po(t,!0);function Uo(t,i){return Qo(t,(e=>e.empty?t.moveVertically(e,i,t.dom.clientHeight):bo(e,i)))}const qo=t=>Uo(t,!1),jo=t=>Uo(t,!0);function Mo(t,i,e){let r=t.visualLineAt(i.head),n=t.moveToLineBoundary(i,e);if(n.head==i.head&&n.head!=(e?r.to:r.from)&&(n=t.moveToLineBoundary(i,e,!1)),!e&&n.head==r.from&&r.length){let e=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;e&&i.head>r.from+e&&(n=Ot.cursor(r.from+e))}return n}const To=t=>Qo(t,(i=>Ot.cursor(t.visualLineAt(i.head).from,1))),_o=t=>Qo(t,(i=>Ot.cursor(t.visualLineAt(i.head).to,-1)));function Eo(t,i){let e=vo(t.state.selection,(t=>{let e=i(t);return Ot.range(t.anchor,e.head,e.goalColumn)}));return!e.eq(t.state.selection)&&(t.dispatch(wo(t.state,e)),!0)}function Wo(t,i){return Eo(t,(e=>t.moveByChar(e,i)))}const Ao=t=>Wo(t,t.textDirection!=Ie.LTR),Vo=t=>Wo(t,t.textDirection==Ie.LTR);function Co(t,i){return Eo(t,(e=>t.moveByGroup(e,i)))}function Io(t,i){return Eo(t,(e=>t.moveVertically(e,i)))}const Go=t=>Io(t,!1),zo=t=>Io(t,!0);function Do(t,i){return Eo(t,(e=>t.moveVertically(e,i,t.dom.clientHeight)))}const Yo=t=>Do(t,!1),Fo=t=>Do(t,!0),Bo=t=>Eo(t,(i=>Ot.cursor(t.visualLineAt(i.head).from))),Zo=t=>Eo(t,(i=>Ot.cursor(t.visualLineAt(i.head).to))),No=({state:t,dispatch:i})=>(i(wo(t,{anchor:0})),!0),Ho=({state:t,dispatch:i})=>(i(wo(t,{anchor:t.doc.length})),!0),Jo=({state:t,dispatch:i})=>(i(wo(t,{anchor:t.selection.primary.anchor,head:0})),!0),Ko=({state:t,dispatch:i})=>(i(wo(t,{anchor:t.selection.primary.anchor,head:t.doc.length})),!0);function tl(t,i){let{state:e}=t,r=e.changeByRange((t=>{let{from:e,to:r}=t;if(e==r){let t=i(e);e=Math.min(e,t),r=Math.max(r,t)}return e==r?{range:t}:{changes:{from:e,to:r},range:Ot.cursor(e)}}));return!r.changes.empty&&(t.dispatch(r,{scrollIntoView:!0,annotations:It.userEvent.of("delete")}),!0)}const il=(t,i,e)=>tl(t,(r=>{let n,s,{state:o}=t,l=o.doc.lineAt(r);if(!i&&r>l.from&&r<l.from+200&&!/[^ \t]/.test(n=l.slice(0,r-l.from))){if("\t"==n[n.length-1])return r-1;let t=$(n,0,o.tabSize)%o.indentUnit||o.indentUnit;for(let i=0;i<t&&" "==n[n.length-1-i];i++)r--;return r}if(e){let t=l.slice(r-l.from+(i?0:-2),r-l.from+(i?2:0)),e=t?b(w(t,0)):1;s=i?Math.min(o.doc.length,r+e):Math.max(0,r-e)}else s=l.findClusterBreak(r-l.from,i)+l.from;return s==r&&l.number!=(i?o.doc.lines:1)&&(s+=i?1:-1),s})),el=t=>il(t,!0,!1),rl=(t,i)=>tl(t,(e=>{let{state:r}=t,n=r.doc.lineAt(e),s=r.charCategorizer(e);for(let t=null;;){let o,l;if(e==(i?n.to:n.from)){if(n.number==(i?r.doc.lines:1))break;n=r.doc.line(n.number+(i?1:-1)),o=i?n.from:n.to,l="\n"}else o=n.findClusterBreak(e-n.from,i)+n.from,l=n.slice(Math.min(e,o)-n.from,Math.max(e,o)-n.from);let a=s(l);if(null!=t&&a!=t)break;a!=Bt.Space&&(t=a),e=o}return e})),nl=t=>rl(t,!1),sl=t=>rl(t,!0);function ol(t){let i=[],e=-1;for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);e==n.number?i[i.length-1].to=s.to:i.push({from:n.from,to:s.to}),e=s.number}return i}function ll(t,i,e){let r=[];for(let n of ol(t)){if(e?n.to==t.doc.length:0==n.from)continue;let i=t.doc.lineAt(e?n.to+1:n.from-1);e?r.push({from:n.to,to:i.to},{from:n.from,insert:i.slice()+t.lineBreak}):r.push({from:i.from,to:n.from},{from:n.to,insert:t.lineBreak+i.slice()})}return!!r.length&&(i(t.update({changes:r,scrollIntoView:!0})),!0)}function al(t,i,e){let r=[];for(let n of ol(t))r.push(e?{from:n.from,insert:t.doc.slice(n.from,n.to)+t.lineBreak}:{from:n.to,insert:t.lineBreak+t.doc.slice(n.from,n.to)});return i(t.update({changes:r,scrollIntoView:!0})),!0}function hl(t,i){for(let e of t.state.facet(Ht.indentation)){let r=e(t,i);if(r>-1)return r}return-1}function cl(t,i){let e=-1;return t.changeByRange((r=>{let n=[];for(let o=t.doc.lineAt(r.from);o.number>e&&(i(o,n,r),e=o.number),!(r.to<=o.to);)o=t.doc.lineAt(o.to+1);let s=t.changes(n);return{changes:n,range:Ot.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}const ul=[{key:"ArrowLeft",run:So,shift:Ao},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>xo(t,t.textDirection!=Ie.LTR),shift:t=>Co(t,t.textDirection!=Ie.LTR)},{mac:"Cmd-ArrowLeft",run:To,shift:Bo},{key:"ArrowRight",run:yo,shift:Vo},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>xo(t,t.textDirection==Ie.LTR),shift:t=>Co(t,t.textDirection==Ie.LTR)},{mac:"Cmd-ArrowRight",run:_o,shift:Zo},{key:"ArrowUp",run:Xo,shift:Go},{mac:"Cmd-ArrowUp",run:No,shift:Jo},{mac:"Ctrl-ArrowUp",run:qo,shift:Yo},{key:"ArrowDown",run:Ro,shift:zo},{mac:"Cmd-ArrowDown",run:Ho,shift:Ko},{mac:"Ctrl-ArrowDown",run:jo,shift:Fo},{key:"PageUp",run:qo,shift:Yo},{key:"PageDown",run:jo,shift:Fo},{key:"Home",run:t=>Qo(t,(i=>Mo(t,i,!1))),shift:t=>Eo(t,(i=>Mo(t,i,!1)))},{key:"Mod-Home",run:No,shift:Jo},{key:"End",run:t=>Qo(t,(i=>Mo(t,i,!0))),shift:t=>Eo(t,(i=>Mo(t,i,!0)))},{key:"Mod-End",run:Ho,shift:Ko},{key:"Enter",run:({state:t,dispatch:i})=>{let e=t.changeByRange((({from:i,to:e})=>{let r=i==e&&function(t,i){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(i-1,i+1)))return{from:i,to:i};let e,r=t.tree.resolve(i),n=r.childBefore(i),s=r.childAfter(i);return n&&s&&n.to<=i&&s.from>=i&&(e=n.type.prop(V.closedBy))&&e.indexOf(s.name)>-1?{from:n.to,to:s.from}:null}(t,i),n=new Et(t,{simulateBreak:i,simulateDoubleBreak:!!r}),s=hl(n,i);s<0&&(s=/^\s*/.exec(t.doc.lineAt(i).slice(0,50))[0].length);let o=t.doc.lineAt(i);for(;e<o.to&&/\s/.test(o.slice(e-o.from,e+1-o.from));)e++;r?({from:i,to:e}=r):i>o.from&&i<o.from+100&&!/\S/.test(o.slice(0,i))&&(i=o.from);let l=["",t.indentString(s)];return r&&l.push(t.indentString(n.lineIndent(o))),{changes:{from:i,to:e,insert:y.of(l)},range:Ot.cursor(i+1+s)}}));return i(t.update(e,{scrollIntoView:!0})),!0}},{key:"Mod-a",run:({state:t,dispatch:i})=>(i(t.update({selection:{anchor:0,head:t.doc.length},annotations:It.userEvent.of("keyboardselection")})),!0)},{key:"Backspace",run:t=>il(t,!1,!0)},{key:"Delete",run:el},{key:"Mod-Backspace",mac:"Alt-Backspace",run:nl},{key:"Mod-Delete",mac:"Alt-Delete",run:sl}].concat([{key:"Ctrl-b",run:So,shift:Ao},{key:"Ctrl-f",run:yo,shift:Vo},{key:"Ctrl-p",run:Xo,shift:Go},{key:"Ctrl-n",run:Ro,shift:zo},{key:"Ctrl-a",run:To,shift:Bo},{key:"Ctrl-e",run:_o,shift:Zo},{key:"Ctrl-d",run:el},{key:"Ctrl-h",run:t=>il(t,!1,!1)},{key:"Ctrl-k",run:t=>tl(t,(i=>{let e=t.visualLineAt(i).to;return i<e?e:Math.max(t.state.doc.length,i+1)}))},{key:"Alt-d",run:sl},{key:"Ctrl-Alt-h",run:nl},{key:"Ctrl-o",run:({state:t,dispatch:i})=>{let e=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:y.of(["",""])},range:Ot.cursor(t.from)})));return i(t.update(e,{scrollIntoView:!0,annotations:It.userEvent.of("input")})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:i})=>{let e=t.changeByRange((i=>{if(!i.empty||0==i.from||i.from==t.doc.length)return{range:i};let e=i.from,r=t.doc.lineAt(e),n=e==r.from?e-1:r.findClusterBreak(e-r.from,!1)+r.from,s=e==r.to?e+1:r.findClusterBreak(e-r.from,!0)+r.from;return{changes:{from:n,to:s,insert:t.doc.slice(e,s).append(t.doc.slice(n,e))},range:Ot.cursor(s)}}));return!e.changes.empty&&(i(t.update(e,{scrollIntoView:!0})),!0)}},{key:"Alt-f",run:t=>xo(t,!0),shift:t=>Co(t,!0)},{key:"Alt-b",run:t=>xo(t,!1),shift:t=>Co(t,!1)},{key:"Alt-<",run:No},{key:"Alt->",run:Ho},{key:"Ctrl-v",run:jo},{key:"Alt-v",run:qo}].map((t=>({mac:t.key,run:t.run,shift:t.shift})))),fl=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>Qo(t,(i=>Lo(t.state,i,t.textDirection!=Ie.LTR))),shift:t=>Eo(t,(i=>Lo(t.state,i,t.textDirection!=Ie.LTR)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>Qo(t,(i=>Lo(t.state,i,t.textDirection==Ie.LTR))),shift:t=>Eo(t,(i=>Lo(t.state,i,t.textDirection==Ie.LTR)))},{key:"Alt-ArrowUp",run:({state:t,dispatch:i})=>ll(t,i,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:i})=>al(t,i,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:i})=>ll(t,i,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:i})=>al(t,i,!0)},{key:"Escape",run:({state:t,dispatch:i})=>{let e=t.selection,r=null;return e.ranges.length>1?r=new Ot([e.primary]):e.primary.empty||(r=new Ot([Ot.cursor(e.primary.head)])),!!r&&(i(wo(t,r)),!0)}},{key:"Mod-l",run:({state:t,dispatch:i})=>{let e=ol(t).map((({from:i,to:e})=>Ot.range(i,Math.min(e+1,t.doc.length))));return i(t.update({selection:new Ot(e),annotations:It.userEvent.of("keyboardselection")})),!0}},{key:"Mod-i",run:({state:t,dispatch:i})=>{let e=vo(t.selection,(i=>{var e;let r=t.tree.resolve(i.head,1);for(;!(r.from<i.from&&r.to>=i.to||r.to>i.to&&r.from<=i.from)&&(null===(e=r.parent)||void 0===e?void 0:e.parent);)r=r.parent;return Ot.range(r.to,r.from)}));return i(wo(t,e)),!0}},{key:"Mod-[",run:({state:t,dispatch:i})=>(i(t.update(cl(t,((i,e)=>{let r=i.slice(0,Math.min(i.length,200)),n=/^\s*/.exec(r)[0];if(!n)return;let s=$(n,0,t.tabSize),o=t.indentString(Math.max(0,s-t.indentUnit)),l=0;for(;l<n.length&&l<o.length&&n.charCodeAt(l)==o.charCodeAt(l);)l++;e.push({from:i.from+l,to:i.from+n.length,insert:o.slice(l)})})))),!0)},{key:"Mod-]",run:({state:t,dispatch:i})=>(i(t.update(cl(t,((i,e)=>{e.push({from:i.from,insert:t.facet(Ht.indentUnit)})})))),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:i})=>{let e=Object.create(null),r=new Et(t,{overrideIndentation:t=>{let i=e[t];return null==i?-1:i}}),n=cl(t,((i,n,s)=>{let o=hl(r,i.from);if(o<0)return;let l=/^\s*/.exec(i.slice(0,Math.min(i.length,200)))[0],a=t.indentString(o);(l!=a||s.from<i.from+l.length)&&(e[i.from]=o,n.push({from:i.from,to:i.from+l.length,insert:a}))}));return n.changes.empty||i(t.update(n)),!0}},{key:"Shift-Mod-k",run:t=>{let{state:i}=t,e=i.changes(ol(i).map((({from:t,to:e})=>(t>0?t--:e<i.doc.length&&e++,{from:t,to:e})))),r=vo(i.selection,(i=>t.moveVertically(i,!0))).map(e);return t.dispatch({changes:e,selection:r,scrollIntoView:!0}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:i})=>function(t,i){let e=!1,r=vo(t.selection,(i=>{let r=go(t,i.head,-1)||go(t,i.head,1)||i.head>0&&go(t,i.head-1,1)||i.head<t.doc.length&&go(t,i.head+1,-1);if(!r||!r.end)return i;e=!0;let n=r.start.from==i.head?r.end.to:r.end.from;return Ot.cursor(n)}));return!!e&&(i(wo(t,r)),!0)}(t,i)}].concat(ul),dl=[{key:"Mod-/",run:t=>Ol(vl(ml.Toggle),t)},{key:"Alt-A",run:t=>Ol(gl(ml.Toggle),t)}];function Ol(t,i){const e=t(i.state);return!!e&&(i.dispatch(e),!0)}var ml;function pl(t,i=t.selection.primary.head){return t.languageDataAt("commentTokens",i)[0]||{}}!function(t){t[t.Toggle=0]="Toggle",t[t.OnlyComment=1]="OnlyComment",t[t.OnlyUncomment=2]="OnlyUncomment"}(ml||(ml={}));const gl=t=>i=>{const e=pl(i);return e.block?new wl(e.block.open,e.block.close).toggle(t,i):null},vl=t=>i=>{const e=pl(i);return e.line?new bl(e.line).toggle(t,i):null};class wl{constructor(t,i,e=" "){this.open=t,this.close=i,this.margin=e}toggle(t,i){const e=this.isSelectionCommented(i);if(null!==e){if(t!==ml.OnlyComment)return i.update({changes:e.map((({open:t,close:i})=>[{from:t.pos-this.open.length,to:t.pos+t.margin},{from:i.pos-i.margin,to:i.pos+this.close.length}]))})}else if(t!==ml.OnlyUncomment)return i.update(i.changeByRange((t=>{const i=(this.open+this.margin).length;return{changes:[{from:t.from,insert:this.open+this.margin},{from:t.to,insert:this.margin+this.close}],range:Ot.range(t.anchor+i,t.head+i)}})));return null}isSelectionCommented(t){let i=[];for(const e of t.selection.ranges){const r=this.isRangeCommented(t,e);if(null===r)return null;i.push(r)}return i}isRangeCommented(t,i){let e,r,n=t.sliceDoc(i.from-Ql,i.from),s=t.sliceDoc(i.to,i.to+Ql),o=/\s*$/.exec(n)[0].length,l=/^\s*/.exec(s)[0].length,a=n.length-o;if(n.slice(a-this.open.length,a)==this.open&&s.slice(l,l+this.close.length)==this.close)return{open:{pos:i.from-o,margin:o&&1},close:{pos:i.to+l,margin:l&&1}};i.to-i.from<=2*Ql?e=r=t.sliceDoc(i.from,i.to):(e=t.sliceDoc(i.from,i.from+Ql),r=t.sliceDoc(i.to-Ql,i.to));let h=/^\s*/.exec(e)[0].length,c=/\s*$/.exec(r)[0].length,u=r.length-c-this.close.length;return e.slice(h,h+this.open.length)==this.open&&r.slice(u,u+this.close.length)==this.close?{open:{pos:i.from+h+this.open.length,margin:/\s/.test(e.charAt(h+this.open.length))?1:0},close:{pos:i.to-c-this.close.length,margin:/\s/.test(r.charAt(u-1))?1:0}}:null}}const Ql=50;class bl{constructor(t,i=" "){this.lineCommentToken=t,this.margin=i}toggle(t,i){const e=[],r={};for(let s=0;s<i.selection.ranges.length;s++){const t=$l(i.doc,i.selection.ranges[s]);e.push(...t),r[s]=t}const n=this.isRangeCommented(i,e);if(n.isRangeLineSkipped){if(t!=ml.OnlyComment){let t=[];for(let e=0;e<i.selection.ranges.length;e++){const i=r[e];for(const e of i){if(i.length>1&&n.isLineSkipped[e.number])continue;const r=e.from+n.minCol,s=n.minCol+this.lineCommentToken.length,o=" "==e.slice(s,s+1)?1:0;t.push({from:r,to:r+this.lineCommentToken.length+o})}}return i.update({changes:t})}}else if(t!=ml.OnlyUncomment){let t=[];for(let e=0;e<i.selection.ranges.length;e++){const i=r[e];for(const e of i)(i.length<=1||!n.isLineSkipped[e.number])&&t.push({from:e.from+n.minCol,insert:this.lineCommentToken+this.margin})}return i.update({changes:t})}return null}isRangeCommented(t,i){let e=1/0,r=!0;const n=[];for(const s of i){const t=s.slice(0,Math.min(s.length,Ql)),o=/^\s*/.exec(t)[0].length;(1==i.length||o<t.length)&&o<e&&(e=o),r&&(1==i.length||o<t.length)&&t.slice(o,o+this.lineCommentToken.length)!=this.lineCommentToken&&(r=!1),n[s.number]=o==t.length}return{minCol:e,isRangeLineSkipped:r,isLineSkipped:n}}}function $l(t,i){let e=t.lineAt(i.from);const r=[];for(;(e.from+e.length<i.to||e.from<=i.to&&i.to<=e.to)&&(r.push(e),e.number+1<=t.lines);)e=t.line(e.number+1);return r}class Sl extends si{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}toDOM(t){return null}at(t){return new oi(t,t,this)}}Sl.prototype.elementClass="",Sl.prototype.mapMode=nt.TrackBefore;const yl={style:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ci.empty,lineMarker:()=>null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},xl=vt.define();function kl(t){return[Xl(),xl.of(Object.assign(Object.assign({},yl),t))]}const Ll=Rn.baseTheme({$gutters:{display:"flex",height:"100%",boxSizing:"border-box",left:0},"$$light $gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"$$dark $gutters":{backgroundColor:"#333338",color:"#ccc"},$gutter:{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},$gutterElement:{boxSizing:"border-box"},"$gutterElement.lineNumber":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"}}),Pl=vt.define({combine:t=>t.some((t=>t))});function Xl(t){let i=[Rl,Ll];return t&&!1===t.fixed&&i.push(Pl.of(!0)),i}const Rl=kr.fromClass(class{constructor(t){this.view=t,this.dom=document.createElement("div"),this.dom.className=Me("gutters"),this.dom.setAttribute("aria-hidden","true"),this.gutters=t.state.facet(xl).map((i=>new ql(t,i)));for(let i of this.gutters)this.dom.appendChild(i.dom);this.fixed=!t.state.facet(Pl),this.fixed&&(this.dom.style.position="sticky"),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(!this.updateGutters(t))return;let i=this.gutters.map((t=>new Ul(t,this.view.viewport)));this.view.viewportLines((t=>{let e;if(Array.isArray(t.type)){for(let i of t.type)if(i.type==$e.Text){e=i;break}}else e=t.type==$e.Text?t:void 0;if(e)for(let r of i)r.line(this.view,e)}),0);for(let e of i)e.finish();this.dom.style.minHeight=this.view.contentHeight+"px",t.state.facet(Pl)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"")}updateGutters(t){let i=t.prevState.facet(xl),e=t.state.facet(xl),r=t.docChanged||t.heightChanged||t.viewportChanged;if(i==e)for(let n of this.gutters)n.update(t)&&(r=!0);else{r=!0;let n=[];for(let r of e){let e=i.indexOf(r);e<0?n.push(new ql(this.view,r)):(this.gutters[e].update(t),n.push(this.gutters[e]))}for(let t of this.gutters)t.dom.remove();for(let t of n)this.dom.appendChild(t.dom);this.gutters=n}return r}destroy(){this.dom.remove()}},{provide:Sr.scrollMargins.from((t=>0!=t.gutters.length&&t.fixed?t.view.textDirection==Ie.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null))});class Ul{constructor(t,i){this.gutter=t,this.localMarkers=[],this.i=0,this.height=0,this.cursor=ci.iter(Array.isArray(t.markers)?t.markers:[t.markers],i.from)}line(t,i){for(this.localMarkers.length&&(this.localMarkers=[]);this.cursor.value&&this.cursor.from<=i.from;)this.cursor.from==i.from&&this.localMarkers.push(this.cursor.value),this.cursor.next();let e=this.gutter.config.lineMarker(t,i,this.localMarkers);e&&this.localMarkers.unshift(e);let r=this.gutter;if(0==this.localMarkers.length&&!r.config.renderEmptyElements)return;let n=i.top-this.height;if(this.i==r.elements.length){let e=new jl(t,i.height,n,this.localMarkers,r.elementClass);r.elements.push(e),r.dom.appendChild(e.dom)}else{let e=this.localMarkers,s=r.elements[this.i];(function(t,i){if(t.length!=i.length)return!1;for(let e=0;e<t.length;e++)if(!t[e].compare(i[e]))return!1;return!0})(e,s.markers)&&(e=s.markers,this.localMarkers.length=0),s.update(t,i.height,n,e,r.elementClass)}this.height=i.bottom,this.i++}finish(){let t=this.gutter;for(;t.elements.length>this.i;)t.dom.removeChild(t.elements.pop().dom)}}class ql{constructor(t,i){this.view=t,this.config=i,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className=Me("gutter"+(this.config.style?"."+this.config.style:"")),this.elementClass=Me("gutterElement"+(this.config.style?"."+this.config.style:""));for(let e in i.domEventHandlers)this.dom.addEventListener(e,(r=>{let n=t.visualLineAtHeight(r.clientY,t.contentDOM.getBoundingClientRect().top);i.domEventHandlers[e](t,n,r)&&r.preventDefault()}));this.markers=i.markers(t.state),i.initialSpacer&&(this.spacer=new jl(t,0,0,[i.initialSpacer(t)],this.elementClass),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let i=this.markers;if(this.markers=this.config.markers(t.state),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],t);i!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[i],this.elementClass)}return this.markers!=i}}class jl{constructor(t,i,e,r,n){this.height=-1,this.above=0,this.dom=document.createElement("div"),this.update(t,i,e,r,n)}update(t,i,e,r,n){if(this.height!=i&&(this.dom.style.height=(this.height=i)+"px"),this.above!=e&&(this.dom.style.marginTop=(this.above=e)?e+"px":""),this.markers!=r){this.markers=r;for(let t;t=this.dom.lastChild;)t.remove();let i=n;for(let e of r){let r=e.toDOM(t);r&&this.dom.appendChild(r);let n=e.elementClass;n&&(i+=" "+n)}this.dom.className=i}}}const Ml=vt.define(),Tl=vt.define({combine:t=>Jt(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,i){let e=Object.assign({},t);for(let r in i){let t=e[r],n=i[r];e[r]=t?(i,e,r)=>t(i,e,r)||n(i,e,r):n}return e}})});class _l extends Sl{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(t){let i=t.state.facet(Tl);return document.createTextNode(i.formatNumber(this.number))}}const El=kl({style:"lineNumber",markers:t=>t.facet(Ml),lineMarker:(t,i,e)=>e.length?null:new _l(t.state.doc.lineAt(i.from).number),initialSpacer:t=>new _l(Wl(t.state.doc.lines)),updateSpacer(t,i){let e=Wl(i.view.state.doc.lines);return e==t.number?t:new _l(e)}});function Wl(t){let i=9;for(;i<t;)i=10*i+9;return i}function Al(t,i){let e=i.mapPos(t.from,1),r=i.mapPos(t.to,-1);return e>=r?void 0:{from:e,to:r}}const Vl=Vt.define({map:Al}),Cl=Vt.define({map:Al});function Il(t){let i=[];for(let{head:e}of t.state.selection.ranges)i.some((t=>t.from<=e&&t.to>=e))||i.push(t.visualLineAt(e));return i}const Gl=$t.define({create:()=>Se.none,update(t,i){t=t.map(i.changes);for(let e of i.effects)e.is(Vl)&&!Dl(t,e.value.from,e.value.to)?t=t.update({add:[Jl.range(e.value.from,e.value.to)]}):e.is(Cl)&&(t=t.update({filter:(t,i)=>e.value.from!=t||e.value.to!=i,filterFrom:e.value.from,filterTo:e.value.to}));if(i.selection){let e=!1,{head:r}=i.selection.primary;t.between(r,r,((t,i)=>{t<r&&i>r&&(e=!0)})),e&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,i)=>i<=r||t>=r}))}return t},provide:[Rn.decorations]});function zl(t,i,e){var r;let n=null;return null===(r=t.field(Gl,!1))||void 0===r||r.between(i,e,((t,i)=>{(!n||n.from>t)&&(n={from:t,to:i})})),n}function Dl(t,i,e){let r=!1;return t.between(i,i,((t,n)=>{t==i&&n==e&&(r=!0)})),r}function Yl(t,i,e){return t.facet(Ht.foldable).reduce(((r,n)=>r||n(t,i,e)),null)}function Fl(t){return t.field(Gl,!1)?void 0:{append:Hl()}}const Bl=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let i of Il(t)){let e=Yl(t.state,i.from,i.to);if(e)return t.dispatch({effects:Vl.of(e),reconfigure:Fl(t.state)}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(Gl,!1))return!1;let i=[];for(let e of Il(t)){let r=zl(t.state,e.from,e.to);r&&i.push(Cl.of(r))}return i.length&&t.dispatch({effects:i}),i.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:i}=t,e=[];for(let r=0;r<i.doc.length;){let n=t.visualLineAt(r),s=Yl(i,n.from,n.to);s&&e.push(Vl.of(s)),r=(s?t.visualLineAt(s.to):n).to+1}return e.length&&t.dispatch({effects:e,reconfigure:Fl(t.state)}),!!e.length}},{key:"Ctrl-Alt-]",run:t=>{let i=t.state.field(Gl,!1);if(!i||!i.size)return!1;let e=[];return i.between(0,t.state.doc.length,((t,i)=>{e.push(Cl.of({from:t,to:i}))})),t.dispatch({effects:e}),!0}}],Zl={placeholderDOM:null,placeholderText:""},Nl=vt.define({combine:t=>Jt(t,Zl)});function Hl(t){let i=[Gl,ia];return t&&i.push(Nl.of(t)),i}const Jl=Se.replace({widget:new class extends be{ignoreEvents(){return!1}toDOM(t){let{state:i}=t,e=i.facet(Nl);if(e.placeholderDOM)return e.placeholderDOM();let r=document.createElement("span");return r.textContent=e.placeholderText,r.setAttribute("aria-label",i.phrase("folded code")),r.title=i.phrase("unfold"),r.className=Me("foldPlaceholder"),r.onclick=i=>{let e=t.visualLineAt(t.posAtDOM(i.target)),r=zl(t.state,e.from,e.to);r&&t.dispatch({effects:Cl.of(r)}),i.preventDefault()},r}}}),Kl={openText:"",closedText:""};class ta extends Sl{constructor(t,i){super(),this.config=t,this.open=i}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){let i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=t.state.phrase(this.open?"Fold line":"Unfold line"),i}}const ia=Rn.baseTheme({$foldPlaceholder:{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},"$gutterElement.foldGutter":{padding:"0 1px",cursor:"pointer"}}),ea=new class{constructor(t){this.typeNames=[""],this.typeIDs=Object.create(null),this.prop=new V,this.flags=t.flags,this.types=t.types,this.flagMask=Math.pow(2,this.flags.length)-1,this.typeShift=this.flags.length;let i=t.subtypes||0,e=[void 0];this.typeIDs[""]=0;let r=1;for(let n of t.types){let t=/^([\w\-]+)(?:=([\w-]+))?$/.exec(n);if(!t)throw new RangeError("Invalid type name "+n);let s=r++;this.typeNames[s]=t[1],this.typeIDs[t[1]]=s,e[s]=t[2];for(let n=0;n<i;n++){let i=r++,s=t[1]+"#"+(n+1);this.typeNames[i]=s,this.typeIDs[s]=i,e[i]=t[1]}}if(this.parents=e.map((t=>{if(null==t)return 0;let i=this.typeIDs[t];if(null==i)throw new RangeError(`Unknown parent type '${t}' specified`);return i})),this.flags.length>30||this.typeNames.length>Math.pow(2,30-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer")}get(t){let i=0;for(let e of t.split(" "))if(e){let r=this.flags.indexOf(e);if(r>-1)i+=1<<r;else{let r=this.typeIDs[e];if(null==r)throw new RangeError(`Unknown tag type '${e}'`);if(i>>this.typeShift)throw new RangeError(`Multiple tag types specified in '${t}'`);i+=r<<this.typeShift}}return i}getWithMode(t){let i="+"==t[0]?1:"!"==t[0]?0:2;return{mode:i,tag:this.get(2==i?t:t.slice(1))}}addTagProp(t,i={}){let{mode:e,tag:r}=this.getWithMode(t);return this.prop.set(i,new na(r,e,ra))}add(t){let i=Object.create(null);for(let e in t){let r=t[e],{mode:n,tag:s}=this.getWithMode(r);for(let t of e.split(" ")){let e=t.split("/"),r=e[e.length-1],o=e.length>1?e.slice(0,e.length-1).map((t=>"*"==t?null:t)):ra,l=new na(s,n,o);i[r]=l.sort(i[r])}}return this.prop.add(i)}highlighter(t){let i=new oa(this,t);return[yt(kr.define((t=>new la(t,this.prop,i)),{decorations:t=>t.decorations}),"fallback"),Rn.styleModule.of(i.module)]}specificity(t){let i=t&this.flagMask,e=0;for(let r=1;r<=this.flags.length;r++)i&1<<r&&e++;for(let r=t>>this.typeShift;r;r=this.parents[r])e+=/#/.test(this.typeNames[r])?500:1e3;return e}}({flags:["invalid","meta","standard","definition","constant","local","control","link","strong","emphasis","monospace","changed","inserted","deleted"],subtypes:7,types:["comment","lineComment=comment","blockComment=comment","docComment=comment","name","variableName=name","typeName=name","propertyName=name","className=name","labelName=name","functionName=name","namespace=name","literal","string=literal","docString=string","character=string","number=literal","integer=number","float=number","bool=literal","regexp=literal","escape=literal","color=literal","content","heading=content","list=content","quote=content","keyword","self=keyword","null=keyword","atom=keyword","unit=keyword","modifier=keyword","operatorKeyword=keyword","operator","derefOperator=operator","arithmeticOperator=operator","logicOperator=operator","bitwiseOperator=operator","compareOperator=operator","updateOperator=operator","typeOperator=operator","punctuation","separator=punctuation","bracket=punctuation","angleBracket=bracket","squareBracket=bracket","paren=bracket","brace=bracket"]}),ra=[];class na{constructor(t,i,e,r){this.tag=t,this.mode=i,this.context=e,this.next=r}sort(t){return!t||t.context.length<this.context.length?(this.next=t,this):(t.next=this.sort(t.next),t)}}class sa{constructor(t,i,e,r){this.type=t,this.flags=i,this.specificity=e,this.cls=r}}class oa{constructor(t,i){this.tags=t,this.cache=Object.create(null);let e=Object.create(null),r=[];for(let n in i){let s=ei.newName();e["."+s]=i[n];for(let i of n.split(/\s*,\s*/)){let e=t.get(i);r.push(new sa(e>>t.typeShift,e&t.flagMask,t.specificity(e),s))}}this.rules=r.sort(((t,i)=>i.specificity-t.specificity)),this.module=new ei(e)}match(t){let i=this.cache[t];if(null!=i)return i;let e="",r=t>>this.tags.typeShift,n=t&this.tags.flagMask;for(;;){for(let t of this.rules)if(t.type==r&&(t.flags&n)==t.flags&&(e&&(e+=" "),e+=t.cls,n&=~t.flags,r))break;if(!r)break;r=this.tags.parents[r]}return this.cache[t]=e}}class la{constructor(t,i,e){this.prop=i,this.styling=e,this.nodeStack=[""],this.classStack=[""],this.inheritStack=[""],this.tree=t.state.tree,this.decorations=this.buildDeco(t.visibleRanges,this.tree)}update(t){let i=t.state.facet(Ht.syntax);i.length?i[0].parsePos(t.state)<t.view.viewport.to?this.decorations=this.decorations.map(t.changes):(this.tree!=i[0].getTree(t.state)||t.viewportChanged)&&(this.tree=i[0].getTree(t.state),this.decorations=this.buildDeco(t.view.visibleRanges,this.tree)):this.decorations=Se.none}buildDeco(t,i){let e,r,n,s=new ui;function o(t,i){t>e&&i&&s.add(e,t,Se.mark({class:i})),e=t}let{nodeStack:l,classStack:a,inheritStack:h}=this;for(let{from:c,to:u}of t)r="",n=0,e=c,i.iterate({from:c,to:u,enter:(t,i)=>{n++;let e=h[n-1],s=e,c=t.prop(this.prop),u=!1;for(;c;){if(!c.context.length||aa(c.context,l,n)){let t=this.styling.match(c.tag);t&&(s&&(s+=" "),s+=t,1==c.mode?e=s:0==c.mode&&(u=!0));break}c=c.next}if(s!=r&&(o(i,r),r=s),u)return n--,!1;a[n]=s,h[n]=e,l[n]=t.name},leave:(t,i,e)=>{n--;let s=a[n];s!=r&&(o(Math.min(u,e),r),r=s)}});return s.finish()}}function aa(t,i,e){if(t.length>e-1)return!1;for(let r=e-1,n=t.length-1;n>=0;n--,r--){let e=t[n];if(e&&e!=i[r])return!1}return!0}const ha=ea.highlighter({deleted:{textDecoration:"line-through"},inserted:{textDecoration:"underline"},link:{textDecoration:"underline"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},keyword:{color:"#708"},"atom, bool":{color:"#219"},number:{color:"#164"},string:{color:"#a11"},"regexp, escape, string#2":{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},className:{color:"#167"},"name#2":{color:"#256"},"propertyName definition":{color:"#00c"},comment:{color:"#940"},meta:{color:"#555"},invalid:{color:"#f00"}}),ca=Wt.define(),ua=Wt.define(),fa=vt.define(),da=vt.define({combine:t=>Jt(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}),Oa=$t.define({create:()=>Xa.empty,update(t,i){let e=i.state.facet(da),r=i.annotation(ca);if(r){let n=ba.fromTransaction(i),s=r.side,o=0==s?t.undone:t.done;return o=n?$a(o,o.length,e.minDepth,n):xa(o,i.startState.selection),new Xa(0==s?r.rest:o,0==s?o:r.rest)}let n=i.annotation(ua);if("full"!=n&&"before"!=n||(t=t.isolate()),!1===i.annotation(It.addToHistory))return i.changes.length?t.addMapping(i.changes.desc):t;let s=ba.fromTransaction(i),o=i.annotation(It.time),l=i.annotation(It.userEvent);return s?t=t.addChanges(s,o,l,e.newGroupDelay,e.minDepth):i.selection&&(t=t.addSelection(i.startState.selection,o,l,e.newGroupDelay)),"full"!=n&&"after"!=n||(t=t.isolate()),t}});function ma(t={}){return[Oa,da.of(t)]}function pa(t,i){return function({state:e,dispatch:r}){let n=e.field(Oa,!1);if(!n)return!1;let s=n.pop(t,e,i);return!!s&&(r(s),!0)}}const ga=pa(0,!1),va=pa(1,!1),wa=pa(0,!0),Qa=pa(1,!0);class ba{constructor(t,i,e,r,n){this.changes=t,this.effects=i,this.mapped=e,this.startSelection=r,this.selectionsAfter=n}setSelAfter(t){return new ba(this.changes,this.effects,this.mapped,this.startSelection,t)}static fromTransaction(t){let i=ya;for(let e of t.startState.facet(fa)){let r=e(t);r.length&&(i=i.concat(r))}return!i.length&&t.changes.empty?null:new ba(t.changes.invert(t.startState.doc),i,void 0,t.startState.selection,ya)}static selection(t){return new ba(void 0,ya,void 0,void 0,t)}}function $a(t,i,e,r){let n=t.slice(i+1>e+20?i-e-1:0,i);return n.push(r),n}function Sa(t,i){return t.length?i.length?t.concat(i):t:i}const ya=[];function xa(t,i){if(t.length){let e=t[t.length-1],r=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(i)?t:(r.push(i),$a(t,t.length-1,1e9,e.setSelAfter(r)))}return[ba.selection([i])]}function ka(t){let i=t[t.length-1],e=t.slice();return e[t.length-1]=i.setSelAfter(i.selectionsAfter.slice(0,i.selectionsAfter.length-1)),e}function La(t,i){if(!t.length)return t;let e=t.length,r=ya;for(;e;){let n=Pa(t[e-1],i,r);if(n.changes&&!n.changes.empty||n.effects.length){let i=t.slice(0,e);return i[e-1]=n,i}i=n.mapped,e--,r=n.selectionsAfter}return r.length?[ba.selection(r)]:ya}function Pa(t,i,e){let r=Sa(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(i))):ya,e);if(!t.changes)return ba.selection(r);let n=t.changes.map(i),s=i.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new ba(n,Vt.mapEffects(t.effects,i),o,t.startSelection.map(s),r)}class Xa{constructor(t,i,e=0,r){this.done=t,this.undone=i,this.prevTime=e,this.prevUserEvent=r}isolate(){return this.prevTime?new Xa(this.done,this.undone):this}addChanges(t,i,e,r,n){let s=this.done,o=s[s.length-1];return s=o&&o.changes&&i-this.prevTime<r&&!o.selectionsAfter.length&&o.changes.length&&t.changes&&function(t,i){let e=[],r=!1;return t.iterChangedRanges(((t,i)=>e.push(t,i))),i.iterChangedRanges(((t,i,n,s)=>{for(let o=0;o<e.length;){let t=e[o++],i=e[o++];s>=t&&n<=i&&(r=!0)}})),r}(o.changes,t.changes)?$a(s,s.length-1,n,new ba(t.changes.compose(o.changes),Sa(t.effects,o.effects),o.mapped,o.startSelection,ya)):$a(s,s.length,n,t),new Xa(s,ya,i,e)}addSelection(t,i,e,r){let n=this.done.length?this.done[this.done.length-1].selectionsAfter:ya;return n.length>0&&i-this.prevTime<r&&"keyboardselection"==e&&this.prevUserEvent==e&&(s=n[n.length-1]).ranges.length==(o=t).ranges.length&&0===s.ranges.filter(((t,i)=>t.empty!=o.ranges[i].empty)).length?this:new Xa(xa(this.done,t),this.undone,i,e);var s,o}addMapping(t){return new Xa(La(this.done,t),La(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,i,e){let r=0==t?this.done:this.undone;if(0==r.length)return null;let n=r[r.length-1];if(e&&n.selectionsAfter.length)return i.update({selection:n.selectionsAfter[n.selectionsAfter.length-1],annotations:ca.of({side:t,rest:ka(r)})});if(n.changes){let e=1==r.length?ya:r.slice(0,r.length-1);return n.mapped&&(e=La(e,n.mapped)),i.update({changes:n.changes,selection:n.startSelection,effects:n.effects,annotations:ca.of({side:t,rest:e}),filter:!1})}return null}}Xa.empty=new Xa(ya,ya);const Ra=[{key:"Mod-z",run:ga,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:va,preventDefault:!0},{key:"Mod-u",run:wa,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Qa,preventDefault:!0}];
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ua,qa=function(t,i){return(qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)},ja=function(){function t(t,i,e,r,n,s,o,l,a){this.cx=t,this.stack=i,this.state=e,this.reducePos=r,this.pos=n,this.score=s,this.buffer=o,this.bufferBase=l,this.parent=a}return t.prototype.toString=function(){return"["+this.stack.filter((function(t,i){return i%3==0})).concat(this.state)+"]@"+this.pos+(this.score?"!"+this.score:"")},t.start=function(i,e,r){return void 0===r&&(r=0),new t(i,[],e,r,r,0,[],0,null)},t.prototype.pushState=function(t,i){this.stack.push(this.state,i,this.bufferBase+this.buffer.length),this.state=t},t.prototype.reduce=function(t){var i=t>>19,e=65535&t,r=this.cx.parser,n=r.dynamicPrecedence(e);if(n&&(this.score+=n),0==i)return e<r.minRepeatTerm&&this.storeNode(e,this.reducePos,this.reducePos,4,!0),void this.pushState(r.getGoto(this.state,e,!0),this.reducePos);var s=this.stack.length-3*(i-1)-(262144&t?6:0),o=this.stack[s-2],l=this.bufferBase+this.buffer.length-this.stack[s-1];if(e<r.minRepeatTerm||131072&t){var a=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(e,o,a,l+4,!0)}for(this.state=262144&t?this.stack[s]:r.getGoto(this.stack[s-3],e,!0);this.stack.length>s;)this.stack.pop()},t.prototype.storeNode=function(t,i,e,r,n){if(void 0===r&&(r=4),void 0===n&&(n=!1),0==t){var s=this,o=this.buffer.length;if(0==o&&s.parent&&(o=s.bufferBase-s.parent.bufferBase,s=s.parent),o>0&&0==s.buffer[o-4]&&s.buffer[o-1]>-1){if(i==e)return;if(s.buffer[o-2]>=i)return void(s.buffer[o-2]=e)}}if(n&&this.pos!=e){var l=this.buffer.length;if(l>0&&0!=this.buffer[l-4])for(;l>0&&this.buffer[l-2]>e;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,r>4&&(r-=4);this.buffer[l]=t,this.buffer[l+1]=i,this.buffer[l+2]=e,this.buffer[l+3]=r}else this.buffer.push(t,i,e,r)},t.prototype.shift=function(t,i,e){if(131072&t)this.pushState(65535&t,this.pos);else if(0==(262144&t)){var r=this.pos,n=t,s=this.cx.parser;(e>this.pos||i<=s.maxNode)&&(this.pos=e,s.stateFlag(n,1)||(this.reducePos=e)),this.pushState(n,r),i<=s.maxNode&&this.buffer.push(i,r,e,4)}else i<=this.cx.parser.maxNode&&this.buffer.push(i,this.pos,e,4),this.pos=e},t.prototype.apply=function(t,i,e){65536&t?this.reduce(t):this.shift(t,i,e)},t.prototype.useNode=function(t,i){var e=this.cx.reused.length-1;(e<0||this.cx.reused[e]!=t)&&(this.cx.reused.push(t),e++);var r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(i,r),this.buffer.push(e,r,this.reducePos,-1)},t.prototype.split=function(){for(var i=this,e=i.buffer.length;e>0&&i.buffer[e-2]>i.reducePos;)e-=4;for(var r=i.buffer.slice(e),n=i.bufferBase+e;i&&n==i.bufferBase;)i=i.parent;return new t(this.cx,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,i)},t.prototype.recoverByDelete=function(t,i){var e=t<=this.cx.parser.maxNode;e&&this.storeNode(t,this.pos,i),this.storeNode(0,this.pos,i,e?8:4),this.pos=this.reducePos=i,this.score-=200},t.prototype.canShift=function(t){for(var i=new Ma(this);;){var e=this.cx.parser.stateSlot(i.top,4)||this.cx.parser.hasAction(i.top,t);if(0==(65536&e))return!0;if(0==e)return!1;i.reduce(e)}},Object.defineProperty(t.prototype,"ruleStart",{get:function(){for(var t=this.state,i=this.stack.length;;){var e=this.cx.parser.stateSlot(t,5);if(!(65536&e))return 0;if(i-=3*(e>>19),(65535&e)<this.cx.parser.minRepeatTerm)return this.stack[i+1];t=this.stack[i]}},enumerable:!0,configurable:!0}),t.prototype.startOf=function(t,i){for(var e=this.state,r=this.stack.length,n=this.cx.parser;;){var s=n.stateSlot(e,5),o=s>>19,l=65535&s;if(t.indexOf(l)>-1){var a=this.stack[r-3*(s>>19)+1];if(null==i||i>a)return a}if(0==r)return null;e=0==o?this.stack[r-=3]:n.getGoto(this.stack[(r-=3*(o-1))-3],l,!0)}},t.prototype.recoverByInsert=function(t){var i=this;if(this.stack.length>=300)return[];var e=this.cx.parser.nextStates(this.state);if(e.length>4||this.stack.length>=120){var r=e.filter((function(e){return e!=i.state&&i.cx.parser.hasAction(e,t)}));if(this.stack.length<120)for(var n=0;r.length<4&&n<e.length;n++)r.indexOf(e[n])<0&&r.push(e[n]);e=r}var s=[];for(n=0;n<e.length&&s.length<4;n++)if(e[n]!=this.state){var o=this.split();o.storeNode(0,o.pos,o.pos,4,!0),o.pushState(e[n],this.pos),o.score-=200,s.push(o)}return s},t.prototype.forceReduce=function(){var t=this.cx.parser.stateSlot(this.state,5);return 0!=(65536&t)&&(this.cx.parser.validAction(this.state,t)||(this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100),this.reduce(t),!0)},t.prototype.forceAll=function(){for(;!this.cx.parser.stateFlag(this.state,2)&&this.forceReduce(););return this},Object.defineProperty(t.prototype,"deadEnd",{get:function(){if(3!=this.stack.length)return!1;var t=this.cx.parser;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)},enumerable:!0,configurable:!0}),t.prototype.restart=function(){this.state=this.stack[0],this.stack.length=0},t.prototype.sameState=function(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(var i=0;i<this.stack.length;i+=3)if(this.stack[i]!=t.stack[i])return!1;return!0},t.prototype.toTree=function(){return z.build({buffer:Ta.create(this),group:this.cx.parser.group,topID:this.cx.topTerm,maxBufferLength:this.cx.maxBufferLength,reused:this.cx.reused,minRepeatType:this.cx.parser.minRepeatTerm})},Object.defineProperty(t.prototype,"parser",{get:function(){return this.cx.parser},enumerable:!0,configurable:!0}),t.prototype.dialectEnabled=function(t){return this.cx.dialect.flags[t]},t}();!function(t){t[t.Token=200]="Token",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Ua||(Ua={}));var Ma=function(){function t(t){this.stack=t,this.top=t.state,this.rest=t.stack,this.offset=this.rest.length}return t.prototype.reduce=function(t){var i=65535&t,e=t>>19;0==e?(this.rest==this.stack.stack&&(this.rest=this.rest.slice()),this.rest.push(this.top,0,0),this.offset+=3):this.offset-=3*(e-1);var r=this.stack.cx.parser.getGoto(this.rest[this.offset-3],i,!0);this.top=r},t}(),Ta=function(){function t(t,i,e){this.stack=t,this.pos=i,this.index=e,this.buffer=t.buffer,0==this.index&&this.maybeNext()}return t.create=function(i){return new t(i,i.bufferBase+i.buffer.length,i.buffer.length)},t.prototype.maybeNext=function(){var t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)},Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:!0,configurable:!0}),t.prototype.next=function(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()},t.prototype.fork=function(){return new t(this.stack,this.pos,this.index)},t}(),_a=function(){function t(){this.start=-1,this.value=-1,this.end=-1}return t.prototype.accept=function(t,i){this.value=t,this.end=i},t}(),Ea=function(){function t(t,i){void 0===i&&(i=t.length),this.string=t,this.length=i}return t.prototype.get=function(t){return t<0||t>=this.length?-1:this.string.charCodeAt(t)},t.prototype.read=function(t,i){return this.string.slice(t,Math.min(this.length,i))},t.prototype.clip=function(i){return new t(this.string,i)},t}(),Wa=function(){function t(t,i){this.data=t,this.id=i}return t.prototype.token=function(t,i,e){!function(t,i,e,r,n){var s=0,o=1<<n,l=r.cx.dialect;t:for(var a=e.start;0!=(o&t[s]);){for(var h=t[s+1],c=s+3;c<h;c+=2)if((t[c+1]&o)>0){var u=t[c];if(l.allows(u)&&(-1==e.value||e.value==u||r.cx.parser.overrides(u,e.value))){e.accept(u,a);break}}for(var f=i.get(a++),d=0,O=t[s+2];d<O;){var m=d+O>>1,p=h+m+(m<<1);if(f<t[p])O=m;else{if(!(f>=t[p+1])){s=t[p+2];continue t}d=m+1}}break}}(this.data,t,i,e,this.id)},t}();Wa.prototype.contextual=Wa.prototype.fallback=Wa.prototype.extend=!1;var Aa=function(t,i){void 0===i&&(i={}),this.token=t,this.contextual=!!i.contextual,this.fallback=!!i.fallback,this.extend=!!i.extend};function Va(t,i){if(void 0===i&&(i=Uint16Array),"string"!=typeof t)return t;for(var e=null,r=0,n=0;r<t.length;){for(var s=0;;){var o=t.charCodeAt(r++),l=!1;if(126==o){s=65535;break}o>=92&&o--,o>=34&&o--;var a=o-32;if(a>=46&&(a-=46,l=!0),s+=a,l)break;s*=46}e?e[n++]=s:e=new i(s)}return e}var Ca="undefined"!=typeof process&&/\bparse\b/.test(process.env.LOG),Ia=null,Ga=function(){function t(t){this.start=[0],this.index=[0],this.nextStart=0,this.trees=[t]}return t.prototype.nodeAt=function(t){if(t<this.nextStart)return null;for(;;){var i=this.trees.length-1;if(i<0)return this.nextStart=1e9,null;var e=this.trees[i],r=this.index[i];if(r!=e.children.length){var n=e.children[r],s=this.start[i]+e.positions[r];if(s>=t)return s==t?n:null;n instanceof D?(this.index[i]++,this.nextStart=s+n.length):(this.index[i]++,s+n.length>=t&&(this.trees.push(n),this.start.push(s),this.index.push(0)))}else this.trees.pop(),this.start.pop(),this.index.pop()}},t}(),za=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.extended=-1,i.mask=0,i}return function(t,i){function e(){this.constructor=t}qa(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}(i,t),i.prototype.clear=function(t){this.start=t,this.value=this.extended=-1},i}(_a),Da=new _a,Ya=function(){function t(t){this.tokens=[],this.mainToken=Da,this.actions=[],this.tokens=t.tokenizers.map((function(){return new za}))}return t.prototype.getActions=function(t,i){for(var e=0,r=null,n=t.cx.parser,s=n.tokenizers,o=n.stateSlot(t.state,3),l=0;l<s.length;l++)if(0!=(1<<l&o)){var a=s[l],h=this.tokens[l];if((!r||a.fallback)&&((a.contextual||h.start!=t.pos||h.mask!=o)&&(this.updateCachedToken(h,a,t,i),h.mask=o),0!=h.value)){var c=e;if(h.extended>-1&&(e=this.addActions(t,h.extended,h.end,e)),e=this.addActions(t,h.value,h.end,e),!a.extend&&(r=h,e>c))break}}for(;this.actions.length>e;)this.actions.pop();return r||((r=Da).start=t.pos,t.pos==i.length?r.accept(t.cx.parser.eofTerm,t.pos):r.accept(0,t.pos+1)),this.mainToken=r,this.actions},t.prototype.updateCachedToken=function(t,i,e,r){if(t.clear(e.pos),i.token(r,t,e),t.value>-1){for(var n=e.cx.parser,s=0;s<n.specialized.length;s++)if(n.specialized[s]==t.value){var o=n.specializers[s](r.read(t.start,t.end),e);if(o>=0&&e.cx.dialect.allows(o>>1)){0==(1&o)?t.value=o>>1:t.extended=o>>1;break}}}else e.pos==r.length?t.accept(e.cx.parser.eofTerm,e.pos):t.accept(0,e.pos+1)},t.prototype.putAction=function(t,i,e,r){for(var n=0;n<r;n+=3)if(this.actions[n]==t)return r;return this.actions[r++]=t,this.actions[r++]=i,this.actions[r++]=e,r},t.prototype.addActions=function(t,i,e,r){for(var n=t.state,s=t.cx.parser,o=s.data,l=0;l<2;l++)for(var a=s.stateSlot(n,l?2:1);;a+=3){if(65535==o[a]){if(1!=o[a+1]){0==r&&2==o[a+1]&&(r=this.putAction(Ha(o,a+1),i,e,r));break}a=Ha(o,a+2)}o[a]==i&&(r=this.putAction(Ha(o,a+1),i,e,r))}return r},t}(),Fa=function(t,i,e,r,n,s,o){void 0===s&&(s=null),void 0===o&&(o=-1),this.parser=t,this.maxBufferLength=i,this.input=e,this.topTerm=r,this.dialect=n,this.parent=s,this.wrapType=o,this.reused=[],this.tokens=new Ya(t)},Ba=function(){function t(t,i,e){void 0===e&&(e={}),this.pos=0,this.recovering=0,this.tokenCount=0,this.nextStackID=9812;var r=e.cache,n=void 0===r?void 0:r,s=e.strict,o=void 0!==s&&s,l=e.bufferLength,a=void 0===l?1024:l,h=e.top,c=void 0===h?void 0:h,u=e.dialect,f=c?t.topRules[c]:t.defaultTop;if(!f)throw new RangeError("Invalid top rule name "+c);this.stacks=[ja.start(new Fa(t,a,i,f[1],t.parseDialect(u)),f[0])],this.strict=o,this.cache=n?new Ga(n):null}return t.prototype.putStack=function(t){this.stacks.push(t),(this.pos<0||t.pos<this.pos)&&(this.pos=t.pos)},t.prototype.putStackDedup=function(t){for(var i=0;i<this.stacks.length;i++){var e=this.stacks[i];if(e.pos==t.pos&&e.sameState(t))return void(this.stacks[i].score<t.score&&(this.stacks[i]=t))}this.putStack(t)},t.prototype.advance=function(){var t=this.stacks,i=this.pos;this.stacks=[],this.pos=-1;for(var e=null,r=null,n=0;n<t.length;n++)for(var s=t[n];;){if(s.pos>i)this.putStack(s);else{var o=this.advanceStack(s,t);if(o){s=o;continue}e||(e=[],r=[]),e.push(s);var l=s.cx.tokens.mainToken;r.push(l.value,l.end)}break}if(!this.stacks.length){var a;if(a=e&&function(t){for(var i=null,e=0,r=t;e<r.length;e++){var n=r[e];n.pos==n.cx.input.length&&n.cx.parser.stateFlag(n.state,2)&&(!i||i.score<n.score)&&(i=n)}return i}(e))return a.toTree();if(this.strict)throw Ca&&e&&console.log("Stuck with token "+e[0].cx.parser.getName(e[0].cx.tokens.mainToken.value)),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e&&(a=this.runRecovery(e,r)))return a.forceAll().toTree();if(this.recovering){var h=1==this.recovering?1:3*this.recovering;this.stacks.length>h&&(this.stacks.sort((function(t,i){return i.score-t.score})),this.stacks.length=h),this.stacks.some((function(t){return t.reducePos>i}))&&this.recovering--}else if(this.stacks.length>1)t:for(n=0;n<this.stacks.length-1;n++){s=this.stacks[n];for(var c=n+1;c<this.stacks.length;c++){var u=this.stacks[c];if(s.sameState(u)||s.buffer.length>200&&u.buffer.length>200){if(!((s.score-u.score||s.buffer.length-u.buffer.length)>0)){this.stacks.splice(n--,1);continue t}this.stacks.splice(c--,1)}}}return this.tokenCount++,null},t.prototype.advanceStack=function(t,i){var e=t.pos,r=t.cx,n=r.input,s=r.parser,o=Ca?this.stackID(t)+" -> ":"";if(this.cache)for(var l=this.cache.nodeAt(e);l;){var a=s.group.types[l.type.id]==l.type?s.getGoto(t.state,l.type.id):-1;if(a>-1)return t.useNode(l,a),Ca&&console.log(o+this.stackID(t)+" (via reuse of "+s.getName(l.type.id)+")"),t;if(!(l instanceof z)||0==l.children.length||l.positions[0]>0)break;var h=l.children[0];if(!(h instanceof z))break;l=h}var c=s.startNested(t.state);t:if(c>-1){var u=s.nested[c],f=u.grammar,d=u.end,O=u.placeholder,m=void 0,p=null,g=void 0,v=void 0,w=void 0,Q=void 0;if("function"==typeof f){var b=f(n,t);if(b.stay)break t;p=b.parseNode,g=b.parser,v=b.top,w=b.dialect,m=b.filterEnd,Q=b.wrapType}else g=f;var $=this.scanForNestEnd(t,d,m),S=t.cx.input.clip($);if(p||!g){var y=p?p(S,t.pos):z.empty;return y.length!=$-t.pos&&(y=new z(y.type,y.children,y.positions,$-t.pos)),null!=Q&&(y=new z(s.group.types[Q],[y],[0],y.length)),t.useNode(y,s.getGoto(t.state,O,!0)),t}var x=v?g.topRules[v]:g.defaultTop,k=ja.start(new Fa(g,t.cx.maxBufferLength,S,x[1],g.parseDialect(w),t,Q),x[0],t.pos);return Ca&&console.log(o+this.stackID(k)+" (nested)"),k}var L=s.stateSlot(t.state,4);if(L>0)return t.reduce(L),Ca&&console.log(o+this.stackID(t)+" (via always-reduce "+s.getName(65535&L)+")"),t;for(var P=t.cx.tokens.getActions(t,n),X=0;X<P.length;){var R=P[X++],U=P[X++],q=($=P[X++],X==P.length||!i),j=q?t:t.split();if(j.apply(R,U,$),Ca&&console.log(o+this.stackID(j)+" (via "+(0==(65536&R)?"shift":"reduce of "+s.getName(65535&R))+" for "+s.getName(U)+" @ "+e+(j==t?"":", split")+")"),q)return j;j.pos>e?this.putStack(j):i.push(j)}return t.cx.parent&&t.pos==n.length?this.finishNested(t):null},t.prototype.advanceFully=function(t){for(var i=t.pos;;){var e=this.advanceStack(t,null);if(!e)return t;if(e.pos>i)return this.putStackDedup(e),null;t=e}},t.prototype.runRecovery=function(t,i){for(var e=null,r=!1,n=0;n<t.length;n++){var s=t[n],o=i[n<<1],l=i[1+(n<<1)],a=Ca?this.stackID(s)+" -> ":"";if(s.deadEnd){if(r)continue;if(r=!0,s.restart(),Ca&&console.log(a+this.stackID(s)+" (restarted)"),!(f=this.advanceFully(s)))continue;s=f}for(var h=s.split(),c=a,u=0;h.forceReduce()&&u<10;u++){var f;if(Ca&&console.log(c+this.stackID(h)+" (via force-reduce)"),!(f=this.advanceFully(h)))break;h=f,Ca&&(c=this.stackID(f)+" -> ")}for(var d=0,O=s.recoverByInsert(o);d<O.length;d++){var m=O[d];Ca&&console.log(a+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m)}s.cx.input.length>s.pos?(l==s.pos&&(l++,o=0),s.recoverByDelete(o,l),Ca&&console.log(a+this.stackID(s)+" (via recover-delete "+s.cx.parser.getName(o)+")"),this.putStackDedup(s)):s.cx.parent||e&&!(e.score<s.score)||(e=s)}return e},t.prototype.forceFinish=function(){return this.stacks[0].split().forceAll().toTree()},Object.defineProperty(t.prototype,"badness",{get:function(){return this.stacks.length?-this.stacks[0].score/(200*this.tokenCount):0},enumerable:!0,configurable:!0}),t.prototype.scanForNestEnd=function(t,i,e){for(var r=t.cx.input,n=t.pos;n<r.length;n++)if(Da.start=n,Da.value=-1,i.token(r,Da,t),Da.value>-1&&(!e||e(r.read(n,Da.end))))return n;return r.length},t.prototype.finishNested=function(t){if(-2==t.cx.wrapType)return null;var i=t.cx.parent,e=t.forceAll().toTree(),r=i.cx.parser,n=r.nested[r.startNested(i.state)];return e=new z(e.type,e.children,e.positions.map((function(t){return t-i.pos})),t.pos-i.pos),t.cx.wrapType>-1&&(e=new z(r.group.types[t.cx.wrapType],[e],[0],e.length)),t.cx.wrapType=-2,i.useNode(e,r.getGoto(i.state,n.placeholder,!0)),Ca&&console.log(this.stackID(i)+" (via unnest "+(t.cx.wrapType>-1?r.getName(t.cx.wrapType):e.type.name)+")"),i},t.prototype.stackID=function(t){var i=(Ia||(Ia=new WeakMap)).get(t);return i||Ia.set(t,i=String.fromCodePoint(this.nextStackID++)),i+t},t}(),Za=function(){function t(t,i,e){this.source=t,this.flags=i,this.disabled=e}return t.prototype.allows=function(t){return!this.disabled||0==this.disabled[t]},t}(),Na=function(){function t(t){var i=this;if(this.nextStateCache=[],this.cachedDialect=null,12!=t.version)throw new RangeError("Parser version ("+t.version+") doesn't match runtime version (12)");var e=Va(t.tokenData),r=t.nodeNames.split(" ");this.minRepeatTerm=r.length;for(var n=0;n<t.repeatNodeCount;n++)r.push("");var s=[];for(n=0;n<r.length;n++)s.push(Ja);function o(t,i,e){s[t]==Ja&&(s[t]=Object.create(null)),i.set(s[t],i.deserialize(String(e)))}if(t.nodeProps)for(var l=0,a=t.nodeProps;l<a.length;l++){var h=a[l],c=h[0];for(n=1;n<h.length;){var u=h[n++];if(u>=0)o(u,c,h[n++]);else{for(var f=h[n+-u],d=-u;d>0;d--)o(h[n++],c,f);n++}}}if(this.specialized=new Uint16Array(t.specialized?t.specialized.length:0),this.specializers=[],t.specialized)for(n=0;n<t.specialized.length;n++)this.specialized[n]=t.specialized[n].term,this.specializers[n]=t.specialized[n].get;this.states=Va(t.states,Uint32Array),this.data=Va(t.stateData),this.goto=Va(t.goto);var O=Object.keys(t.topRules).map((function(i){return t.topRules[i][1]}));this.group=new G(r.map((function(e,r){var n=(r>=i.minRepeatTerm?8:0)|(O.indexOf(r)>-1?1:0)|(0==r?4:0)|(t.skippedNodes&&t.skippedNodes.indexOf(r)>-1?2:0);return new I(e,s[r],r,n)}))),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map((function(t){return"number"==typeof t?new Wa(e,t):t})),this.topRules=t.topRules,this.nested=(t.nested||[]).map((function(t){var i=t[3];return{name:t[0],grammar:t[1],end:new Wa(Va(t[2]),0),placeholder:i}})),this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.group.types.length-1,n=0;for(var m=this.states.length/6;n<m;n++)this.nextStateCache[n]=null}return t.prototype.parse=function(t,i){"string"==typeof t&&(t=new Ea(t));for(var e=new Ba(this,t,i);;){var r=e.advance();if(r)return r}},t.prototype.startParse=function(t,i){return"string"==typeof t&&(t=new Ea(t)),new Ba(this,t,i)},t.prototype.getGoto=function(t,i,e){void 0===e&&(e=!1);var r=this.goto;if(i>=r[0])return-1;for(var n=r[i+1];;){var s=r[n++],o=1&s,l=r[n++];if(o&&e)return l;for(var a=n+(s>>1);n<a;n++)if(r[n]==t)return l;if(o)return-1}},t.prototype.hasAction=function(t,i){for(var e=this.data,r=0;r<2;r++)for(var n=this.stateSlot(t,r?2:1),s=void 0;;n+=3){if(65535==(s=e[n])){if(1!=e[n+1]){if(2==e[n+1])return Ha(e,n+2);break}s=e[n=Ha(e,n+2)]}if(s==i||0==s)return Ha(e,n+1)}return 0},t.prototype.stateSlot=function(t,i){return this.states[6*t+i]},t.prototype.stateFlag=function(t,i){return(this.stateSlot(t,0)&i)>0},t.prototype.startNested=function(t){var i=this.stateSlot(t,0);return 4&i?i>>10:-1},t.prototype.validAction=function(t,i){if(i==this.stateSlot(t,4))return!0;for(var e=this.stateSlot(t,1);;e+=3){if(65535==this.data[e]){if(1!=this.data[e+1])return!1;e=Ha(this.data,e+2)}if(i==Ha(this.data,e+1))return!0}},t.prototype.nextStates=function(t){var i=this.nextStateCache[t];if(i)return i;for(var e=[],r=this.stateSlot(t,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=Ha(this.data,r+2)}0==(1&this.data[r+2])&&e.indexOf(this.data[r+1])<0&&e.push(this.data[r+1])}for(var n=this.goto,s=n[0],o=0;o<s;o++)for(var l=n[o+1];;){for(var a=n[l++],h=n[l++],c=l+(a>>1);l<c;l++)n[l]==t&&e.indexOf(h)<0&&e.push(h);if(1&a)break}return this.nextStateCache[t]=e},t.prototype.overrides=function(t,i){var e=Ka(this.data,this.tokenPrecTable,i);return e<0||Ka(this.data,this.tokenPrecTable,t)<e},t.prototype.withNested=function(t){return this.copy({nested:this.nested.map((function(i){return Object.prototype.hasOwnProperty.call(t,i.name)?{name:i.name,grammar:t[i.name],end:i.end,placeholder:i.placeholder}:i}))})},t.prototype.withProps=function(){for(var t,i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return this.copy({group:(t=this.group).extend.apply(t,i)})},t.prototype.withTokenizer=function(t,i){return this.copy({tokenizers:this.tokenizers.map((function(e){return e==t?i:e}))})},t.prototype.copy=function(i){for(var e=Object.create(t.prototype),r=0,n=Object.keys(this);r<n.length;r++){var s=n[r];e[s]=s in i?i[s]:this[s]}return e},t.prototype.getName=function(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.group.types[t].name||t)},Object.defineProperty(t.prototype,"eofTerm",{get:function(){return this.maxNode+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasNested",{get:function(){return this.nested.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultTop",{get:function(){return this.topRules[Object.keys(this.topRules)[0]]},enumerable:!0,configurable:!0}),t.prototype.dynamicPrecedence=function(t){var i=this.dynamicPrecedences;return null==i?0:i[t]||0},Object.defineProperty(t.prototype,"topType",{get:function(){return this.group.types[this.defaultTop[1]]},enumerable:!0,configurable:!0}),t.prototype.parseDialect=function(t){if(this.cachedDialect&&this.cachedDialect.source==t)return this.cachedDialect;var i=Object.keys(this.dialects),e=i.map((function(){return!1}));if(t)for(var r=0,n=t.split(" ");r<n.length;r++)(a=i.indexOf(n[r]))>=0&&(e[a]=!0);for(var s=null,o=0;o<i.length;o++)if(!e[o])for(var l=this.dialects[i[o]],a=void 0;65535!=(a=this.data[l++]);)(s||(s=new Uint8Array(this.maxTerm+1)))[a]=1;return this.cachedDialect=new Za(t,e,s)},t.deserialize=function(i){return new t(i)},t}();function Ha(t,i){return t[i]|t[i+1]<<16}Na.TokenGroup=Wa;var Ja=Object.create(null);function Ka(t,i,e){for(var r=i,n=void 0;65535!=(n=t[r]);r++)if(n==e)return r-i;return-1}const th=[21,48,49,53,56,57,60,61,62],ih=[231],eh=new WeakMap;class rh{constructor(){this.last=this.lastIndent=-1,this.prev=[]}get(t){if(this.last==t)return this.lastIndent;for(let i=0;i<this.prev.length;i++)if(this.prev[i]==t)return i;return-1}set(t,i){t!=this.last&&(this.last>-1&&this.setPrev(this.last,this.lastIndent),this.last=t,this.lastIndent=i)}setPrev(t,i){for(;this.prev.length<i;)this.prev.push(-1);this.prev[i]=t}static for(t){let i=eh.get(t);return i||eh.set(t,i=new rh),i}}function nh(t,i){let e=rh.for(t),r=e.get(i);if(r>-1)return r;let n=t.read(Math.max(0,i-50),i),s=0,o=n.length;for(;o>0;o--){let t=n.charCodeAt(o-1);if(10==t||13==t)break}for(let l=o;l<n.length;l++){let t=n.charCodeAt(l);if(32==t)s++;else{if(9!=t)break;s+=8-s%8}}return e.setPrev(i,s),s}const sh=new Aa(((t,i,e)=>{let r=t.get(i.start);if(r<0)return void i.accept(167,i.start);if(10!=r&&13!=r)return;if(null!=e.startOf(th))return void i.accept(165,i.start+1);let n=i.start+1,s=0;for(;n<t.length;n++){let e=t.get(n);if(32==e)s++;else{if(9!=e){if(10==e||13==s||35==e)return void i.accept(166,i.start+1);break}s+=8-s%8}}i.accept(164,i.start+1),rh.for(t).set(n,s)}),{contextual:!0,fallback:!0}),oh=new Aa(((t,i,e)=>{let r=e.startOf(ih),n=null==r?0:nh(t,r),s=nh(t,i.start);i.accept(s<=n?169:168,i.start)}),{contextual:!0,fallback:!0}),lh=new Aa(((t,i)=>{let e=i.start;for(let n="print",s=0;s<n.length;s++,e++)if(t.get(e)!=n.charCodeAt(s))return;let r=e;if(!/\w/.test(String.fromCharCode(t.get(e))))for(;;e++){let n=t.get(e);if(32!=n&&9!=n)return void(40!=n&&46!=n&&10!=n&&13!=n&&35!=n&&i.accept(1,r))}})),ah={__proto__:null,await:40,or:48,and:50,in:54,not:56,is:58,if:64,else:66,lambda:70,self:74,yield:90,from:92,async:100,for:102,None:154,True:156,False:156,del:170,pass:174,break:178,continue:182,return:186,raise:194,import:198,as:200,global:204,nonlocal:206,assert:210,elif:220,while:224,try:230,except:232,finally:234,with:238,def:242,class:252},hh=Na.deserialize({version:12,states:"!;[O`Q!LTOOO%fQ!LUO'#GcOOQ!LQ'#Cm'#CmOOQ!LQ'#Cn'#CnO'UQ!LSO'#ClO(zQ!LUO'#GbOOQ!LQ'#Gc'#GcOOQ!LQ'#DS'#DSOOQ!LQ'#Gb'#GbO)hQ!LSO'#CqO)xQ!LSO'#DcO*YQ!LSO'#DgOOQ!LQ'#Dt'#DtO*mOWO'#DtO*uO`O'#DtO*}OpO'#DuO+YO!bO'#DuO+eO#tO'#DuO+pO&jO'#DuO-rQ!LUO'#GSOOQ!LQ'#GS'#GSO'UQ!LSO'#GRO/UQ!LUO'#GROOQ!LQ'#E^'#E^O/mQ!LSO'#E_OOQ!LQ'#GQ'#GQO/wQ!LSO'#GPOOQ&FV'#GP'#GPO0SQ!LSO'#FQOOQ!LQ'#Ft'#FtO0XQ!LSO'#FPOOQ&FV'#H]'#H]OOQ&FV'#GO'#GOOOQ!LR'#FS'#FSQ`Q!LTOOO'UQ!LSO'#CoO0gQ!LSO'#CzO0nQ!LSO'#DOO1PQ!LSO'#GgO1aQ!LUO'#ERO'UQ!LSO'#ESOOQ!LQ'#EU'#EUOOQ!LQ'#EW'#EWOOQ!LQ'#EY'#EYO1uQ!LSO'#E[O2SQ!LSO'#E`O0SQ!LSO'#EbO2gQ!LUO'#EbO0SQ!LSO'#EeO/mQ!LSO'#EhO/mQ!LSO'#ElO/mQ!LSO'#EoO2rQ!LSO'#EqO2yQ!LSO'#EvO3UQ!LSO'#ErO/mQ!LSO'#EvO0SQ!LSO'#ExO0SQ!LSO'#E}OOQ!LQ'#Cc'#CcOOQ!LQ'#Cd'#CdOOQ!LQ'#Ce'#CeOOQ!LQ'#Cf'#CfOOQ!LQ'#Cg'#CgOOQ!LQ'#Ch'#ChOOQ!LQ'#Cj'#CjO'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O3ZQ!LSO'#DnOOQ!LQ,5:X,5:XO3nQ!LSO,5:[O3{Q#)WO,5:[O4QQ!LUO,59WO0gQ!LSO,59_O0gQ!LSO,59_O0gQ!LSO,59_O6pQ!LSO,59_O6uQ!LSO,59_O6|Q!LSO,59gO7TQ!LSO'#GbO8ZQ!LSO'#GaOOQ!LQ'#Ga'#GaOOQ!LQ'#DY'#DYO8rQ!LSO,59]O'UQ!LSO,59]O9QQ!LSO,59]O9VQ!LSO,5:QO'UQ!LSO,5:QOOQ!LQ,59},59}O9eQ!LSO,59}O9jQ!LSO,5:WO'UQ!LSO,5:WO'UQ!LSO,5:UOOQ!LQ,5:R,5:RO9{Q!LSO,5:RO:QQ!LSO,5:VOOOO'#F]'#F]O:VOWO,5:`OOQ!LQ,5:`,5:`OOOO'#F^'#F^O:_O`O,5:`O:gQ!LSO'#DvOOOO'#F_'#F_O:wOpO,5:aOOQ!LQ,5:a,5:aOOOO'#Fb'#FbO;SO!bO,5:aOOOO'#Fc'#FcO;_O#tO,5:aOOOO'#Fd'#FdO;jO&jO,5:aOOQ!LQ'#Fe'#FeO;uQ!LUO,5:eO>gQ!LUO,5<mO?QQ#4^O'#FfO?tQ!LUO,5<mOOQ!LQ,5:y,5:yO@]Q!LTO'#FmOAlQ!LSO,5;UOOQ&FV,5<k,5<kOAwQ!LUO'#HYOB`Q!LSO,5;lOOQ!LQ-E9r-E9rOOQ&FV,5;k,5;kO3PQ!LSO'#ExOOQ!LR-E9Q-E9QOBhQ!LUO,59ZODoQ!LUO,59fOEYQ!LSO'#GdOEeQ!LSO'#GdO0SQ!LSO'#GdOEpQ!LSO'#DQOExQ!LSO,59jOE}Q!LSO'#GhO'UQ!LSO'#GhO/mQ!LSO,5=ROOQ!LQ,5=R,5=RO/mQ!LSO'#D}OOQ!LQ'#EO'#EOOFlQ!LSO'#FgOF|Q!LSO,58zOG[Q!LSO,58zO)kQ!LSO,5:kOGaQ!LUO'#GjOOQ!LQ,5:n,5:nOOQ!LQ,5:v,5:vOGtQ!LSO,5:zOHVQ!LSO,5:|OOQ!LQ'#Fj'#FjOHeQ!LUO,5:|OHsQ!LSO,5:|OHxQ!LSO'#H[OOQ!LQ,5;P,5;POIWQ!LSO'#HXOOQ!LQ,5;S,5;SO3UQ!LSO,5;WO3UQ!LSO,5;ZOIiQ!LUO'#H^O'UQ!LSO'#H^OIsQ!LSO,5;]O2rQ!LSO,5;]O/mQ!LSO,5;bO0SQ!LSO,5;dOIxQ!LTO'#EmOKRQ&FXO,5;^ONjQ!LSO'#H_O3UQ!LSO,5;bONuQ!LSO,5;dONzQ!LSO,5;iO!#oQ!LUO1G.hO!#vQ!LUO1G.hO!&gQ!LUO1G.hO!&qQ!LUO1G.hO!)[Q!LUO1G.hO!)oQ!LUO1G.hO!*SQ!LUO1G.hO!,rQ!LSO'#GpO!-QQ!LUO'#GSO/mQ!LSO'#GpO!-[Q!LSO'#GoOOQ!LQ,5:Y,5:YO!-dQ!LSO,5:YO!-iQ!LSO'#GqO!-tQ!LSO'#GqO!.XQ!LSO1G/vOOQ!LQ'#Dr'#DrOOQ!LQ1G/v1G/vOOQ!LQ1G.y1G.yO!/XQ!LUO1G.yO!/`Q!LUO1G.yO0gQ!LSO1G.yO!/{Q!LSO1G/ROOQ!LQ'#DX'#DXO/mQ!LSO,59rOOQ!LQ1G.w1G.wO!0SQ!LSO1G/dO!0dQ!LSO1G/dO!0lQ!LSO1G/eO'UQ!LSO'#GiO!0qQ!LSO'#GiO!0vQ!LUO1G.wO!1WQ!LSO,59fO!2^Q!LSO'#FXO!2qQ!LSO,5=XO!2yQ!LSO1G/lO!3OQ!LUO1G/lOOQ!LQ1G/i1G/iO!3`Q!LSO'#FUO!4YQ!LSO,5=SO/mQ!LSO1G/pO!4wQ!LSO1G/rO!4|Q!LUO1G/rO!5^Q!LUO1G/pOOQ!LQ1G/m1G/mOOQ!LQ1G/q1G/qOOOO-E9Z-E9ZOOQ!LQ1G/z1G/zOOOO-E9[-E9[O!5nQ!LSO'#G|O/mQ!LSO'#G|O!5|Q!LSO,5:bOOOO-E9]-E9]OOQ!LQ1G/{1G/{OOOO-E9`-E9`OOOO-E9a-E9aOOOO-E9b-E9bOOQ!LQ-E9c-E9cO!6XQ!LUO1G2XO'UQ!LSO,5<QOOQ!LQ,5<Q,5<QOOQ!LQ-E9d-E9dOOQ!LQ,5<X,5<XOOQ!LQ-E9k-E9kOOQ&FV1G0p1G0pO0SQ!LSO'#FiO!6pQ!LUO,5=tOOQ!LQ1G1W1G1WO!7XQ!LSO1G1WOOQ!LQ'#DT'#DTO/mQ!LSO,5=OOOQ!LQ,5=O,5=OO!7^Q!LSO'#FTO!7lQ!LSO,59lO!7tQ!LSO1G/UO!8OQ!LUO,5=SOOQ!LQ1G2m1G2mOOQ!LQ,5:i,5:iO!8oQ!LSO'#GROOQ!LQ,5<R,5<ROOQ!LQ-E9e-E9eO!9QQ!LSO1G.fOOQ!LQ1G0V1G0VO!9`Q!LSO'#FWO!9sQ!LSO,5=UO/mQ!LSO1G0fO/mQ!LSO1G0fO0SQ!LSO1G0hOOQ!LQ-E9h-E9hO!:UQ!LSO1G0hO!:aQ!LSO1G0hO!:fQ!LSO'#FlO!:wQ!LSO,5=vO!;VQ!LSO'#FhO!;pQ!LSO,5=sO!<RQ&FXO1G0rO!?gQ&FXO1G0uO!BxQ!LSO'#FpO!CVQ!LSO,5=xO!C_Q!LUO,5=xO/mQ!LSO1G0wO!CiQ!LSO1G0wO3UQ!LSO1G0|ONuQ!LSO1G1OOOQ&FV,5;X,5;XO!CnQ!LTO,5;XO!EaQ&FXO1G0xO!HxQ!LSO'#FqO3UQ!LSO1G0xO3UQ!LSO1G0xO!IVQ!LSO'#FrO!IgQ!LSO,5=yO0SQ!LSO,5=yOOQ&FV1G0|1G0|O!JQQ!LSO'#EzO!JXQ#)WO1G1OOOQ&FV1G1T1G1TO3UQ!LSO1G1TOOQ!LQ,5=[,5=[OOQ!LQ'#Do'#DoO/mQ!LSO,5=[O!JaQ!LSO'#FZO!JwQ!LSO,5=ZOOQ!LQ1G/t1G/tO!KPQ!LSO'#F[O!KdQ!LSO,5=]O!KlQ!LSO,5=]O!LPQ!LSO,5=]O!LaQ!LSO,5=]OOQ!LQ7+%b7+%bOOQ!LQ7+$e7+$eO!7tQ!LSO7+$mO!NSQ!LSO1G.yO!NZQ!LSO1G.yOOQ!LQ1G/^1G/^OOQ!LQ,5;q,5;qO'UQ!LSO,5;qOOQ!LQ7+%O7+%OO!NbQ!LSO7+%OOOQ!LQ-E9T-E9TOOQ!LQ7+%P7+%PO!NrQ!LSO,5=TO'UQ!LSO,5=TOOQ!LQ7+$c7+$cO!NwQ!LSO7+%OO# PQ!LSO7+%POOQ!LQ,5;s,5;sO'UQ!LSO,5;sOOQ!LQ-E9V-E9VOOQ!LQ7+%W7+%WO# UQ!LSO1G2sO# ^Q!LSO7+%WOOQ!LQ,5;p,5;pO'UQ!LSO,5;pOOQ!LQ-E9S-E9SO# cQ!LSO7+%[OOQ!LQ7+%^7+%^O# qQ!LSO1G2nO#!`Q!LSO7+%^O#!eQ!LSO'#FYO#!xQ!LSO1G2tO##QQ!LSO7+%[O##VQ!LSO'#F`O##pQ!LSO,5=hO##pQ!LSO,5=hO#$OOMhO'#DxO#$ZOQO'#G}OOOO1G/|1G/|O#$`Q!LSO1G/|O#$hQ!LUO1G1lOOQ!LQ,5<T,5<TOOQ!LQ-E9g-E9gOOQ!LQ7+&r7+&rOOQ!LQ1G2j1G2jOOQ!LQ,5;o,5;oOOQ!LQ-E9R-E9ROOQ!LQ7+$p7+$pO#%RQ!LSO'#FfO#%oQ!LSO,5<mO#&QQ!LUO,5;rOOQ!LQ-E9U-E9UOOQ!LQ7+&Q7+&QO#&eQ!LSO7+&QOOQ!LQ7+&S7+&SO#&sQ!LSO'#HZO0SQ!LSO7+&SO#'XQ!LSO7+&SOOQ!LQ,5<W,5<WOOQ!LQ-E9j-E9jOOQ!LQ,5<S,5<SOOQ!LQ-E9f-E9fO#'dQ&FXO7+&^O!HxQ!LSO'#FoO3UQ!LSO7+&^O3UQ!LSO7+&aO#*xQ!LUO,5<[O'UQ!LSO,5<[OOQ!LQ-E9n-E9nO#+SQ!LSO1G3dO3UQ!LSO7+&cO/mQ!LSO7+&cOOQ&FV7+&h7+&hO!JXQ#)WO7+&jO#+[Q&FWO1G0sOOQ&FV-E9o-E9oO3UQ!LSO7+&dO3UQ!LSO7+&dOOQ&FV,5<],5<]O#+gQ!LSO,5<]OOQ&FV7+&d7+&dO#+rQ&FXO7+&dO#/TQ!LSO,5<^OOQ!LQ-E9p-E9pO#/`Q!LSO1G3eO#/hQ!LSO'#HaO#/vQ!LSO'#HaO0SQ!LSO'#HaOOQ!LQ'#Ha'#HaO#0RQ!LSO'#H`OOQ!LQ,5;f,5;fO#0ZQ!LSO,5;fO/mQ!LSO'#E|OOQ&FV7+&j7+&jO3UQ!LSO7+&jOOQ&FV7+&o7+&oOOQ!LQ1G2v1G2vOOQ!LQ,5;u,5;uOOQ!LQ-E9X-E9XO#0`Q!LSO,5;vO#0kQ!LSO,5;vOOQ!LQ-E9Y-E9YO#1OQ!LSO1G2wO#1WQ!LSO1G2wO#1hQ!LSO1G2wO#1OQ!LSO1G2wOOQ!LQ<<HX<<HXO#1sQ!LUO1G1]OOQ!LQ<<Hj<<HjP#1}Q!LSO'#FVO6|Q!LSO1G2oO#2[Q!LSO1G2oO#2aQ!LSO<<HjOOQ!LQ<<Hk<<HkO#2qQ!LUO1G1_OOQ!LQ<<Hr<<HrO#2{Q!LUO1G1[O#3lQ!LSO7+(`O#3tQ!LSO<<HvOOQ!LQ<<Hx<<HxO#3yQ!LSO,5;tO'UQ!LSO,5;tOOQ!LQ-E9W-E9WOOQ!LQ<<Hv<<HvOOQ!LQ,5;z,5;zO/mQ!LSO,5;zOOQ!LQ-E9^-E9^O#4OQ!LSO1G3SOOOO'#Fa'#FaO#4^OMhO,5:dOOOO,5=i,5=iOOOO7+%h7+%hO#4iQ!LSO1G2XO/mQ!LSO<<IlO#4zQ!LSO'#FkO#5`Q!LSO,5=uO0SQ!LSO,5=uO#5qQ!LSO<<InOOQ!LQ<<In<<InO0SQ!LSO<<InOOQ&FV-E9m-E9mO3UQ!LSO<<IxOOQ&FV,5<Z,5<ZO3UQ!LSO,5<ZOOQ&FV<<Ix<<IxOOQ&FV<<I{<<I{O#5vQ!LUO1G1vO#6QQ&FXO<<I}O3UQ!LSO<<I}OOQ&FV<<JU<<JUO3UQ!LSO<<JUO!CnQ!LTO'#FnO#9cQ&FWO7+&_OOQ&FV7+&_7+&_OOQ&FV<<JO<<JOO#9nQ&FXO<<JOOOQ&FV1G1w1G1wO0SQ!LSO1G1wO3UQ!LSO<<JOO0SQ!LSO1G1xO#=PQ!LSO7+)POOQ!LQ'#E{'#E{O/mQ!LSO,5={O#=XQ!LSO,5={OOQ!LQ,5={,5={O#=dQ!LSO'#FsO#=nQ!LSO,5=zOOQ!LQ1G1Q1G1QOOQ!LQ,5;h,5;hO#=vQ!LSO1G1bO#>ZQ!LSO1G1bO#>kQ!LSO1G1bO#>vQ!LSO7+(cO#>vQ!LSO7+(cO#?OQ!LSO7+(cO#?`Q!LSO7+(ZO6|Q!LSO7+(ZOOQ!LQAN>UAN>UOOQ!LQAN>bAN>bO/mQ!LSO1G1`O#?yQ!LUO1G1`OOQ!LQ1G1f1G1fOOOO-E9_-E9_OOQ!LQAN?WAN?WO#@TQ!LSO,5<VOOQ!LQ-E9i-E9iO#@iQ!LSO1G3aOOQ!LQAN?YAN?YO#@zQ!LSOAN?YOOQ&FVAN?dAN?dOOQ&FV1G1u1G1uO3UQ!LSOAN?iO#APQ&FXOAN?iOOQ&FVAN?pAN?pOOQ&FU,5<Y,5<YOOQ&FU-E9l-E9lOOQ&FV<<Iy<<IyO3UQ!LSOAN?jO3UQ!LSO7+'cOOQ&FVAN?jAN?jOOQ!LQ7+'d7+'dOOQ!LQ1G3g1G3gO/mQ!LSO1G3gOOQ!LQ,5<_,5<_OOQ!LQ-E9q-E9qO#DbQ!LSO7+&|O#DrQ!LSO7+&|OOQ!LQ7+&|7+&|O#D}Q!LSO<<K}O#D}Q!LSO<<K}O#EVQ!LSO'#GkOOQ!LQ<<Ku<<KuO#EaQ!LSO<<KuOOQ!LQ7+&z7+&zO0SQ!LSO1G1qO#EzQ!LSO7+({OOQ!LQG24tG24tOOQ&FVG25TG25TO3UQ!LSOG25TOOQ&FVG25UG25UOOQ&FV<<J}<<J}OOQ!LQ7+)R7+)ROOQ!LQ<<Jh<<JhO#F]Q!LSO<<JhO#FmQ!LSOANAiO#FuQ!LSO'#GlOOQ!LQ'#Gl'#GlO0nQ!LSO'#DbO#G`Q!LSO,5=VOOQ!LQANAaANAaOOQ!LQ7+']7+']OOQ&FVLD*oLD*oOOQ!LQAN@SAN@SO#GwQ!LSO,59|OOQ!LQ1G2q1G2qO#EVQ!LSO1G/hOOQ!LQ7+%S7+%SO6|Q!LSO'#CzO6|Q!LSO,59_O6|Q!LSO,59_O6|Q!LSO,59_O#G|Q!LUO,5<mO6|Q!LSO1G.yO/mQ!LSO1G/UO/mQ!LSO7+$mO'UQ!LSO'#GRO#HaQ!LSO,59_O#HfQ!LSO,59_O#HmQ!LSO,59jO#HrQ!LSO1G/RO0nQ!LSO'#DOO6|Q!LSO,59g",stateData:"#IT~O$qOS$lOS$kOSQOS~OPhOTeOdsOfXOltOp!SOsuOudO}vO!O!PO!S!VO!T!UO!WYO![ZO!gdO!ndO!odO!pdO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO#d!TO#g!WO#k!XO#m!YO#r!ZO#ulO$jqO$|QO$}QO%RRO%SVO%g[O%h]O%k^O%n_O%t`O%waO%ybO~OT!aO]!aO_!bOf!jO!W!lO!e!mO$w![O$x!]O$y!^O$z!_O${!_O$|!`O$}!`O%O!aO%P!aO%Q!aO~Oh%VXi%VXj%VXk%VXl%VXm%VXp%VXx%VXy%VX!t%VX#_%VX$j%VX$m%VX%X%VX!P%VX!S%VX!T%VX%Y%VX!X%VX!]%VX!O%VX#W%VXq%VX!k%VX~P$bOdsOfXOudO!WYO![ZO!gdO!ndO!odO!pdO$|QO$}QO%RRO%SVO%g[O%h]O%k^O%n_O%t`O%waO%ybO~Ox%UXy%UX#_%UX$j%UX$m%UX%X%UX~Oh!pOi!qOj!oOk!oOl!rOm!sOp!tO!t%UX~P(fOT!zOl,qOs-OO}vO~P'UOT!}Ol,qOs-OO!X#OO~P'UOT#RO_#SOl,qOs-OO!]#TO~P'UO%i#WO%j#YO~O%l#ZO%m#YO~O![#]O%o#^O%s#`O~O![#]O%u#aO%v#`O~O![#]O%j#`O%x#cO~O![#]O%m#`O%z#eO~OT$vX]$vX_$vXf$vXh$vXi$vXj$vXk$vXl$vXm$vXp$vXx$vX!W$vX!e$vX$w$vX$x$vX$y$vX$z$vX${$vX$|$vX$}$vX%O$vX%P$vX%Q$vX!P$vX!S$vX!T$vX~O%g[O%h]O%k^O%n_O%t`O%waO%ybOy$vX!t$vX#_$vX$j$vX$m$vX%X$vX%Y$vX!X$vX!]$vX!O$vX#W$vXq$vX!k$vX~P+{Ox#jOy$uX!t$uX#_$uX$j$uX$m$uX%X$uX~Ol,qOs-OO~P'UO#_#mO$j#oO$m#oO~O%SVO~O!S#tO#m!YO#r!ZO#ulO~OltO~P'UOT#yO_#zOu#xO%SVOytP~OT$OOl,qOs-OO!O$PO~P'UOy$RO!t$WO%X$SO#_!uX$j!uX$m!uX~OT$OOl,qOs-OO~P'UOl,qOs-OO#_#SX$j#SX$m#SX~P'UO!e$^O!n$^O%SVO~OT$hO~P'UO!T$jO#k$kO#m$lO~Oy$mO~OT$|O_$|Ol,qOs-OO!P%OO~P'UOl,qOs-OOy%RO~P'UO%f%TO~O_!bOf!jO!W!lO!e!mOT`a]`ah`ai`aj`ak`al`am`ap`ax`ay`a!t`a#_`a$j`a$m`a$w`a$x`a$y`a$z`a${`a$|`a$}`a%O`a%P`a%Q`a%X`a!P`a!S`a!T`a%Y`a!X`a!]`a!O`a#W`aq`a!k`a~Ok%YO~Ol%YO~P'UOl,qO~P'UOh,sOi,tOj,rOk,rOl,zOm,{Op-PO!P%UX!S%UX!T%UX%Y%UX!X%UX!]%UX!O%UX#W%UX!k%UX~P(fO%Y%[Ox%TX!P%TX!S%TX!T%TX!X%TXy%TX~Ox%_O!P%^O!S%cO!T%bO~O!P%^O~Ox%fO!S%cO!T%bO!X%aX~O!X%jO~Ox%kOy%mO!S%cO!T%bO!]%[X~O!]%qO~O!]%rO~O%i#WO%j%tO~O%l#ZO%m%tO~OT%wOl,qOs-OO}vO~P'UO![#]O%o#^O%s%zO~O![#]O%u#aO%v%zO~O![#]O%j%zO%x#cO~O![#]O%m%zO%z#eO~OT!ma]!ma_!maf!mah!mai!maj!mak!mal!mam!map!max!may!ma!W!ma!e!ma!t!ma#_!ma$j!ma$m!ma$w!ma$x!ma$y!ma$z!ma${!ma$|!ma$}!ma%O!ma%P!ma%Q!ma%X!ma!P!ma!S!ma!T!ma%Y!ma!X!ma!]!ma!O!ma#W!maq!ma!k!ma~P#yOx#jOy$ua!t$ua#_$ua$j$ua$m$ua%X$ua~P$bOT&QOltOsuOx$YXy$YX!t$YX#_$YX$j$YX$m$YX%X$YX~P'UOx#jOy$ua!t$ua#_$ua$j$ua$m$ua%X$ua~OPhOTeOltOsuO}vO!O!PO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO#_$aX$j$aX$m$aX~P'UO#_#mO$j&VO$m&VO~O!e&WOf%|X$j%|X#W%|X#_%|X$m%|X#V%|X~Of!jO$j&YO~Ohcaicajcakcalcamcapcaxcayca!tca#_ca$jca$mca%Xca!Pca!Sca!Tca%Yca!Xca!]ca!Oca#Wcaqca!kca~P$bOpnaxnayna#_na$jna$mna%Xna~Oh!pOi!qOj!oOk!oOl!rOm!sO!tna~PDWO%X&[Ox%WXy%WX~O%SVOx%WXy%WX~Ox&_OytX~Oy&aO~Ox%kO#_%[X$j%[X$m%[X!P%[Xy%[X!]%[X!k%[X%X%[X~OT,yOl,qOs-OO}vO~P'UO%X$SO#_Sa$jSa$mSa~O%X$SO~Ox&jO#_%^X$j%^X$m%^Xk%^X~P$bOx&mO!O&lO#_#Sa$j#Sa$m#Sa~O#W&nO#_#Ua$j#Ua$m#Ua~O!e$^O!n$^O#V&pO%SVO~O#V&pO~Ox&rO#_&OX$j&OX$m&OX~Ox&tO#_%{X$j%{X$m%{Xy%{X~Ox&xOk&QX~P$bOk&{O~OPhOTeOltOsuO}vO!O!PO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO$j'QO~P'UOq'UO#h'SO#i'TOP#faT#fad#faf#fal#fap#fas#fau#fa}#fa!O#fa!S#fa!T#fa!W#fa![#fa!g#fa!n#fa!o#fa!p#fa!w#fa!y#fa!{#fa!}#fa#P#fa#T#fa#V#fa#Y#fa#Z#fa#]#fa#d#fa#g#fa#k#fa#m#fa#r#fa#u#fa$i#fa$j#fa$|#fa$}#fa%R#fa%S#fa%g#fa%h#fa%k#fa%n#fa%t#fa%w#fa%y#fa$m#fa$n#fa$o#fa~Ox'VO#W'XOy&RX~Of'ZO~Of!jOy$mO~OT!aO]!aO_!bOf!jO!W!lO!e!mO$y!^O$z!_O${!_O$|!`O$}!`O%O!aO%P!aO%Q!aOhUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~O$x!]O~P! SO$xUi~P! SOT!aO]!aO_!bOf!jO!W!lO!e!mO$|!`O$}!`O%O!aO%P!aO%Q!aOhUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi$xUi$yUi%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~O$z!_O${!_O~P!#}O$zUi${Ui~P!#}O_!bOf!jO!W!lO!e!mOhUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi$xUi$yUi$zUi${Ui$|Ui$}Ui%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~OT!aO]!aO%O!aO%P!aO%Q!aO~P!&{OTUi]Ui%OUi%PUi%QUi~P!&{Of!jO!W!lO!e!mOTUi]Ui_UihUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi$xUi$yUi$zUi${Ui$|Ui$}Ui%OUi%PUi%QUi%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~O!S%cO!T%bOx%dX!P%dX~O%X'`O%Y'`O~P+{Ox'bO!P%cX~O!P'dO~Ox'eOy'gO!X%eX~Ol,qOs-OOx'eOy'hO!X%eX~P'UO!X'jO~Oj!oOk!oOl!rOm!sOhgipgixgiygi!tgi#_gi$jgi$mgi%Xgi~Oi!qO~P!.^Oigi~P!.^Oh,sOi,tOj,rOk,rOl,zOm,{O~Oq'lO~P!/gOT'qOl,qOs-OO!P'rO~P'UOx'sO!P'rO~O!P'uO~O!T'wO~Ox'sO!P'xO!S%cO!T%bO~P$bOh,sOi,tOj,rOk,rOl,zOm,{O!Pna!Sna!Tna%Yna!Xna!]na!Ona#Wnaqna!kna~PDWOT'|Ol,qOs-OOx#{X!X#{X~P'UOx%fO!X%aa~O!X(OO~Ox%fO!S%cO!T%bO!X%aa~P$bOT(SOl,qOs-OOx#xX!]#xX#_#xX$j#xX$m#xX!P#xXy#xX!k#xX%X#xX~P'UOx%kO!]%[a#_%[a$j%[a$m%[a!P%[ay%[a!k%[a%X%[a~O!](VO~Ox%kO!S%cO!T%bO!]%[a~P$bOx(YO!S%cO!T%bO!]%ba~P$bOx(]Oy%pX!]%pX!k%pX~Oy(`O!](bO!k(cO~Ox#jOy$ui!t$ui#_$ui$j$ui$m$ui%X$ui~O!e&WOf%|a$j%|a#W%|a#_%|a$m%|a#V%|a~O$j(gO~OT#yO_#zOu#xO%SVO~Ox&_Oyta~OltOsuO~P'UOx%kO#_%[a$j%[a$m%[a!P%[ay%[a!]%[a!k%[a%X%[a~P$bOx(lO#_$uX$j$uX$m$uX%X$uX~O%X$SO#_Si$jSi$mSi~Ox#zX#_#zX$j#zX$m#zXk#zX~P'UOx&jO#_%^a$j%^a$m%^ak%^a~OT(rOf(tO%SVO~O#V(uO~O%SVOx$`X#_$`X$j$`X$m$`X~Ox&rO#_&Oa$j&Oa$m&Oa~Ol,qOs-OOx$[X#_$[X$j$[X$m$[Xy$[X~P'UOx&tO#_%{a$j%{a$m%{ay%{a~Oq(|O#b({OP#`iT#`id#`if#`il#`ip#`is#`iu#`i}#`i!O#`i!S#`i!T#`i!W#`i![#`i!g#`i!n#`i!o#`i!p#`i!w#`i!y#`i!{#`i!}#`i#P#`i#T#`i#V#`i#Y#`i#Z#`i#]#`i#d#`i#g#`i#k#`i#m#`i#r#`i#u#`i$i#`i$j#`i$|#`i$}#`i%R#`i%S#`i%g#`i%h#`i%k#`i%n#`i%t#`i%w#`i%y#`i$m#`i$n#`i$o#`i~Oq(}OP#ciT#cid#cif#cil#cip#cis#ciu#ci}#ci!O#ci!S#ci!T#ci!W#ci![#ci!g#ci!n#ci!o#ci!p#ci!w#ci!y#ci!{#ci!}#ci#P#ci#T#ci#V#ci#Y#ci#Z#ci#]#ci#d#ci#g#ci#k#ci#m#ci#r#ci#u#ci$i#ci$j#ci$|#ci$}#ci%R#ci%S#ci%g#ci%h#ci%k#ci%n#ci%t#ci%w#ci%y#ci$m#ci$n#ci$o#ci~OT)POk$dXx$dX~P'UOx&xOk&Qa~Ox&xOk&Qa~P$bOk)TO~OPhOTeOltOp!SOsuO}vO!O!PO!S!VO!T!UO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO#d!TO#g!WO#k!XO#m!YO#r!ZO#ulO~P'UOq)ZO#h'SO#i)YOP#fiT#fid#fif#fil#fip#fis#fiu#fi}#fi!O#fi!S#fi!T#fi!W#fi![#fi!g#fi!n#fi!o#fi!p#fi!w#fi!y#fi!{#fi!}#fi#P#fi#T#fi#V#fi#Y#fi#Z#fi#]#fi#d#fi#g#fi#k#fi#m#fi#r#fi#u#fi$i#fi$j#fi$|#fi$}#fi%R#fi%S#fi%g#fi%h#fi%k#fi%n#fi%t#fi%w#fi%y#fi$m#fi$n#fi$o#fi~Ol,qOs-OOy$mO~P'UOl,qOs-OOx$fXy$fX~P'UOx'VOy&Ra~OT)dO_)eOu)cO%O)fO%SVO~O!P)hO~P!IoOy$mO&U)jO~OT$|O_$|Ol,qOs-OOx#}X!P#}X~P'UOx'bO!P%ca~Ol,qOs-OOy)rOx$OX!X$OX~P'UOx'eO!X%ea~Ol,qOs-OOx'eOy)uO!X%ea~P'UOl,qOs-OOx'eO!X%ea~P'UOx'eOy)uO!X%ea~Oj,rOk,rOl,zOm,{Ohgipgixgi!Pgi!Sgi!Tgi%Ygi!Xgiygi!]gi#_gi$jgi$mgi!Ogi#Wgiqgi!kgi%Xgi~Oi,tO~P!LlOigi~P!LlOT'qOl,qOs-OO!P)zO~P'UOk)|O~Ox*OO!P)zO~O!P*PO~Ox%fO!X%ai~O!X*RO~Ox(YO!S%cO!T%bO!]%bi~Ox%kO!]%[i#_%[i$j%[i$m%[i!P%[iy%[i!k%[i%X%[i~O!]*VO~O_*XOl,qOs-OOx#|X!]#|X~P'UOx(YO!]%bi~O!]*ZO~OT*]Ol,qOs-OOx$SXy$SX!]$SX!k$SX~P'UOx(]Oy%pa!]%pa!k%pa~O![#]O%r*`O!]!lX~O!]*bO~Oy(`O!]*cO~Ox$Yiy$Yi!t$Yi#_$Yi$j$Yi$m$Yi%X$Yi~P$bOT&QOl,qOs-OOx$YX#_$YX$j$YX$m$YX%X$YX~P'UOx(lO#_$ua$j$ua$m$ua%X$ua~Ox#za#_#za$j#za$m#zak#za~P$bOx*eO#_#Sq$j#Sq$m#Sq~Ox*fO#W*hO#_%}X$j%}X$m%}X!P%}X~OT*jOf*kO%SVO~Oq*mO#b({OP#`qT#`qd#`qf#`ql#`qp#`qs#`qu#`q}#`q!O#`q!S#`q!T#`q!W#`q![#`q!g#`q!n#`q!o#`q!p#`q!w#`q!y#`q!{#`q!}#`q#P#`q#T#`q#V#`q#Y#`q#Z#`q#]#`q#d#`q#g#`q#k#`q#m#`q#r#`q#u#`q$i#`q$j#`q$|#`q$}#`q%R#`q%S#`q%g#`q%h#`q%k#`q%n#`q%t#`q%w#`q%y#`q$m#`q$n#`q$o#`q~Ok$dax$da~P$bOx&xOk&Qi~O$m*yO$n*wO$o*yO~Ox*}Oy$mO#W*}O~O#i+OOP#fqT#fqd#fqf#fql#fqp#fqs#fqu#fq}#fq!O#fq!S#fq!T#fq!W#fq![#fq!g#fq!n#fq!o#fq!p#fq!w#fq!y#fq!{#fq!}#fq#P#fq#T#fq#V#fq#Y#fq#Z#fq#]#fq#d#fq#g#fq#k#fq#m#fq#r#fq#u#fq$i#fq$j#fq$|#fq$}#fq%R#fq%S#fq%g#fq%h#fq%k#fq%n#fq%t#fq%w#fq%y#fq$m#fq$n#fq$o#fq~O#W+POx$fay$fa~Ox'VOy&Ri~Oy$RO%X+ROx&TX!P&TX~O%SVOx&TX!P&TX~Ox+VO!P&SX~O!P+XO~Oy+ZOx$Oa!X$Oa~Ol,qOs-OOy+[Ox$Oa!X$Oa~P'UOx'eO!X%ei~Ol,qOs-OOx'eO!X%ei~P'UOx'eOy+`O!X%ei~Ox#yi!P#yi~P$bOT'qOl,qOs-OO~P'UOk+bO~OT'qOl,qOs-OO!P+cO~P'UOx#{i!X#{i~P$bOx#xi!]#xi#_#xi$j#xi$m#xi!P#xiy#xi!k#xi%X#xi~P$bOx(YO!]%bq~O!]+dO~Oy+eO~Ox(]Oy%pi!]%pi!k%pi~O![#]O%r*`O!]!la~Ox(lO#_$ui$j$ui$m$ui%X$ui~O%SVOx$_X#_$_X$j$_X$m$_X!P$_X~Ox*fO#_%}a$j%}a$m%}a!P%}a~O!P+mO~Ok$dix$di~P$bOq+qOP#eyT#eyd#eyf#eyl#eyp#eys#eyu#ey}#ey!O#ey!S#ey!T#ey!W#ey![#ey!g#ey!n#ey!o#ey!p#ey!w#ey!y#ey!{#ey!}#ey#P#ey#T#ey#V#ey#Y#ey#Z#ey#]#ey#d#ey#g#ey#k#ey#m#ey#r#ey#u#ey$i#ey$j#ey$|#ey$}#ey%R#ey%S#ey%g#ey%h#ey%k#ey%n#ey%t#ey%w#ey%y#ey$m#ey$n#ey$o#ey~O$m+vO$n*wO$o+vO~O#i+wOP#fyT#fyd#fyf#fyl#fyp#fys#fyu#fy}#fy!O#fy!S#fy!T#fy!W#fy![#fy!g#fy!n#fy!o#fy!p#fy!w#fy!y#fy!{#fy!}#fy#P#fy#T#fy#V#fy#Y#fy#Z#fy#]#fy#d#fy#g#fy#k#fy#m#fy#r#fy#u#fy$i#fy$j#fy$|#fy$}#fy%R#fy%S#fy%g#fy%h#fy%k#fy%n#fy%t#fy%w#fy%y#fy$m#fy$n#fy$o#fy~Ox'VOy&Rq~O%X+ROx&Ta!P&Ta~Ox$gX!P$gX~P!IoOx+VO!P&Sa~Ol,qOs-OOy,POx$Oi!X$Oi~P'UOl,qOs-OOx$Oi!X$Oi~P'UOy,POx$Oi!X$Oi~Ox'eO!X%eq~Ol,qOs-OOx'eO!X%eq~P'UOp,UO!S%cO!T%bO!P%]q!X%]q!]%]qx%]q~P!/gOx#|i!]#|i~P$bO#W,YOx$_a#_$_a$j$_a$m$_a!P$_a~Ox*fO#_%}i$j%}i$m%}i!P%}i~O!P,[O~Oq,^OP#e!RT#e!Rd#e!Rf#e!Rl#e!Rp#e!Rs#e!Ru#e!R}#e!R!O#e!R!S#e!R!T#e!R!W#e!R![#e!R!g#e!R!n#e!R!o#e!R!p#e!R!w#e!R!y#e!R!{#e!R!}#e!R#P#e!R#T#e!R#V#e!R#Y#e!R#Z#e!R#]#e!R#d#e!R#g#e!R#k#e!R#m#e!R#r#e!R#u#e!R$i#e!R$j#e!R$|#e!R$}#e!R%R#e!R%S#e!R%g#e!R%h#e!R%k#e!R%n#e!R%t#e!R%w#e!R%y#e!R$m#e!R$n#e!R$o#e!R~Ol,qOs-OOx$Oq!X$Oq~P'UOy,cOx$Oq!X$Oq~Ox'eO!X%ey~Ol,qOs,gO~P'UOp,UO!S%cO!T%bO!P%]y!X%]y!]%]yx%]y~P!/gOx*fO#_%}q$j%}q$m%}q!P%}q~Ol,qOs-OOx$Oy!X$Oy~P'UOx'eO!X%e!R~Op%`X!P%`X!S%`X!T%`X!X%`X!]%`Xx%`X~P!/gOp,UO!S%cO!T%bO!P%_a!X%_a!]%_ax%_a~Oy,oO~Ox(lO#_$ua$j$ua$m$ua%X$ua~P$bOk,vO~Ol,vO~P'UOy,wO~Oq,xO~P!/gO%h%k%w%y%g%n%t%S%g~",goto:"!&h&UPPPP&VP&_(|)d){*e+O+jP,VP&_,t,t&_P&_P/cPPPPPP/c1bPP1bP2}P3W7`PP7c7o7rPPP&_&_PP8O&_PP&_&_PP&_&_&_&_8S8x&_P8{P9O9O;qP<V&_PPP<Z<a&VP&V&VP&VP&VP&VP&VP&V&V&VP&VPP&VPP&VP<gP<n<tP<nP<n<nPPP<nP>mP>v>|?S>mP<n?YP?a?g?m?y@T@Z@e@o@uAcAiAoAuBPBVB]BcBiBoCRC]CcCiCoCyDPDVD]DcDmDsD}ETPPPPPPPPPE^EhEqE{FWPPPPPPPPPPPPI}JgNU!!qPP!!y!#X!#b!$W!#}!$a!$g!$j!$m!$p!$vPPPPPPPPPP!$y!$|PPPPPPPPP!%S!%`!%l!%x!%{!&R!&X!&_!&b]iOr#m$m'Q*w&XdOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!j!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'b'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-Py!cP#i#v$X$g%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u{!dP#i#v$X$g$s%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u}!eP#i#v$X$g$s$t%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!P!fP#i#v$X$g$s$t$u%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!R!gP#i#v$X$g$s$t$u$v%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!T!hP#i#v$X$g$s$t$u$v$w%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!X!iP!n#i#v$X$g$s$t$u$v$w$x%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u&XSOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!j!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'b'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-P$yUOXYZhrtv|}!R!S!T!X!j!l!o!p!q!s!t#]#j#m$P$R$T$W$k$m$|%R%Y%]%_%f%k%m%w&]&a&l&m&t&{'Q'S'V'a'b'e'g'h'l's(Y(](l({)T)j)r)u){)|*O*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,{-P$TWOXYZhrv|}!R!S!T!X!j!l#]#j#m$P$R$T$W$k$m$|%R%]%_%f%k%m%w&]&a&l&m&t&{'Q'S'V'a'b'e'g'h'l's(Y(](l({)T)j)r)u){*O*]*e*w+S+Z+[+`+e+|,P,c,w,xQ#|uQ,m,gR,|-O&SdOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-PW#pl!O!P$_W#xu&_,g-OQ$a!QQ$q!YQ$r!ZS${!j'bS&^#y#zQ'O$lQ(e&WQ(r&nW(s&p(t(u*kQ(v&rQ)b'XS)c'Z+VS+U)d)eQ+j*fQ+l*hQ+x*}Q+z+PR,j,YR&]#xe!wXY!S!T%_%f's({){*OR%]!vQ!{XQ%x#]Q&f$TR&i$WT,f,U,o!Y!kP!n#i#v$X$g$s$t$u$v$w$x$y%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,uQ&Z#qR'^$rR'a${R%U!m&WcOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!j!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'b'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-PT#gc#hS#^_#_S#a`#bS#ca#dS#eb#fT*`(`*aT(a%x(cQ$VwR+T)cX$Tw$U$V&hZkOr$m'Q*wXoOr'Q*wQ$n!WQ&v$eQ&w$fQ'Y$pQ']$rQ)U&}Q)['SQ)^'TQ)_'UQ)k'[Q)m'^Q*n({Q*p(|Q*q(}Q*s)SS*u)V)lQ*z)YQ*{)ZQ*|)]Q+o*mQ+p*oQ+r*tQ+s*vQ+y+OQ,]+qQ,_+wQ,`+xR,k,^WoOr'Q*wR#snQ'[$qR)V'OQ+S)cR+|+TQ)l'[R*v)VZmOnr'Q*wQrOR#urQ&`#{R(j&`S%l#Q#}S(T%l(WT(W%o&bQ%`!yS't%`'yR'y%dQ&k$XR(o&kQ%g!|S'}%g(PR(P%iQ(Z%pQ*T(UT*Y(Z*TQ'c$}R)p'cS'f%Q%RY)s'f)t+^,S,dU)t'g'h'iU+^)u)v)wS,S+_+`R,d,TQ#X]R%s#XQ#[^R%u#[Q#__R%y#_Q(^%vS*^(^*_R*_(_Q*a(`R+h*aQ#b`R%{#bQ#daR%|#dQ#fbR%}#fQ#hcR&O#hQ#kfQ&P#iW&S#k&P(m*dQ(m&eR*d,uQ$UwS&g$U&hR&h$VQ&u$cR(y&uQ&X#pR(f&XQ$_!PR&o$_Q*g(sS+k*g,ZR,Z+lQ&s$aR(w&sQ#njR&U#nQ*x)WR+u*xQ(z&vR*l(zQ&y$gS)Q&y)RR)R&zQ'R$nR)X'RQ'W$oS)a'W+QR+Q)bQ+W)gR,O+WWnOr'Q*wR#rnSqOrQ)W'QR+t*wWpOr'Q*wR'P$mYjOr$m'Q*wR&T#m[wOr#m$m'Q*wR&f$T$xPOXYZhrtv|}!R!S!T!X!j!l!o!p!q!s!t#]#j#m$P$R$T$W$k$m$|%R%Y%]%_%f%k%m%w&]&a&l&m&t&{'Q'S'V'a'b'e'g'h'l's(Y(](l({)T)j)r)u){)|*O*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,{-PQ!nSQ#ieQ#vsU$Xx%b'wS$g!U$jQ$s!cQ$t!dQ$u!eQ$v!fQ$w!gQ$x!hQ$y!iQ%d!zQ%i!}Q%o#RQ%p#SQ&b$OQ&z$hQ(d&QQ(n&jQ)O&xQ)y'qQ*Q'|Q*S(SQ*r)PQ+f*XR,u,yQ!yXQ!|YQ$e!SQ$f!TW'p%_'s){*OQ'{%fR*o({[fOr#m$m'Q*wd!vXY!S!T%_%f's({){*OQ#QZQ#lhS#}v|Q$[}W$c!R$W&{)TS$o!X$kS$z!j'bQ%Q!lQ%v#]S&R#j(lQ&c$PQ&d$RQ&e$TQ'_$|Q'i%RQ'o%]Q(R%kQ(U%mQ(_%wQ(h&]S(k&a,wQ(p&lQ(q&mQ(x&tQ)]'SQ)`'VQ)n'aQ)q'eQ)v'gQ)w'hS)x'l,xQ*W(YQ*[(]Q+Y)jQ+])rQ+_)uQ+g*]Q+i*eQ+{+SQ,Q+ZQ,R+[Q,T+`Q,X+eQ,a+|Q,b,PR,l,cbTOr#j#m$m&a'Q'l*w#p!uXYZhv|}!R!S!T!X!j!l#]$P$R$T$W$k$|%R%]%_%f%k%m%w&]&l&m&t&{'S'V'a'b'e'g'h's(Y(](l({)T)j)r)u){*O*]*e+S+Z+[+`+e+|,P,c,w,xQ#wtW%V!o!s,r,{Q%W!pQ%X!qQ%Z!tQ%e,qS'k%Y,vQ'm,sQ'n,tQ+a)|Q,W+bS,e,U,oR,}-PU#{u,g-OR(i&_[gOr#m$m'Q*wX!xX#]$T$WQ#VZQ$QvR$Z|Q%a!yQ%h!|Q%n#QQ'_$zQ'z%dQ(Q%iQ(X%oQ([%pQ*U(UQ,V+aQ,i,WR,n,hQ$YxQ'v%bR)}'wQ,h,UR,p,oR#PYR#UZR%P!jQ$}!jR)o'bR%S!lR%x#]Q(b%xR*c(cQ$d!RQ&i$WQ)S&{R*t)TQ#qlQ$]!OQ$`!PR&q$_Q(r&pQ*i(tQ*j(uR+n*kR$b!QXpOr'Q*wQ$i!UR&|$jQ$p!XR&}$kR)i'ZQ)g'ZR+}+V",nodeNames:" print Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ParenthesizedExpression ( BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList self VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from ) TupleExpression ComprehensionExpression async for LambdaExpression ArrayExpression [ ] ArrayComprehensionExpression DictionaryExpression { } DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At",maxTerm:236,nodeProps:[[V.group,-14,4,81,83,84,86,88,90,92,94,95,96,98,101,104,"Statement Statement",-23,6,16,19,21,37,38,48,49,53,56,57,60,61,62,63,66,69,70,71,75,76,77,78,"Expression",-9,106,108,111,113,114,118,120,125,127,"Statement"]],skippedNodes:[0,2],repeatNodeCount:33,tokenData:"!E}MgR!^OX$}XY%wY[$}[]%w]p$}pq%wqr(crs*Ust2Otu$}uv4Qvw5Uwx5xxyAWyzAtz{Bb{|Cr|}Df}!OES!O!PFZ!P!QKa!Q!RLq!R![!(P![!]!)i!]!^!*m!^!_!+Z!_!`!,k!`!a!-_!a!b$}!b!c!.l!c!d!/b!d!e!1f!e!h!/b!h!i!8O!i!t!/b!t!u!=b!u!w!/b!w!x!?`!x!}!/b!}#O!@t#O#P!Ab#P#Q!Bc#Q#R!CP#R#S!/b#S#T$}#T#U!/b#U#V!1f#V#Y!/b#Y#Z!8O#Z#f!/b#f#g!=b#g#i!/b#i#j!?`#j#o!/b#o#p!Cs#p#q!D[#q#r!EO#r#s!Ea#s$g$}$g~!/b<r%`R%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%i7[%nR%r7[O#o%i#p#q%i#r~%iMg&[Z%o`%up%r7[%x!b%z#t%iS%lW$q1sOX%iXY&}Y[%i[]&}]p%ipq&}q#O%i#O#P'w#P#o%i#p#q%i#r~%iHP'UZ%r7[$q1sOX%iXY&}Y[%i[]&}]p%ipq&}q#O%i#O#P'w#P#o%i#p#q%i#r~%iHP'|V%r7[OY%iYZ&}Z]%i]^&}^#o%i#p#q%i#r~%i<u(tY%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`)d!`#T%i#T#U)t#U#f%i#f#g)t#g#h)t#h#o%i#p#q%i#r~%i7_)kRjR%r7[O#o%i#p#q%i#r~%i7_){R!kR%r7[O#o%i#p#q%i#r~%iG{*e]%vp%o`%r7[%x!b%iS%g,XOY+^YZ.{Z]+^]^.{^r+^rs/]s#O+^#O#P0|#P#o+^#o#p1b#p#q+^#q#r1b#r~+^Bm+g]%r7[%lW%g,XOY,`YZ%iZ],`]^%i^r,`rs-`s#O,`#O#P-p#P#o,`#o#p.U#p#q,`#q#r.U#r~,`Be,g]%r7[%g,XOY,`YZ%iZ],`]^%i^r,`rs-`s#O,`#O#P-p#P#o,`#o#p.U#p#q,`#q#r.U#r~,`Be-gR%r7[%g,XO#o%i#p#q%i#r~%iBe-uT%r7[O#o,`#o#p.U#p#q,`#q#r.U#r~,`,X.ZV%g,XOY.UZ].U^r.Urs.ps#O.U#O#P.u#P~.U,X.uO%g,X,X.xPO~.U7d/SR%r7[%lWO#o%i#p#q%i#r~%iEc/dX%r7[%g,XOr.{rs0Ps#O.{#O#P0c#P#o.{#o#p0w#p#q.{#q#r0w#r~.{Ec0YR%m#|%r7[%k,XO#o%i#p#q%i#r~%i7d0hT%r7[O#o.{#o#p0w#p#q.{#q#r0w#r~.{W0|O%lWBm1RT%r7[O#o+^#o#p1b#p#q+^#q#r1b#r~+^,a1iV%lW%g,XOY.UZ].U^r.Urs.ps#O.U#O#P.u#P~.UMg2cXQ1s%o`%up%r7[%x!b%z#t%iS%lWOY3OYZ%iZ]3O]^%i^#o3O#o#p3r#p#q3O#q#r3r#r~3OHP3VXQ1s%r7[OY3OYZ%iZ]3O]^%i^#o3O#o#p3r#p#q3O#q#r3r#r~3O1s3wRQ1sOY3rZ]3r^~3rGz4eT%PQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iBd4{R!t,W%r7[O#o%i#p#q%i#r~%iGz5iT$yQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iG{6X_%s`%up%r7[%z#t%lW%g,XOY7WYZ:dZ]7W]^:d^r7Wrs:xsw7Wwx;|x#O7W#O#P>n#P#o7W#o#p?t#p#q7W#q#r?S#r~7WFq7e]%r7[%x!b%z#t%iS%g,XOY8^YZ%iZ]8^]^%i^w8^wx-`x#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Be8e]%r7[%g,XOY8^YZ%iZ]8^]^%i^w8^wx-`x#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Be9cT%r7[O#o8^#o#p9r#p#q8^#q#r9r#r~8^,X9wV%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P~9r,X:aPO~9r;h:oR%r7[%x!b%z#t%iSO#o%i#p#q%i#r~%iC{;T]%r7[%x!b%iS%g,XOY8^YZ%iZ]8^]^%i^w8^wx-`x#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Fq<VZ%r7[%z#t%g,XOr:drs<xsw:dwx=[x#O:d#O#P=p#P#o:d#o#p>_#p#q:d#q#r>U#r~:d8r=RR%r7[%x!b%iSO#o%i#p#q%i#r~%iFq=gR%j!f%r7[%z#t%h,XO#o%i#p#q%i#r~%i;h=uT%r7[O#o:d#o#p>U#p#q:d#q#r>U#r~:d%[>_O%x!b%z#t%iS%[>dP%iS#o#p>g%W>nO%x!b%z#tFq>sT%r7[O#o7W#o#p?S#p#q7W#q#r?S#r~7W0e?_V%x!b%z#t%iS%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P~9r0e?{X%iS%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P#o9r#o#p@h#p~9r0a@qV%x!b%z#t%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P~9rG{AkRf,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%i<uBXR!PR%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iG{BuVT,X%o`%up%r7[%x!b%z#t%iS%lWOz%iz{C[{!_%i!_!`4t!`#o%i#p#q%i#r~%iBeCcT_R%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iG{DVT$|,X%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iG{DyRx,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iMgEgU$},X%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`!aEy!a#o%i#p#q%i#r~%i<vFQR&U&j%r7[O#o%i#p#q%i#r~%iG{FnV!eQ%o`%up%r7[%x!b%z#t%iS%lWO!O%i!O!PGT!P!Q%i!Q![Gy![#o%i#p#q%i#r~%iBeGYT%r7[O!O%i!O!PGi!P#o%i#p#q%i#r~%iBeGpR!n,X%r7[O#o%i#p#q%i#r~%iBcHQ_!g,V%r7[O!Q%i!Q![Gy![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#SGy#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iBcIUX%r7[O{%i{|Iq|}%i}!OIq!O!Q%i!Q![JV![#o%i#p#q%i#r~%iBcIvT%r7[O!Q%i!Q![JV![#o%i#p#q%i#r~%iBcJ^Z!g,V%r7[O!Q%i!Q![JV![!l%i!l!mKP!m#R%i#R#SJV#S#^%i#^#_KP#_#o%i#p#q%i#r~%iBcKWR!g,V%r7[O#o%i#p#q%i#r~%iG{KtV%OR%o`%up%r7[%x!b%z#t%iS%lWO!P%i!P!QLZ!Q!_%i!_!`4t!`#o%i#p#q%i#r~%iBdLbT%QQ%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iGyMUm!g,V%o`%up%r7[%x!b%z#t%iS%lWO!O%i!O!P! P!P!Q%i!Q![!!k![!d%i!d!e!#w!e!g%i!g!hIP!h!l%i!l!mKP!m!q%i!q!r!%V!r!z%i!z!{!&_!{#R%i#R#S!!k#S#U%i#U#V!#w#V#X%i#X#YIP#Y#^%i#^#_KP#_#c%i#c#d!%V#d#l%i#l#m!&_#m#o%i#p#q%i#r~%iBc! UT%r7[O!Q%i!Q![! e![#o%i#p#q%i#r~%iBc! l_!g,V%r7[O!Q%i!Q![! e![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#S! e#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iBc!!ra!g,V%r7[O!O%i!O!P! P!P!Q%i!Q![!!k![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#S!!k#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iBc!#|W%r7[O!Q%i!Q!R!$f!R!S!$f!S#R%i#R#S!$f#S#o%i#p#q%i#r~%iBc!$mW!g,V%r7[O!Q%i!Q!R!$f!R!S!$f!S#R%i#R#S!$f#S#o%i#p#q%i#r~%iBc!%[V%r7[O!Q%i!Q!Y!%q!Y#R%i#R#S!%q#S#o%i#p#q%i#r~%iBc!%xV!g,V%r7[O!Q%i!Q!Y!%q!Y#R%i#R#S!%q#S#o%i#p#q%i#r~%iBc!&dZ%r7[O!Q%i!Q![!'V![!c%i!c!i!'V!i#R%i#R#S!'V#S#T%i#T#Z!'V#Z#o%i#p#q%i#r~%iBc!'^Z!g,V%r7[O!Q%i!Q![!'V![!c%i!c!i!'V!i#R%i#R#S!'V#S#T%i#T#Z!'V#Z#o%i#p#q%i#r~%iGy!(da!g,V%o`%up%r7[%x!b%z#t%iS%lWO!O%i!O!P! P!P!Q%i!Q![!!k![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#S!!k#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iMg!)|Ty1s%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`!*]!`#o%i#p#q%i#r~%i7_!*dR%YR%r7[O#o%i#p#q%i#r~%iG{!+QR#_,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iG{!+nVjR%o`%up%r7[%x!b%z#t%iS%lWO!^%i!^!_!,T!_!`)d!`!a)d!a#o%i#p#q%i#r~%iBd!,[T$zQ%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iG{!-OT%X,X%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`)d!`#o%i#p#q%i#r~%iG{!-rUjR%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`)d!`!a!.U!a#o%i#p#q%i#r~%iBd!.]T${Q%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iG{!/RT]Q#uP%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iMg!/wZ%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XO!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jHP!0sZ%r7[%f&j%S,XO!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jMg!1{c%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!t!0j!t!u!6v!u!}!0j!}#R%i#R#S!0j#S#T%i#T#f!0j#f#g!6v#g#o!0j#p#q%i#r$g%i$g~!0jBe!3_]%r7[%g,XOY,`YZ%iZ],`]^%i^r,`rs!4Ws#O,`#O#P-p#P#o,`#o#p.U#p#q,`#q#r.U#r~,`Be!4_T%r7[%g,XOr%irs!4ns#o%i#p#q%i#r~%iBe!4uR%r7[%k,XO#o%i#p#q%i#r~%iBe!5V]%r7[%g,XOY8^YZ%iZ]8^]^%i^w8^wx!6Ox#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Be!6VT%r7[%g,XOw%iwx!6fx#o%i#p#q%i#r~%iBe!6mR%r7[%h,XO#o%i#p#q%i#r~%iHP!7P_%r7[%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jMg!8ec%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!9psw%iwx!:|x!Q%i!Q![!0j![!c%i!c!t!0j!t!u!<Y!u!}!0j!}#R%i#R#S!0j#S#T%i#T#f!0j#f#g!<Y#g#o!0j#p#q%i#r$g%i$g~!0jBe!9wT%r7[%t,XOr%irs!:Ws#o%i#p#q%i#r~%iBe!:]T%r7[Or%irs!:ls#o%i#p#q%i#r~%iBe!:sR%r7[%y,XO#o%i#p#q%i#r~%iBe!;TT%r7[%n,XOw%iwx!;dx#o%i#p#q%i#r~%iBe!;iT%r7[Ow%iwx!;xx#o%i#p#q%i#r~%iBe!<PR%r7[%w,XO#o%i#p#q%i#r~%iHP!<c_%r7[%f&j%S,XOr%irs!9psw%iwx!:|x!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jMg!=wg%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!h!0j!h!i!<Y!i!t!0j!t!u!6v!u!}!0j!}#R%i#R#S!0j#S#T%i#T#U!0j#U#V!6v#V#Y!0j#Y#Z!<Y#Z#o!0j#p#q%i#r$g%i$g~!0jMg!?u_%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jG{!AXR!W,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iMg!AgX%r7[OY$}YZ%wZ]$}]^%w^#o$}#o#p!BS#p#q$}#q#r!BS#r~$}&f!BcO%o`%up%x!b%z#t%iS%lW<u!BvR!XR%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iGz!CdT$xQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iGy!C|P![Gm%iS%lW#o#p!DP&Y!D[O%o`%up%x!b%z#tGz!DoT$wQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%i<u!EaO!]7_%o`%up%x!b%z#t%iS%lWGy!EtR%R,V%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%i",tokenizers:[lh,0,1,2,3,4,5,6,7,8,9,10,sh,oh],topRules:{Script:[0,3]},specialized:[{term:188,get:t=>ah[t]||-1}],tokenPrec:6067}),ch=new V;function uh(t){return Ht.indentation.of(((i,e)=>function(t,i,e){let r=i.resolve(e);for(let n=r,s=e;;){let t=n.childBefore(s);if(!t)break;t.type.isError&&t.from==t.to?(r=n,s=t.from):(n=t,s=n.to+1)}for(;r;r=r.parent){let i=fh(r);if(i)return i(new Oh(t,e,r))}return-1}(i,t.getTree(i.state),e)))}function fh(t){let i=t.type.prop(ch);if(i)return i;let e,r=t.firstChild;if(r&&(e=r.type.prop(V.closedBy))){let i=t.lastChild,r=i&&e.indexOf(i.name)>-1;return t=>function(t,i,e,r,n){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=n==t.pos+o,a=function(t){var i;let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let s=null===(i=t.options)||void 0===i?void 0:i.simulateBreak,o=t.state.doc.lineAt(r.from),l=null==s||s<=o.from?o.to:Math.min(o.to,s);for(let a=r.to;;){let t=e.childAfter(a);if(!t||t==n)return null;if(!t.type.isSkipped)return t.from<l?r:null;a=t.to}}(t);return a?t.column(l?a.from:a.to):t.baseIndent+(l?0:1*t.unit)}(t,0,0,0,r&&!function(t){var i,e;return t.pos==(null===(i=t.options)||void 0===i?void 0:i.simulateBreak)&&(null===(e=t.options)||void 0===e?void 0:e.simulateDoubleBreak)}(t)?i.from:void 0)}return null==t.parent?dh:null}function dh(){return 0}class Oh extends Et{constructor(t,i,e){super(t.state,t.options),this.pos=i,this.node=e}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let i=this.node.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(mh(i,this.node))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t)}}function mh(t,i){for(let e=i;e;e=e.parent)if(t==e)return!0;return!1}const ph=new V;class gh{constructor(t,i,e){this.parser=t,this.dialect=i,this.languageData=e;let r=Vt.define();var n;this.field=$t.define({create:t=>bh.advance(z.empty,this,t.doc),update:(t,i)=>t.apply(i,this,r)}),this.extension=[Ht.syntax.of(this),this.field,kr.define((t=>new yh(t,this,r))),uh(this),(n=this,Ht.foldable.of(((t,i,e)=>{let r=null;for(let s=n.getTree(t).resolve(e);s;s=s.parent){if(s.to<=e||s.from>e)continue;if(r&&s.from<i)break;let n=s.type.prop(ph);if(n){let o=n(s,t);o&&o.from<=e&&o.from>=i&&o.to>e&&(r=o)}}return r})))]}static define(t,i={}){let e=vt.define({combine:i.languageData?t=>t.concat(i.languageData):void 0});return new gh(t.withProps(Tt.add({[t.topType.name]:e})),i.dialect||"",e)}withDialect(t){return new gh(this.parser,t,this.languageData)}getTree(t){return t.field(this.field).tree}parsePos(t){return t.field(this.field).upto}ensureTree(t,i,e=100){let r=t.field(this.field);if(r.upto>=i)return r.updatedTree;if(r.parse||r.startParse(this,t.doc),r.parse.pos<i){let n=wh(r.parse,e,i);if(n)return r.stopParse(n,t.doc.length)}return r.parse.pos<i?null:r.stopParse()}languageDataFacetAt(t,i){if(this.parser.hasNested){let e=this.getTree(t).resolve(i,-1);for(;e;){let t=e.type.prop(Tt);if(t)return t;e=e.parent}}return this.languageData}}class vh{constructor(t,i=t.length){this.doc=t,this.length=i,this.cursorPos=0,this.string="",this.cursor=t.iter()}get(t){if(t>=this.length)return-1;let i=this.cursorPos-this.string.length;return(t<i||t>=this.cursorPos)&&(t<this.cursorPos&&(this.cursor=this.doc.iter(),this.cursorPos=0),this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,i=this.cursorPos-this.string.length),this.string.charCodeAt(t-i)}read(t,i){let e=this.cursorPos-this.string.length;return t<e||i>=this.cursorPos?this.doc.sliceString(t,i):this.string.slice(t-e,i-e)}clip(t){return new vh(this.doc,t)}}function wh(t,i,e=5e6){let r=Date.now()+i;for(;;){let i=t.advance();if(i)return i;if(t.pos>e||Date.now()>r)return null}}function Qh(t,i){let e=t.forceFinish(),r=e.applyChanges([{fromA:t.pos,toA:e.length,fromB:t.pos,toB:e.length}]).append(i.applyChanges([{fromA:0,toA:t.pos,fromB:0,toB:t.pos}]));return{parsed:e,cache:r}}class bh{constructor(t,i,e){this.tree=t,this.upto=i,this.cache=e,this.parse=null,this.updatedTree=t}static advance(t,i,e){let r=i.parser.startParse(new vh(e),{cache:t,dialect:i.dialect}),n=wh(r,25);if(n)return new bh(n,e.length,n);let s=Qh(r,t);return new bh(s.parsed,r.pos,s.cache)}apply(t,i,e){for(let n of t.effects)if(n.is(e))return n.value;if(!t.docChanged)return this;let r=[];return t.changes.iterChangedRanges(((t,i,e,n)=>r.push({fromA:t,toA:i,fromB:e,toB:n}))),bh.advance((this.parse?Qh(this.parse,this.updatedTree).cache:this.cache).applyChanges(r),i,t.state.doc)}startParse(t,i){this.parse=t.parser.startParse(new vh(i),{cache:this.cache,dialect:t.dialect})}stopParse(t,i){return t?this.cache=t:({parsed:t,cache:this.cache}=Qh(this.parse,this.updatedTree)),this.updatedTree=t,this.upto=null!=i?i:this.parse.pos,this.parse=null,t}}let $h="undefined"!=typeof window&&window.requestIdleCallback||((t,{timeout:i})=>setTimeout(t,i)),Sh="undefined"!=typeof window&&window.cancelIdleCallback||clearTimeout;class yh{constructor(t,i,e){this.view=t,this.syntax=i,this.setSyntax=e,this.working=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){t.docChanged&&this.scheduleWork()}scheduleWork(){if(this.working>-1)return;let{state:t}=this.view;t.field(this.syntax.field).upto>=t.doc.length||(this.working=$h(this.work,{timeout:200}))}work(t){this.working=-1;let{state:i}=this.view,e=i.field(this.syntax.field);if(e.upto>=i.doc.length)return;e.parse||e.startParse(this.syntax,i.doc);let r=wh(e.parse,t?Math.max(25,t.timeRemaining()):100);if(r||e.parse.badness>.8){let t=e.stopParse(r,i.doc.length);this.view.dispatch({effects:this.setSyntax.of(new bh(t,i.doc.length,e.cache))})}else this.scheduleWork()}destroy(){this.working>=0&&Sh(this.working)}}const xh=gh.define(hh.withProps(ch.add({Body:function({except:t,units:i=1}={}){return e=>{let r=t&&t.test(e.textAfter);return e.baseIndent+(r?0:i*e.unit)}}()}),ph.add({Body:t=>({from:t.from+1,to:t.to-1}),ArrayExpression:t=>({from:t.from+1,to:t.to-1}),DictionaryExpression:t=>({from:t.from+1,to:t.to-1})}),ea.add({"async * ** FormatConversion":"modifier","for while if elif else try except finally return raise break continue with pass assert await yield":"keyword control","in not and or is del":"operatorKeyword","import from def class global nonlocal lambda":"keyword definition","with as print":"keyword",self:"self",Boolean:"bool",None:"null",VariableName:"variableName",PropertyName:"propertyName",Comment:"lineComment",Number:"number",String:"string",FormatString:"string#2",UpdateOp:"updateOperator",ArithOp:"arithmeticOperator",BitOp:"bitwiseOperator",CompareOp:"compareOperator",AssignOp:"operator definition",Ellipsis:"punctuation",At:"punctuation meta","( )":"paren","[ ]":"squareBracket","{ }":"brace",".":"derefOperator",", ;":"separator"})),{languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""']},commentTokens:{line:"#"},indentOnInput:/^\s*[\}\]\)]$/}}),kh=t=>function(t,i){const{state:e}=t,r=e.changeByRange((t=>{let{from:e,to:r}=t;if(e===r){const t=i(e);e=Math.min(e,t),r=Math.max(r,t)}return e===r?{range:t}:{changes:{from:e,to:r},range:Ot.cursor(e)}}));return!r.changes.empty&&(t.dispatch(t.state.update(r,{scrollIntoView:!0,annotations:It.userEvent.of("delete")})),!0)}(t,(i=>{const e=t.visualLineAt(i).from;return i>e?e:Math.max(0,t.visualLineAt(i-1).to)})),Lh=class{constructor(i){var e,r;t(this,i),this.languageCapabilities=["Bash","R","Python"],this.readOnly=!1,this.readOnlyTag=Symbol("readOnly"),this.setLanguage=t=>{const i=t.currentTarget;this.activeLanguage=i.value.toLowerCase(),this.onSetLanguage&&this.onSetLanguage(i.value)},this.activeLanguage=null!==(r=null===(e=this.languageCapabilities[0])||void 0===e?void 0:e.toLowerCase())&&void 0!==r?r:"",this.execute=()=>(this.getContents().then((t=>this.executeHandler?this.executeHandler(t):t)).catch((t=>(console.error(t),!1))),!0),this.autofocus=!1,this.lineNumbers=!0,this.foldGutter=!0,this.keymap=[],this.initCodeMirror=()=>{var t,i,e,r;const n=this.el,s=n.querySelector("[slot]"),o=null!==(e=null!==(t=null==s?void 0:s.textContent)&&void 0!==t?t:null===(i=null==n?void 0:n.querySelector("#editorTarget"))||void 0===i?void 0:i.textContent)&&void 0!==e?e:"",l=[ma(),Js(),mo(),Rn.inputHandler.of(eo),ha,xh,Yn(),Ht.allowMultipleSelections.of(!0),as(),Cn([...fl,...dl,...ro,...Ra,...Bl,{key:"Ctrl-Space",run:Is},{key:"Mod-Backspace",run:kh},{key:"Shift-Enter",run:this.execute},...this.keymap]),(a=this.readOnlyTag,h=Rn.editable.of(!this.readOnly),new Lt(a,h))];var a,h;return this.lineNumbers&&l.push(function(t={}){return[Tl.of(t),El]}()),this.foldGutter&&l.push(function(t={}){let i=Object.assign(Object.assign({},Kl),t),e=new ta(i,!0),r=new ta(i,!1);return[kl({style:"foldGutter",lineMarker:(t,i)=>zl(t.state,i.from,i.to)?r:Yl(t.state,i.from,i.to)?e:null,initialSpacer:()=>new ta(i,!1),domEventHandlers:{click:(t,i)=>{let e=zl(t.state,i.from,i.to);if(e)return t.dispatch({effects:Cl.of(e)}),!0;let r=Yl(t.state,i.from,i.to);return!!r&&(t.dispatch({effects:Vl.of(r)}),!0)}}}),Hl()]}()),this.editorRef=new Rn({state:Ht.create({doc:o,extensions:l})}),null===(r=null==n?void 0:n.querySelector("#editorTarget"))||void 0===r?void 0:r.replaceWith(this.editorRef.dom)},this.getContent=()=>this.editorRef.state.doc.toString(),this.stopEventPropagation=t=>{t.stopPropagation()},this.focusEditor=()=>{this.editorRef.focus()}}readOnlyChanged(t,i){t!==i&&this.editorRef.dispatch({reconfigure:{[this.readOnlyTag]:Rn.editable.of(!this.readOnly)}})}async getContents(){return Promise.resolve({text:this.getContent(),language:this.activeLanguage})}setContents(t){const i=this.editorRef.state,e=i.update({changes:{from:0,to:i.doc.length,insert:t},scrollIntoView:!0});return this.editorRef.dispatch(e),Promise.resolve(t)}componentDidLoad(){this.initCodeMirror(),this.autofocus&&this.focusEditor()}disconnectedCallback(){this.editorRef.destroy()}render(){return i(r,null,i("div",{class:"editorContainer"},i("div",{class:"editor",onKeyDown:this.stopEventPropagation,onClick:this.focusEditor},i("div",{class:"hidden"},i("slot",{name:"text"})),i("div",{id:"editorTarget"})),i("menu",null,i("label",{"aria-label":"Programming Language"},i("stencila-icon",{icon:"terminal"}),i("select",{onChange:this.setLanguage},this.languageCapabilities.map((t=>i("option",{value:t.toLowerCase(),selected:t.toLowerCase()===this.activeLanguage},t))))))))}get el(){return e(this)}static get watchers(){return{readOnly:["readOnlyChanged"]}}};Lh.style={default:"*.sc-stencila-editor-default,.sc-stencila-editor-default:after,.sc-stencila-editor-default:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-editor-default{font-size:16px}.hidden.sc-stencila-editor-default{display:none}.sc-stencila-editor-default-h,stencila-editor.sc-stencila-editor-default{--line-number-background:var(--color-background,var(--color-neutral-200,#edf2f7));all:initial;display:-ms-flexbox;display:flex;max-width:100%;--border-width:1px;--background-color:transparent}.sc-stencila-editor-default-h .editorContainer.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default .editorContainer.sc-stencila-editor-default{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;max-width:100%;border-width:1px;border-radius:.25rem;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);background-color:var(--background-color);border-width:var(--border-width)}.sc-stencila-editor-default-h .editorContainer.sc-stencila-editor-default:focus-within,stencila-editor.sc-stencila-editor-default .editorContainer.sc-stencila-editor-default:focus-within{-webkit-box-shadow:inset 0 0 0 2px var(--color-neutral-400);box-shadow:inset 0 0 0 2px var(--color-neutral-400)}.sc-stencila-editor-default-h .editor.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default .editor.sc-stencila-editor-default{-ms-flex-positive:1;flex-grow:1;max-width:100%;overflow:auto;font-family:monospace;font-family:var(--font-family-mono,monospace);cursor:text}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .codemirror-content *,.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .gutterElement *,stencila-editor.sc-stencila-editor-default-s>.editorContainer .codemirror-content *,stencila-editor.sc-stencila-editor-default-s>.editorContainer .gutterElement *{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.875rem}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .codemirror-focused,stencila-editor.sc-stencila-editor-default-s>.editorContainer .codemirror-focused{outline:2px solid transparent;outline-offset:2px}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .codemirror-scroller,stencila-editor.sc-stencila-editor-default-s>.editorContainer .codemirror-scroller{overflow:auto}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .cm-gutters,stencila-editor.sc-stencila-editor-default-s>.editorContainer .cm-gutters{background-color:var(--line-number-background)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding:1px 0;margin:0;border-top-width:1px;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default stencila-icon.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default stencila-icon.sc-stencila-editor-default{--height:1em;--width:1em;margin-right:.25rem}.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default{margin-right:.5rem;font-size:.75rem;text-align:left;background-color:transparent;border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#4a5568;color:var(--color-neutral-700,#4a5568);font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default option.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default option.sc-stencila-editor-default{text-align:right;font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default:active,.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default:focus,.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default:hover,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default:active,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default:focus,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default:hover{color:#1a202c;color:var(--color-neutral-900,#1a202c)}",material:"*.sc-stencila-editor-material,.sc-stencila-editor-material:after,.sc-stencila-editor-material:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-editor-material{font-size:16px}.hidden.sc-stencila-editor-material{display:none}.sc-stencila-editor-material-h,stencila-editor.sc-stencila-editor-material{--line-number-background:var(--color-background,var(--color-neutral-200,#edf2f7));all:initial;display:-ms-flexbox;display:flex;max-width:100%;--border-width:1px;--background-color:transparent}.sc-stencila-editor-material-h .editorContainer.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material .editorContainer.sc-stencila-editor-material{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;max-width:100%;border-width:1px;border-radius:.25rem;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);background-color:var(--background-color);border-width:var(--border-width)}.sc-stencila-editor-material-h .editorContainer.sc-stencila-editor-material:focus-within,stencila-editor.sc-stencila-editor-material .editorContainer.sc-stencila-editor-material:focus-within{-webkit-box-shadow:inset 0 0 0 2px var(--color-neutral-400);box-shadow:inset 0 0 0 2px var(--color-neutral-400)}.sc-stencila-editor-material-h .editor.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material .editor.sc-stencila-editor-material{-ms-flex-positive:1;flex-grow:1;max-width:100%;overflow:auto;font-family:monospace;font-family:var(--font-family-mono,monospace);cursor:text}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .codemirror-content *,.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .gutterElement *,stencila-editor.sc-stencila-editor-material-s>.editorContainer .codemirror-content *,stencila-editor.sc-stencila-editor-material-s>.editorContainer .gutterElement *{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.875rem}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .codemirror-focused,stencila-editor.sc-stencila-editor-material-s>.editorContainer .codemirror-focused{outline:2px solid transparent;outline-offset:2px}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .codemirror-scroller,stencila-editor.sc-stencila-editor-material-s>.editorContainer .codemirror-scroller{overflow:auto}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .cm-gutters,stencila-editor.sc-stencila-editor-material-s>.editorContainer .cm-gutters{background-color:var(--line-number-background)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding:1px 0;margin:0;border-top-width:1px;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material stencila-icon.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material stencila-icon.sc-stencila-editor-material{--height:1em;--width:1em;margin-right:.25rem}.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material{margin-right:.5rem;font-size:.75rem;text-align:left;background-color:transparent;border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#4a5568;color:var(--color-neutral-700,#4a5568);font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material option.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material option.sc-stencila-editor-material{text-align:right;font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material:active,.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material:focus,.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material:hover,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material:active,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material:focus,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material:hover{color:#1a202c;color:var(--color-neutral-900,#1a202c)}"};var Ph=n((function(t,i){function e(t){return null==t?i.none:i.some(t)}function r(t){return"Right"===t._tag?i.none:i.some(t.left)}function n(t){return"Left"===t._tag?i.none:i.some(t.right)}Object.defineProperty(i,"__esModule",{value:!0}),i.apS=i.bind=i.bindTo=i.getRefinement=i.exists=i.elem=i.option=i.MonadThrow=i.Witherable=i.Traversable=i.Filterable=i.Compactable=i.Extend=i.Alternative=i.Alt=i.Foldable=i.Monad=i.Applicative=i.Functor=i.getMonoid=i.getLastMonoid=i.getFirstMonoid=i.getApplyMonoid=i.getApplySemigroup=i.getOrd=i.getEq=i.getShow=i.URI=i.wilt=i.wither=i.sequence=i.traverse=i.partitionMap=i.partition=i.filterMap=i.filter=i.separate=i.compact=i.reduceRight=i.foldMap=i.reduce=i.duplicate=i.extend=i.throwError=i.zero=i.alt=i.flatten=i.chainFirst=i.chain=i.of=i.apSecond=i.apFirst=i.ap=i.map=i.mapNullable=i.getOrElse=i.getOrElseW=i.toUndefined=i.toNullable=i.fold=i.fromEither=i.getRight=i.getLeft=i.tryCatch=i.fromPredicate=i.fromNullable=i.some=i.none=i.isNone=i.isSome=void 0,i.isSome=function(t){return"Some"===t._tag},i.isNone=function(t){return"None"===t._tag},i.none={_tag:"None"},i.some=function(t){return{_tag:"Some",value:t}},i.fromNullable=e,i.fromPredicate=function(t){return function(e){return t(e)?i.some(e):i.none}},i.tryCatch=function(t){try{return i.some(t())}catch(e){return i.none}},i.getLeft=r,i.getRight=n,i.fromEither=function(t){return"Left"===t._tag?i.none:i.some(t.right)},i.fold=function(t,e){return function(r){return i.isNone(r)?t():e(r.value)}},i.toNullable=function(t){return i.isNone(t)?null:t.value},i.toUndefined=function(t){return i.isNone(t)?void 0:t.value},i.getOrElseW=function(t){return function(e){return i.isNone(e)?t():e.value}},i.getOrElse=i.getOrElseW,i.mapNullable=function(t){return function(r){return i.isNone(r)?i.none:e(t(r.value))}};var s=function(t,e){return i.isNone(t)?i.none:i.some(e(t.value))},o=function(t,e){return i.isNone(t)||i.isNone(e)?i.none:i.some(t.value(e.value))},l=function(t,e){return i.isNone(t)?i.none:e(t.value)},a=function(t,e,r){return i.isNone(t)?e:r(e,t.value)},c=function(t){return function(e,r){return i.isNone(e)?t.empty:r(e.value)}},u=function(t,e,r){return i.isNone(t)?e:r(t.value,e)},f=function(t){return function(e,r){return i.isNone(e)?t.of(i.none):t.map(r(e.value),i.some)}},d=function(t,e){return i.isNone(t)?e():t},O=function(t,e){return i.isNone(t)?i.none:e(t.value)?t:i.none},m=function(t,e){return i.isNone(t)?i.none:e(t.value)},p=function(t,e){return i.isNone(t)?i.none:i.some(e(t))},g=function(t,i){return{left:O(t,(function(t){return!i(t)})),right:O(t,i)}},v=function(t,e){return i.separate(s(t,e))},w=function(t){return function(e,r){return i.isNone(e)?t.of(i.none):r(e.value)}},Q=function(t){return function(e,o){var l=s(e,(function(i){return t.map(o(i),(function(t){return{left:r(t),right:n(t)}}))}));return i.isNone(l)?t.of({left:i.none,right:i.none}):l.value}};i.map=function(t){return function(i){return s(i,t)}},i.ap=function(t){return function(i){return o(i,t)}},i.apFirst=function(t){return h.flow(i.map((function(t){return function(){return t}})),i.ap(t))},i.apSecond=function(t){return h.flow(i.map((function(){return function(t){return t}})),i.ap(t))},i.of=i.some,i.chain=function(t){return function(i){return l(i,t)}},i.chainFirst=function(t){return i.chain((function(e){return h.pipe(t(e),i.map((function(){return e})))}))},i.flatten=i.chain(h.identity),i.alt=function(t){return function(i){return d(i,t)}},i.zero=function(){return i.none},i.throwError=function(){return i.none},i.extend=function(t){return function(i){return p(i,t)}},i.duplicate=i.extend(h.identity),i.reduce=function(t,i){return function(e){return a(e,t,i)}},i.foldMap=function(t){var i=c(t);return function(t){return function(e){return i(e,t)}}},i.reduceRight=function(t,i){return function(e){return u(e,t,i)}},i.compact=i.flatten;var b={left:i.none,right:i.none};function $(t){return{equals:function(e,r){return e===r||(i.isNone(e)?i.isNone(r):!i.isNone(r)&&t.equals(e.value,r.value))}}}function S(t){return{concat:function(e,r){return i.isSome(e)&&i.isSome(r)?i.some(t.concat(e.value,r.value)):i.none}}}i.separate=function(t){var e=s(t,(function(t){return{left:r(t),right:n(t)}}));return i.isNone(e)?b:e.value},i.filter=function(t){return function(i){return O(i,t)}},i.filterMap=function(t){return function(i){return m(i,t)}},i.partition=function(t){return function(i){return g(i,t)}},i.partitionMap=function(t){return function(i){return v(i,t)}},i.traverse=function(t){var i=f(t);return function(t){return function(e){return i(e,t)}}},i.sequence=function(t){return function(e){return i.isNone(e)?t.of(i.none):t.map(e.value,i.some)}},i.wither=function(t){var i=w(t);return function(t){return function(e){return i(e,t)}}},i.wilt=function(t){var i=Q(t);return function(t){return function(e){return i(e,t)}}},i.URI="Option",i.getShow=function(t){return{show:function(e){return i.isNone(e)?"none":"some("+t.show(e.value)+")"}}},i.getEq=$,i.getOrd=function(t){return{equals:$(t).equals,compare:function(e,r){return e===r?0:i.isSome(e)?i.isSome(r)?t.compare(e.value,r.value):1:-1}}},i.getApplySemigroup=S,i.getApplyMonoid=function(t){return{concat:S(t).concat,empty:i.some(t.empty)}},i.getFirstMonoid=function(){return{concat:function(t,e){return i.isNone(t)?e:t},empty:i.none}},i.getLastMonoid=function(){return{concat:function(t,e){return i.isNone(e)?t:e},empty:i.none}},i.getMonoid=function(t){return{concat:function(e,r){return i.isNone(e)?r:i.isNone(r)?e:i.some(t.concat(e.value,r.value))},empty:i.none}},i.Functor={URI:i.URI,map:s},i.Applicative={URI:i.URI,map:s,ap:o,of:i.of},i.Monad={URI:i.URI,map:s,ap:o,of:i.of,chain:l},i.Foldable={URI:i.URI,reduce:a,foldMap:c,reduceRight:u},i.Alt={URI:i.URI,map:s,alt:d},i.Alternative={URI:i.URI,map:s,ap:o,of:i.of,alt:d,zero:i.zero},i.Extend={URI:i.URI,map:s,extend:p},i.Compactable={URI:i.URI,compact:i.compact,separate:i.separate},i.Filterable={URI:i.URI,map:s,compact:i.compact,separate:i.separate,filter:O,filterMap:m,partition:g,partitionMap:v},i.Traversable={URI:i.URI,map:s,reduce:a,foldMap:c,reduceRight:u,traverse:f,sequence:i.sequence},i.Witherable={URI:i.URI,map:s,reduce:a,foldMap:c,reduceRight:u,traverse:f,sequence:i.sequence,compact:i.compact,separate:i.separate,filter:O,filterMap:m,partition:g,partitionMap:v,wither:w,wilt:Q},i.MonadThrow={URI:i.URI,map:s,ap:o,of:i.of,chain:l,throwError:i.throwError},i.option={URI:i.URI,map:s,of:i.of,ap:o,chain:l,reduce:a,foldMap:c,reduceRight:u,traverse:f,sequence:i.sequence,zero:i.zero,alt:d,extend:p,compact:i.compact,separate:i.separate,filter:O,filterMap:m,partition:g,partitionMap:v,wither:w,wilt:Q,throwError:i.throwError},i.elem=function(t){return function(e,r){return!i.isNone(r)&&t.equals(e,r.value)}},i.exists=function(t){return function(e){return!i.isNone(e)&&t(e.value)}},i.getRefinement=function(t){return function(e){return i.isSome(t(e))}},i.bindTo=function(t){return i.map(h.bindTo_(t))},i.bind=function(t,e){return i.chain((function(r){return h.pipe(e(r),i.map((function(i){return h.bind_(r,t,i)})))}))},i.apS=function(t,e){return h.flow(i.map((function(i){return function(e){return h.bind_(i,t,e)}})),i.ap(e))}})),Xh=n((function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.invert=i.monoidOrdering=i.semigroupOrdering=i.eqOrdering=i.sign=void 0,i.sign=function(t){return t<=-1?-1:t>=1?1:0},i.eqOrdering={equals:function(t,i){return t===i}},i.semigroupOrdering={concat:function(t,i){return 0!==t?t:i}},i.monoidOrdering={concat:i.semigroupOrdering.concat,empty:0},i.invert=function(t){switch(t){case-1:return 1;case 1:return-1;default:return 0}}})),Rh=n((function(t,i){function e(t,i){return t<i?-1:t>i?1:0}function r(t,i){return t===i}function n(t){return function(i,e){return-1===t.compare(i,e)}}function s(t){return function(i,e){return 1===t.compare(i,e)}}function o(t){return function(i,e){return 1===t.compare(i,e)?e:i}}function l(t){return function(i,e){return-1===t.compare(i,e)?e:i}}function a(t){var i=function(i,e){return i===e?0:t(i,e)};return{equals:function(t,e){return 0===i(t,e)},compare:i}}function c(){return{concat:function(t,i){return a((function(e,r){return Xh.monoidOrdering.concat(t.compare(e,r),i.compare(e,r))}))}}}Object.defineProperty(i,"__esModule",{value:!0}),i.ord=i.Contravariant=i.ordDate=i.URI=i.contramap=i.getDualOrd=i.getTupleOrd=i.getMonoid=i.getSemigroup=i.fromCompare=i.between=i.clamp=i.max=i.min=i.geq=i.leq=i.gt=i.lt=i.ordBoolean=i.ordNumber=i.ordString=void 0,i.ordString={equals:r,compare:e},i.ordNumber={equals:r,compare:e},i.ordBoolean={equals:r,compare:e},i.lt=n,i.gt=s,i.leq=function(t){return function(i,e){return 1!==t.compare(i,e)}},i.geq=function(t){return function(i,e){return-1!==t.compare(i,e)}},i.min=o,i.max=l,i.clamp=function(t){var i=o(t),e=l(t);return function(t,r){return function(n){return e(i(n,r),t)}}},i.between=function(t){var i=n(t),e=s(t);return function(t,r){return function(n){return!i(n,t)&&!e(n,r)}}},i.fromCompare=a,i.getSemigroup=c,i.getMonoid=function(){return{concat:c().concat,empty:a((function(){return 0}))}},i.getTupleOrd=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e=t.length;return a((function(i,r){for(var n=0;n<e-1;n++){var s=t[n].compare(i[n],r[n]);if(0!==s)return s}return t[n].compare(i[n],r[n])}))},i.getDualOrd=function(t){return a((function(i,e){return t.compare(e,i)}))},i.contramap=function(t){return function(i){return a((function(e,r){return i.compare(t(e),t(r))}))}},i.URI="Ord",i.ordDate=h.pipe(i.ordNumber,i.contramap((function(t){return t.valueOf()}))),i.Contravariant={URI:i.URI,contramap:function(t,e){return h.pipe(t,i.contramap(e))}},i.ord=i.Contravariant})),Uh=n((function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.apS=i.bind=i.bindTo=i.empty=i.unsafeDeleteAt=i.unsafeUpdateAt=i.unsafeInsertAt=i.readonlyArray=i.Witherable=i.TraversableWithIndex=i.Traversable=i.FoldableWithIndex=i.Foldable=i.FilterableWithIndex=i.Filterable=i.Compactable=i.Extend=i.Alternative=i.Alt=i.Unfoldable=i.Monad=i.Applicative=i.FunctorWithIndex=i.Functor=i.URI=i.unfold=i.wilt=i.wither=i.traverseWithIndex=i.sequence=i.traverse=i.reduceRightWithIndex=i.reduceRight=i.reduceWithIndex=i.foldMap=i.reduce=i.foldMapWithIndex=i.duplicate=i.extend=i.filterWithIndex=i.partitionMapWithIndex=i.partitionMap=i.partitionWithIndex=i.partition=i.compact=i.filterMap=i.filterMapWithIndex=i.filter=i.separate=i.mapWithIndex=i.map=i.chainFirst=i.chainWithIndex=i.chain=i.apSecond=i.apFirst=i.ap=i.alt=i.zero=i.of=i.difference=i.intersection=i.union=i.comprehension=i.chunksOf=i.splitAt=i.chop=i.sortBy=i.uniq=i.elem=i.rotate=i.unzip=i.zip=i.zipWith=i.sort=i.lefts=i.rights=i.reverse=i.modifyAt=i.deleteAt=i.updateAt=i.insertAt=i.findLastIndex=i.findLastMap=i.findLast=i.findFirstMap=i.findFirst=i.findIndex=i.dropLeftWhile=i.dropRight=i.dropLeft=i.spanLeft=i.takeLeftWhile=i.takeRight=i.takeLeft=i.init=i.tail=i.last=i.head=i.snoc=i.cons=i.lookup=i.isOutOfBound=i.isNonEmpty=i.isEmpty=i.scanRight=i.scanLeft=i.foldRight=i.foldLeft=i.flatten=i.replicate=i.range=i.makeBy=i.getOrd=i.getEq=i.getMonoid=i.getShow=i.toArray=i.fromArray=void 0,i.fromArray=function(t){var e=t.length;if(0===e)return i.empty;for(var r=Array(e),n=0;n<e;n++)r[n]=t[n];return r},i.toArray=function(t){for(var i=t.length,e=Array(i),r=0;r<i;r++)e[r]=t[r];return e},i.getShow=function(t){return{show:function(i){return"["+i.map(t.show).join(", ")+"]"}}};var e=function(t,i){var e=t.length;if(0===e)return i;var r=i.length;if(0===r)return t;for(var n=Array(e+r),s=0;s<e;s++)n[s]=t[s];for(s=0;s<r;s++)n[s+e]=i[s];return n};function r(t,i){for(var e=[],r=0;r<t;r++)e.push(i(r));return e}function n(t){return 0===t.length}function s(t){return t.length>0}function o(t,i){return t<0||t>=i.length}function l(t,i){return void 0===i?function(i){return l(t,i)}:o(t,i)?Ph.none:Ph.some(i[t])}function a(t,i){for(var e=t.length,r=Array(e+1),n=0;n<e;n++)r[n]=t[n];return r[e]=i,r}i.getMonoid=function(){return{concat:e,empty:i.empty}},i.getEq=function(t){return{equals:function(i,e){return i===e||i.length===e.length&&i.every((function(i,r){return t.equals(i,e[r])}))}}},i.getOrd=function(t){return Rh.fromCompare((function(i,e){for(var r=i.length,n=e.length,s=Math.min(r,n),o=0;o<s;o++){var l=t.compare(i[o],e[o]);if(0!==l)return l}return Rh.ordNumber.compare(r,n)}))},i.makeBy=r,i.range=function(t,i){return r(i-t+1,(function(i){return t+i}))},i.replicate=function(t,i){return r(t,(function(){return i}))},i.flatten=function(t){for(var i=0,e=t.length,r=0;r<e;r++)i+=t[r].length;var n=Array(i),s=0;for(r=0;r<e;r++){for(var o=t[r],l=o.length,a=0;a<l;a++)n[a+s]=o[a];s+=l}return n},i.foldLeft=function(t,i){return function(e){return n(e)?t():i(e[0],e.slice(1))}},i.foldRight=function(t,i){return function(e){return n(e)?t():i(e.slice(0,e.length-1),e[e.length-1])}},i.scanLeft=function(t,i){return function(e){var r=e.length,n=new Array(r+1);n[0]=t;for(var s=0;s<r;s++)n[s+1]=i(n[s],e[s]);return n}},i.scanRight=function(t,i){return function(e){var r=e.length,n=new Array(r+1);n[r]=t;for(var s=r-1;s>=0;s--)n[s]=i(e[s],n[s+1]);return n}},i.isEmpty=n,i.isNonEmpty=s,i.isOutOfBound=o,i.lookup=l,i.cons=function t(i,e){if(void 0===e)return function(e){return t(i,e)};for(var r=e.length,n=Array(r+1),s=0;s<r;s++)n[s+1]=e[s];return n[0]=i,n},i.snoc=a,i.head=function(t){return n(t)?Ph.none:Ph.some(t[0])},i.last=function(t){return l(t.length-1,t)},i.tail=function(t){return n(t)?Ph.none:Ph.some(t.slice(1))},i.init=function(t){var i=t.length;return 0===i?Ph.none:Ph.some(t.slice(0,i-1))},i.takeLeft=function(t){return function(i){return i.slice(0,t)}},i.takeRight=function(t){return function(e){return 0===t?i.empty:e.slice(-t)}},i.takeLeftWhile=function(t){return function(i){for(var e=c(i,t),r=Array(e),n=0;n<e;n++)r[n]=i[n];return r}};var c=function(t,i){for(var e=t.length,r=0;r<e&&i(t[r]);r++);return r};function u(t,i,e){for(var r=[],n=Math.min(t.length,i.length),s=0;s<n;s++)r[s]=e(t[s],i[s]);return r}function f(t){return function(i,e){if(void 0===e){var r=f(t);return function(t){return r(i,t)}}for(var n=0,s=e.length;n<s;n++)if(t.equals(e[n],i))return!0;return!1}}function d(t){return function(i){return[i.slice(0,t),i.slice(t)]}}i.spanLeft=function(t){return function(i){for(var e=c(i,t),r=Array(e),n=0;n<e;n++)r[n]=i[n];var s=i.length,o=Array(s-e);for(n=e;n<s;n++)o[n-e]=i[n];return{init:r,rest:o}}},i.dropLeft=function(t){return function(i){return i.slice(t,i.length)}},i.dropRight=function(t){return function(i){return i.slice(0,i.length-t)}},i.dropLeftWhile=function(t){return function(i){for(var e=c(i,t),r=i.length,n=Array(r-e),s=e;s<r;s++)n[s-e]=i[s];return n}},i.findIndex=function(t){return function(i){for(var e=i.length,r=0;r<e;r++)if(t(i[r]))return Ph.some(r);return Ph.none}},i.findFirst=function(t){return function(i){for(var e=i.length,r=0;r<e;r++)if(t(i[r]))return Ph.some(i[r]);return Ph.none}},i.findFirstMap=function(t){return function(i){for(var e=i.length,r=0;r<e;r++){var n=t(i[r]);if(Ph.isSome(n))return n}return Ph.none}},i.findLast=function(t){return function(i){for(var e=i.length-1;e>=0;e--)if(t(i[e]))return Ph.some(i[e]);return Ph.none}},i.findLastMap=function(t){return function(i){for(var e=i.length-1;e>=0;e--){var r=t(i[e]);if(Ph.isSome(r))return r}return Ph.none}},i.findLastIndex=function(t){return function(i){for(var e=i.length-1;e>=0;e--)if(t(i[e]))return Ph.some(e);return Ph.none}},i.insertAt=function(t,i){return function(e){return t<0||t>e.length?Ph.none:Ph.some(W(t,i,e))}},i.updateAt=function(t,i){return function(e){return o(t,e)?Ph.none:Ph.some(A(t,i,e))}},i.deleteAt=function(t){return function(i){return o(t,i)?Ph.none:Ph.some(V(t,i))}},i.modifyAt=function(t,i){return function(e){return o(t,e)?Ph.none:Ph.some(A(t,i(e[t]),e))}},i.reverse=function(t){return n(t)?t:t.slice().reverse()},i.rights=function(t){for(var i=[],e=t.length,r=0;r<e;r++){var n=t[r];"Right"===n._tag&&i.push(n.right)}return i},i.lefts=function(t){for(var i=[],e=t.length,r=0;r<e;r++){var n=t[r];"Left"===n._tag&&i.push(n.left)}return i},i.sort=function(t){return function(i){return n(i)?i:i.slice().sort(t.compare)}},i.zipWith=u,i.zip=function t(i,e){return void 0===e?function(e){return t(e,i)}:u(i,e,(function(t,i){return[t,i]}))},i.unzip=function(t){for(var i=[],e=[],r=0;r<t.length;r++)i[r]=t[r][0],e[r]=t[r][1];return[i,e]},i.rotate=function t(i){return function(e){var r=e.length;return 0===i||r<=1||r===Math.abs(i)?e:i<0?t(r+i)(e):e.slice(-i).concat(e.slice(0,r-i))}},i.elem=f,i.uniq=function(t){var i=f(t);return function(t){for(var e=[],r=t.length,n=0;n<r;n++){var s=t[n];i(s,e)||e.push(s)}return r===e.length?t:e}},i.sortBy=function(t){var e=Rh.getMonoid();return i.sort(t.reduce(e.concat,e.empty))},i.chop=function(t){return function(i){for(var e=[],r=i;s(r);){var n=t(r),o=n[1];e.push(n[0]),r=o}return e}},i.splitAt=d,i.chunksOf=function(t){var e=i.chop(d(t));return function(r){return 0===r.length?i.empty:o(t-1,r)?[r]:e(r)}},i.comprehension=function(t,e,r){void 0===r&&(r=function(){return!0});var n=function(t,s){return 0===s.length?r.apply(void 0,t)?[e.apply(void 0,t)]:i.empty:g(s[0],(function(i){return n(a(t,i),s.slice(1))}))};return n(i.empty,t)},i.union=function t(i){var r=f(i);return function(n,s){if(void 0===s){var o=t(i);return function(t){return o(t,n)}}return e(n,s.filter((function(t){return!r(t,n)})))}},i.intersection=function t(i){var e=f(i);return function(r,n){if(void 0===n){var s=t(i);return function(t){return s(t,r)}}return r.filter((function(t){return e(t,n)}))}},i.difference=function t(i){var e=f(i);return function(r,n){if(void 0===n){var s=t(i);return function(t){return s(t,r)}}return r.filter((function(t){return!e(t,n)}))}},i.of=function(t){return[t]},i.zero=function(){return i.empty};var O=function(t,e){return h.pipe(t,i.map(e))},m=function(t,e){return h.pipe(t,i.mapWithIndex(e))},p=function(t,e){return h.pipe(t,i.ap(e))},g=function(t,e){return h.pipe(t,i.chain(e))},v=function(t,e){return h.pipe(t,i.filter(e))},w=function(t,e){return h.pipe(t,i.filterMap(e))},Q=function(t,e){return h.pipe(t,i.partitionWithIndex(e))},b=function(t,e){return h.pipe(t,i.partition(e))},$=function(t,e){return h.pipe(t,i.partitionMap(e))},S=function(t,e){return h.pipe(t,i.partitionMapWithIndex(e))},y=function(t,e){return h.pipe(t,i.alt(e))},x=function(t,e,r){return h.pipe(t,i.reduce(e,r))},k=function(t){var e=i.foldMap(t);return function(t,i){return h.pipe(t,e(i))}},L=function(t,e,r){return h.pipe(t,i.reduceRight(e,r))},P=function(t,i,e){for(var r=t.length,n=i,s=0;s<r;s++)n=e(s,n,t[s]);return n},X=function(t){return function(i,e){return i.reduce((function(i,r,n){return t.concat(i,e(n,r))}),t.empty)}},R=function(t,e,r){return h.pipe(t,i.reduceRightWithIndex(e,r))},U=function(t,e){return h.pipe(t,i.filterMapWithIndex(e))},q=function(t,e){return h.pipe(t,i.filterWithIndex(e))},j=function(t,e){return h.pipe(t,i.extend(e))},M=function(t){var e=i.traverse(t);return function(t,i){return h.pipe(t,e(i))}},T=function(t){var e=i.traverseWithIndex(t);return function(t,i){return h.pipe(t,e(i))}},_=function(t){var e=i.wither(t);return function(t,i){return h.pipe(t,e(i))}},E=function(t){var e=i.wilt(t);return function(t,i){return h.pipe(t,e(i))}};function W(t,i,e){var r=e.slice();return r.splice(t,0,i),r}function A(t,i,e){if(e[t]===i)return e;var r=e.slice();return r[t]=i,r}function V(t,i){var e=i.slice();return e.splice(t,1),e}i.alt=function(t){return function(i){return e(i,t())}},i.ap=function(t){return i.chain((function(e){return h.pipe(t,i.map(e))}))},i.apFirst=function(t){return h.flow(i.map((function(t){return function(){return t}})),i.ap(t))},i.apSecond=function(t){return h.flow(i.map((function(){return function(t){return t}})),i.ap(t))},i.chain=function(t){return function(e){return h.pipe(e,i.chainWithIndex((function(i,e){return t(e)})))}},i.chainWithIndex=function(t){return function(i){for(var e=0,r=i.length,n=new Array(r),s=0;s<r;s++)e+=(a=t(s,i[s])).length,n[s]=a;var o=Array(e),l=0;for(s=0;s<r;s++){for(var a,h=(a=n[s]).length,c=0;c<h;c++)o[c+l]=a[c];l+=h}return o}},i.chainFirst=function(t){return i.chain((function(e){return h.pipe(t(e),i.map((function(){return e})))}))},i.map=function(t){return function(i){return i.map((function(i){return t(i)}))}},i.mapWithIndex=function(t){return function(i){return i.map((function(i,e){return t(e,i)}))}},i.separate=function(t){for(var i=[],e=[],r=0,n=t;r<n.length;r++){var s=n[r];"Left"===s._tag?i.push(s.left):e.push(s.right)}return{left:i,right:e}},i.filter=function(t){return function(i){return i.filter(t)}},i.filterMapWithIndex=function(t){return function(i){for(var e=[],r=0;r<i.length;r++){var n=t(r,i[r]);Ph.isSome(n)&&e.push(n.value)}return e}},i.filterMap=function(t){return i.filterMapWithIndex((function(i,e){return t(e)}))},i.compact=i.filterMap(h.identity),i.partition=function(t){return i.partitionWithIndex((function(i,e){return t(e)}))},i.partitionWithIndex=function(t){return function(i){for(var e=[],r=[],n=0;n<i.length;n++){var s=i[n];t(n,s)?r.push(s):e.push(s)}return{left:e,right:r}}},i.partitionMap=function(t){return i.partitionMapWithIndex((function(i,e){return t(e)}))},i.partitionMapWithIndex=function(t){return function(i){for(var e=[],r=[],n=0;n<i.length;n++){var s=t(n,i[n]);"Left"===s._tag?e.push(s.left):r.push(s.right)}return{left:e,right:r}}},i.filterWithIndex=function(t){return function(i){return i.filter((function(i,e){return t(e,i)}))}},i.extend=function(t){return function(i){return i.map((function(i,e,r){return t(r.slice(e))}))}},i.duplicate=i.extend(h.identity),i.foldMapWithIndex=function(t){var i=X(t);return function(t){return function(e){return i(e,t)}}},i.reduce=function(t,e){return i.reduceWithIndex(t,(function(t,i,r){return e(i,r)}))},i.foldMap=function(t){var e=i.foldMapWithIndex(t);return function(t){return e((function(i,e){return t(e)}))}},i.reduceWithIndex=function(t,i){return function(e){return P(e,t,i)}},i.reduceRight=function(t,e){return i.reduceRightWithIndex(t,(function(t,i,r){return e(i,r)}))},i.reduceRightWithIndex=function(t,i){return function(e){return e.reduceRight((function(t,e,r){return i(r,e,t)}),t)}},i.traverse=function(t){var e=i.traverseWithIndex(t);return function(t){return e((function(i,e){return t(e)}))}},i.sequence=function(t){return function(e){return x(e,t.of(i.zero()),(function(i,e){return t.ap(t.map(i,(function(t){return function(i){return a(t,i)}})),e)}))}},i.traverseWithIndex=function(t){return function(e){return i.reduceWithIndex(t.of(i.zero()),(function(i,r,n){return t.ap(t.map(r,(function(t){return function(i){return a(t,i)}})),e(i,n))}))}},i.wither=function(t){var e=i.traverse(t);return function(r){return function(n){return t.map(h.pipe(n,e(r)),i.compact)}}},i.wilt=function(t){var e=i.traverse(t);return function(r){return function(n){return t.map(h.pipe(n,e(r)),i.separate)}}},i.unfold=function(t,i){for(var e=[],r=t;;){var n=i(r);if(!Ph.isSome(n))break;var s=n.value,o=s[1];e.push(s[0]),r=o}return e},i.URI="ReadonlyArray",i.Functor={URI:i.URI,map:O},i.FunctorWithIndex={URI:i.URI,map:O,mapWithIndex:m},i.Applicative={URI:i.URI,map:O,ap:p,of:i.of},i.Monad={URI:i.URI,map:O,ap:p,of:i.of,chain:g},i.Unfoldable={URI:i.URI,unfold:i.unfold},i.Alt={URI:i.URI,map:O,alt:y},i.Alternative={URI:i.URI,map:O,ap:p,of:i.of,alt:y,zero:i.zero},i.Extend={URI:i.URI,map:O,extend:j},i.Compactable={URI:i.URI,compact:i.compact,separate:i.separate},i.Filterable={URI:i.URI,map:O,compact:i.compact,separate:i.separate,filter:v,filterMap:w,partition:b,partitionMap:$},i.FilterableWithIndex={URI:i.URI,map:O,mapWithIndex:m,compact:i.compact,separate:i.separate,filter:v,filterMap:w,partition:b,partitionMap:$,partitionMapWithIndex:S,partitionWithIndex:Q,filterMapWithIndex:U,filterWithIndex:q},i.Foldable={URI:i.URI,reduce:x,foldMap:k,reduceRight:L},i.FoldableWithIndex={URI:i.URI,reduce:x,foldMap:k,reduceRight:L,reduceWithIndex:P,foldMapWithIndex:X,reduceRightWithIndex:R},i.Traversable={URI:i.URI,map:O,reduce:x,foldMap:k,reduceRight:L,traverse:M,sequence:i.sequence},i.TraversableWithIndex={URI:i.URI,map:O,mapWithIndex:m,reduce:x,foldMap:k,reduceRight:L,reduceWithIndex:P,foldMapWithIndex:X,reduceRightWithIndex:R,traverse:M,sequence:i.sequence,traverseWithIndex:T},i.Witherable={URI:i.URI,map:O,compact:i.compact,separate:i.separate,filter:v,filterMap:w,partition:b,partitionMap:$,reduce:x,foldMap:k,reduceRight:L,traverse:M,sequence:i.sequence,wither:_,wilt:E},i.readonlyArray={URI:i.URI,compact:i.compact,separate:i.separate,map:O,ap:p,of:i.of,chain:g,filter:v,filterMap:w,partition:b,partitionMap:$,mapWithIndex:m,partitionMapWithIndex:S,partitionWithIndex:Q,filterMapWithIndex:U,filterWithIndex:q,alt:y,zero:i.zero,unfold:i.unfold,reduce:x,foldMap:k,reduceRight:L,traverse:M,sequence:i.sequence,reduceWithIndex:P,foldMapWithIndex:X,reduceRightWithIndex:R,traverseWithIndex:T,extend:j,wither:_,wilt:E},i.unsafeInsertAt=W,i.unsafeUpdateAt=A,i.unsafeDeleteAt=V,i.empty=[],i.bindTo=function(t){return i.map(h.bindTo_(t))},i.bind=function(t,e){return i.chain((function(r){return h.pipe(e(r),i.map((function(i){return h.bind_(r,t,i)})))}))},i.apS=function(t,e){return h.flow(i.map((function(i){return function(e){return h.bind_(i,t,e)}})),i.ap(e))}})),qh=n((function(t,i){var e=s&&s.__createBinding||(Object.create?function(t,i,e,r){void 0===r&&(r=e),Object.defineProperty(t,r,{enumerable:!0,get:function(){return i[e]}})}:function(t,i,e,r){void 0===r&&(r=e),t[r]=i[e]}),r=s&&s.__setModuleDefault||(Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i}),n=s&&s.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&e(i,t,n);return r(i,t),i};Object.defineProperty(i,"__esModule",{value:!0}),i.apS=i.bind=i.bindTo=i.empty=i.unsafeDeleteAt=i.unsafeUpdateAt=i.unsafeInsertAt=i.array=i.Witherable=i.TraversableWithIndex=i.Traversable=i.FoldableWithIndex=i.Foldable=i.FilterableWithIndex=i.Filterable=i.Compactable=i.Extend=i.Alternative=i.Alt=i.Unfoldable=i.Monad=i.Applicative=i.FunctorWithIndex=i.Functor=i.URI=i.zero=i.unfold=i.wilt=i.wither=i.traverseWithIndex=i.sequence=i.traverse=i.reduceRightWithIndex=i.reduceRight=i.reduceWithIndex=i.reduce=i.foldMapWithIndex=i.foldMap=i.duplicate=i.extend=i.filterWithIndex=i.filterMapWithIndex=i.alt=i.partitionMapWithIndex=i.partitionMap=i.partitionWithIndex=i.partition=i.filterMap=i.filter=i.separate=i.compact=i.mapWithIndex=i.chainFirst=i.chainWithIndex=i.chain=i.apSecond=i.apFirst=i.ap=i.map=i.of=i.difference=i.intersection=i.union=i.comprehension=i.chunksOf=i.splitAt=i.chop=i.sortBy=i.uniq=i.elem=i.rotate=i.unzip=i.zip=i.zipWith=i.sort=i.lefts=i.rights=i.reverse=i.modifyAt=i.deleteAt=i.updateAt=i.insertAt=i.copy=i.findLastIndex=i.findLastMap=i.findLast=i.findFirstMap=i.findFirst=i.findIndex=i.dropLeftWhile=i.dropRight=i.dropLeft=i.spanLeft=i.takeLeftWhile=i.takeRight=i.takeLeft=i.init=i.tail=i.last=i.head=i.snoc=i.cons=i.lookup=i.isOutOfBound=i.isNonEmpty=i.isEmpty=i.scanRight=i.scanLeft=i.foldRight=i.foldLeft=i.flatten=i.replicate=i.range=i.makeBy=i.getOrd=i.getEq=i.getMonoid=i.getShow=void 0;var o=n(Uh);i.getShow=o.getShow,i.getMonoid=o.getMonoid,i.getEq=o.getEq,i.getOrd=o.getOrd,i.makeBy=o.makeBy,i.range=o.range,i.replicate=o.replicate,i.flatten=o.flatten,i.foldLeft=o.foldLeft,i.foldRight=o.foldRight,i.scanLeft=o.scanLeft,i.scanRight=o.scanRight,i.isEmpty=o.isEmpty,i.isNonEmpty=o.isNonEmpty,i.isOutOfBound=o.isOutOfBound,i.lookup=o.lookup,i.cons=o.cons,i.snoc=o.snoc,i.head=o.head,i.last=o.last,i.tail=o.tail,i.init=o.init,i.takeLeft=o.takeLeft,i.takeRight=o.takeRight,i.takeLeftWhile=function(t){return o.takeLeftWhile(t)},i.spanLeft=function(t){return o.spanLeft(t)},i.dropLeft=o.dropLeft,i.dropRight=o.dropRight,i.dropLeftWhile=o.dropLeftWhile,i.findIndex=o.findIndex,i.findFirst=function(t){return o.findFirst(t)},i.findFirstMap=o.findFirstMap,i.findLast=function(t){return o.findLast(t)},i.findLastMap=o.findLastMap,i.findLastIndex=o.findLastIndex,i.copy=o.toArray,i.insertAt=o.insertAt,i.updateAt=o.updateAt,i.deleteAt=o.deleteAt,i.modifyAt=o.modifyAt,i.reverse=o.reverse,i.rights=o.rights,i.lefts=o.lefts,i.sort=o.sort,i.zipWith=o.zipWith,i.zip=o.zip,i.unzip=o.unzip,i.rotate=o.rotate,i.elem=o.elem,i.uniq=o.uniq,i.sortBy=o.sortBy,i.chop=o.chop,i.splitAt=o.splitAt,i.chunksOf=o.chunksOf,i.comprehension=function(t,i,e){return void 0===e&&(e=function(){return!0}),o.comprehension(t,i,e)},i.union=o.union,i.intersection=o.intersection,i.difference=o.difference,i.of=o.of;var l=o.Monad.map,a=o.Monad.ap,h=o.Monad.chain,c=o.FunctorWithIndex.mapWithIndex,u=o.Filterable.filter,f=o.Filterable.filterMap,d=o.Filterable.partition,O=o.Filterable.partitionMap,m=o.FilterableWithIndex.filterWithIndex,p=o.FilterableWithIndex.filterMapWithIndex,g=o.FilterableWithIndex.partitionWithIndex,v=o.FilterableWithIndex.partitionMapWithIndex,w=o.Foldable.reduce,Q=o.Foldable.foldMap,b=o.Foldable.reduceRight,$=o.Traversable.traverse,S=o.Alternative.alt,y=o.FoldableWithIndex.reduceWithIndex,x=o.FoldableWithIndex.foldMapWithIndex,k=o.FoldableWithIndex.reduceRightWithIndex,L=o.TraversableWithIndex.traverseWithIndex,P=o.Extend.extend,X=o.Witherable.wither,R=o.Witherable.wilt;i.map=o.map,i.ap=o.ap,i.apFirst=o.apFirst,i.apSecond=o.apSecond,i.chain=o.chain,i.chainWithIndex=o.chainWithIndex,i.chainFirst=o.chainFirst,i.mapWithIndex=o.mapWithIndex,i.compact=o.compact,i.separate=o.separate,i.filter=o.filter,i.filterMap=o.filterMap,i.partition=o.partition,i.partitionWithIndex=o.partitionWithIndex,i.partitionMap=o.partitionMap,i.partitionMapWithIndex=o.partitionMapWithIndex,i.alt=o.alt,i.filterMapWithIndex=o.filterMapWithIndex,i.filterWithIndex=o.filterWithIndex,i.extend=o.extend,i.duplicate=o.duplicate,i.foldMap=o.foldMap,i.foldMapWithIndex=o.foldMapWithIndex,i.reduce=o.reduce,i.reduceWithIndex=o.reduceWithIndex,i.reduceRight=o.reduceRight,i.reduceRightWithIndex=o.reduceRightWithIndex,i.traverse=o.traverse,i.sequence=o.sequence,i.traverseWithIndex=o.traverseWithIndex,i.wither=o.wither,i.wilt=o.wilt,i.unfold=o.unfold,i.zero=o.Alternative.zero,i.URI="Array",i.Functor={URI:i.URI,map:l},i.FunctorWithIndex={URI:i.URI,map:l,mapWithIndex:c},i.Applicative={URI:i.URI,map:l,ap:a,of:i.of},i.Monad={URI:i.URI,map:l,ap:a,of:i.of,chain:h},i.Unfoldable={URI:i.URI,unfold:i.unfold},i.Alt={URI:i.URI,map:l,alt:S},i.Alternative={URI:i.URI,map:l,ap:a,of:i.of,alt:S,zero:i.zero},i.Extend={URI:i.URI,map:l,extend:P},i.Compactable={URI:i.URI,compact:i.compact,separate:i.separate},i.Filterable={URI:i.URI,map:l,compact:i.compact,separate:i.separate,filter:u,filterMap:f,partition:d,partitionMap:O},i.FilterableWithIndex={URI:i.URI,map:l,mapWithIndex:c,compact:i.compact,separate:i.separate,filter:u,filterMap:f,partition:d,partitionMap:O,partitionMapWithIndex:v,partitionWithIndex:g,filterMapWithIndex:p,filterWithIndex:m},i.Foldable={URI:i.URI,reduce:w,foldMap:Q,reduceRight:b},i.FoldableWithIndex={URI:i.URI,reduce:w,foldMap:Q,reduceRight:b,reduceWithIndex:y,foldMapWithIndex:x,reduceRightWithIndex:k},i.Traversable={URI:i.URI,map:l,reduce:w,foldMap:Q,reduceRight:b,traverse:$,sequence:i.sequence},i.TraversableWithIndex={URI:i.URI,map:l,mapWithIndex:c,reduce:w,foldMap:Q,reduceRight:b,reduceWithIndex:y,foldMapWithIndex:x,reduceRightWithIndex:k,traverse:$,sequence:i.sequence,traverseWithIndex:L},i.Witherable={URI:i.URI,map:l,compact:i.compact,separate:i.separate,filter:u,filterMap:f,partition:d,partitionMap:O,reduce:w,foldMap:Q,reduceRight:b,traverse:$,sequence:i.sequence,wither:X,wilt:R},i.array={URI:i.URI,compact:i.compact,separate:i.separate,map:l,ap:a,of:i.of,chain:h,filter:u,filterMap:f,partition:d,partitionMap:O,mapWithIndex:c,partitionMapWithIndex:v,partitionWithIndex:g,filterMapWithIndex:p,filterWithIndex:m,alt:S,zero:i.zero,unfold:i.unfold,reduce:w,foldMap:Q,reduceRight:b,traverse:$,sequence:i.sequence,reduceWithIndex:y,foldMapWithIndex:x,reduceRightWithIndex:k,traverseWithIndex:L,extend:P,wither:X,wilt:R},i.unsafeInsertAt=o.unsafeInsertAt,i.unsafeUpdateAt=o.unsafeUpdateAt,i.unsafeDeleteAt=o.unsafeDeleteAt,i.empty=[],i.bindTo=o.bindTo,i.bind=o.bind,i.apS=o.apS}));const jh=class{constructor(e){t(this,e),this.nodes=void 0,this.isEmpty=void 0===this.nodes||void 0!==this.nodes&&qh.isEmpty(this.nodes),this.checkIfEmpty=()=>{let t;if(void 0!==this.nodes)return t=qh.isEmpty(this.nodes),this.isEmpty=t,t;const i=this.el.querySelector("[slot=outputs]");return t=null===i||""===i.innerHTML.trim(),this.isEmpty=t,t},this.emptyOutputMessage="No output to show",this.renderNodes=t=>null==t?void 0:t.map((t=>this.renderNode(t))),this.renderNode=t=>{if(o(t)){const e="string"==typeof t||"number"==typeof t?t:JSON.stringify(t);return i("pre",null,i("output",null,e))}return l(t)?i("pre",null,i("output",null,t.text)):a("ImageObject",t)?i("stencila-image-object",{image:t}):a("Datatable",t)?i("stencila-data-table",{table:t}):JSON.stringify(t)}}componentDidLoad(){this.checkIfEmpty()}componentWillUpdate(){this.checkIfEmpty()}render(){return i(r,null,i("div",{class:{hidden:void 0!==this.nodes,slot:!0}},i("slot",{name:"outputs"})),this.isEmpty&&i("em",{class:"emptyContentMessage"},this.emptyOutputMessage),!this.isEmpty&&i("figure",null,this.renderNodes(this.nodes)),i("slot",null))}get el(){return e(this)}};jh.style={default:"*.sc-stencila-node-list-default,.sc-stencila-node-list-default:after,.sc-stencila-node-list-default:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-node-list-default{font-size:16px}.hidden.sc-stencila-node-list-default{display:none}code.sc-stencila-node-list-default,code[class*=language-].sc-stencila-node-list-default,output.sc-stencila-node-list-default{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:75%}pre.sc-stencila-node-list-default{border:1px solid #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-radius:.25rem;padding:.5rem;margin:.5rem;overflow:auto}.sc-stencila-node-list-default-h,stencila-node-list.sc-stencila-node-list-default{display:block}.sc-stencila-node-list-default-h .hidden.sc-stencila-node-list-default+.sc-stencila-node-list-default:nth-child(2),.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:first-child,stencila-node-list.sc-stencila-node-list-default .hidden.sc-stencila-node-list-default+.sc-stencila-node-list-default:nth-child(2),stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:last-child,stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:last-child{margin-bottom:0}.sc-stencila-node-list-default-h .hidden.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default .hidden.sc-stencila-node-list-default{display:none}.sc-stencila-node-list-default-h .emptyContentMessage.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default .emptyContentMessage.sc-stencila-node-list-default{color:#718096;color:var(--color-neutral-600,#718096)}.sc-stencila-node-list-default-h stencila-code-error.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default stencila-code-error.sc-stencila-node-list-default{border-width:0}.sc-stencila-node-list-default-h stencila-image-object.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default stencila-image-object.sc-stencila-node-list-default{display:block;height:auto;max-width:100%}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs],.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs],stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs],stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default{padding:0;margin:0;overflow:auto}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]:first-child,.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:first-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default:first-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]:first-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]:first-child,stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:first-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default:first-child{margin-top:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]:last-child,.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:last-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default:last-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]:last-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]:last-child,stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:last-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default:last-child{margin-bottom:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs] pre,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default pre.sc-stencila-node-list-default,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default pre.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs] pre,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs] pre,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default pre.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default pre.sc-stencila-node-list-default{padding:0;margin:0;border-width:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs] img,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default img.sc-stencila-node-list-default,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default img.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs] img,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs] img,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default img.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default img.sc-stencila-node-list-default{border-bottom-width:0;border-left-width:0;border-right-width:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption),.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption),.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption),stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption),stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption),stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption),stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption){padding-top:.75rem;margin-top:.75rem;margin-bottom:.75rem;border:0 dashed #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-top:1px dashed var(--color-neutral-300,#e2e8f0)}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):first-child,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):last-child,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child{margin-bottom:0}",material:"*.sc-stencila-node-list-material,.sc-stencila-node-list-material:after,.sc-stencila-node-list-material:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-node-list-material{font-size:16px}.hidden.sc-stencila-node-list-material{display:none}code.sc-stencila-node-list-material,code[class*=language-].sc-stencila-node-list-material,output.sc-stencila-node-list-material{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:75%}pre.sc-stencila-node-list-material{border:1px solid #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-radius:.25rem;padding:.5rem;margin:.5rem;overflow:auto}.sc-stencila-node-list-material-h,stencila-node-list.sc-stencila-node-list-material{display:block}.sc-stencila-node-list-material-h .hidden.sc-stencila-node-list-material+.sc-stencila-node-list-material:nth-child(2),.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:first-child,stencila-node-list.sc-stencila-node-list-material .hidden.sc-stencila-node-list-material+.sc-stencila-node-list-material:nth-child(2),stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:last-child,stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:last-child{margin-bottom:0}.sc-stencila-node-list-material-h .hidden.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material .hidden.sc-stencila-node-list-material{display:none}.sc-stencila-node-list-material-h .emptyContentMessage.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material .emptyContentMessage.sc-stencila-node-list-material{color:#718096;color:var(--color-neutral-600,#718096)}.sc-stencila-node-list-material-h stencila-code-error.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material stencila-code-error.sc-stencila-node-list-material{border-width:0}.sc-stencila-node-list-material-h stencila-image-object.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material stencila-image-object.sc-stencila-node-list-material{display:block;height:auto;max-width:100%}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs],.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs],stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs],stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material{padding:0;margin:0;overflow:auto}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]:first-child,.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:first-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material:first-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]:first-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]:first-child,stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:first-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material:first-child{margin-top:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]:last-child,.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:last-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material:last-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]:last-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]:last-child,stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:last-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material:last-child{margin-bottom:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs] pre,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material pre.sc-stencila-node-list-material,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material pre.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs] pre,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs] pre,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material pre.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material pre.sc-stencila-node-list-material{padding:0;margin:0;border-width:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs] img,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material img.sc-stencila-node-list-material,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material img.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs] img,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs] img,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material img.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material img.sc-stencila-node-list-material{border-bottom-width:0;border-left-width:0;border-right-width:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption),.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption),.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption),stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption),stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption),stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption),stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption){padding-top:.75rem;margin-top:.75rem;margin-bottom:.75rem;border:0 dashed #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-top:1px dashed var(--color-neutral-300,#e2e8f0)}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):first-child,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):last-child,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child{margin-bottom:0}"};export{c as stencila_action_menu,u as stencila_code_error,Lh as stencila_editor,jh as stencila_node_list}