var __extends=this&&this.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return t(e,r)};return function(e,r){t(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}();var __awaiter=this&&this.__awaiter||function(t,e,r,i){function n(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(e){o(e)}}function s(t){try{l(i["throw"](t))}catch(e){o(e)}}function l(t){t.done?r(t.value):n(t.value).then(a,s)}l((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return l([t,e])}}function l(a){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,n&&(o=a[0]&2?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;if(n=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;n=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s];n=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),n=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,n++)i[n]=o[a];return i};System.register(["./p-3c51b445.system.js","./p-1ba9f457.system.js","./p-8f5b68f0.system.js","./p-470d2955.system.js"],(function(t){"use strict";var e,r,i,n,o,a,s,l,c,u;return{setters:[function(t){e=t.r;r=t.h;i=t.a;n=t.H},function(t){o=t.c;a=t.a},function(t){s=t.z;l=t.U;c=t.N},function(t){u=t._}],execute:function(){var f;var h=".sc-stencila-action-menu-default-h{--background:var(--color-neutral-200,#edf2f7);--border:var(--color-neutral-300,#e2e8f0);position:absolute;top:0;right:0;z-index:10;padding:1px .25rem;font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.75rem;line-height:1;border-width:0 0 1px 1px;border-style:solid;border-bottom-left-radius:.25rem;background-color:var(--background);border-color:var(--border)}.sc-stencila-action-menu-default-h .hidden.sc-stencila-action-menu-default{display:none}.sc-stencila-action-menu-default-h nav.sc-stencila-action-menu-default>*.sc-stencila-action-menu-default{vertical-align:middle}.sc-stencila-action-menu-default-h ul.sc-stencila-action-menu-default{padding:0;margin:0;list-style-type:none}.sc-stencila-action-menu-default-h li.sc-stencila-action-menu-default{display:inline;padding-right:.25rem}.sc-stencila-action-menu-default-h li.sc-stencila-action-menu-default:last-child{padding-right:0}.sc-stencila-action-menu-default-h stencila-button.sc-stencila-action-menu-default{display:inline-block}.sc-stencila-action-menu-default-h .actionContainer.sc-stencila-action-menu-default{display:inline-block;overflow:hidden;white-space:nowrap;vertical-align:middle;width:var(--max-width);-webkit-transition:width .12s ease-in-out;transition:width .12s ease-in-out}.sc-stencila-action-menu-default-h .actionContainer.sc-stencila-action-menu-default:not(.isAnimating):not(.isCollapsed){width:auto}.sc-stencila-action-menu-default-h .secondaryActions.sc-stencila-action-menu-default:not(:hover):not(:focus) .actionContainer.isCollapsed.sc-stencila-action-menu-default{width:0}";var d=".sc-stencila-action-menu-material-h{--background:var(--color-neutral-200,#edf2f7);--border:var(--color-neutral-300,#e2e8f0);position:absolute;top:0;right:0;z-index:10;padding:1px .25rem;font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.75rem;line-height:1;border-width:0 0 1px 1px;border-style:solid;border-bottom-left-radius:.25rem;background-color:var(--background);border-color:var(--border)}.sc-stencila-action-menu-material-h .hidden.sc-stencila-action-menu-material{display:none}.sc-stencila-action-menu-material-h nav.sc-stencila-action-menu-material>*.sc-stencila-action-menu-material{vertical-align:middle}.sc-stencila-action-menu-material-h ul.sc-stencila-action-menu-material{padding:0;margin:0;list-style-type:none}.sc-stencila-action-menu-material-h li.sc-stencila-action-menu-material{display:inline;padding-right:.25rem}.sc-stencila-action-menu-material-h li.sc-stencila-action-menu-material:last-child{padding-right:0}.sc-stencila-action-menu-material-h stencila-button.sc-stencila-action-menu-material{display:inline-block}.sc-stencila-action-menu-material-h .actionContainer.sc-stencila-action-menu-material{display:inline-block;overflow:hidden;white-space:nowrap;vertical-align:middle;width:var(--max-width);-webkit-transition:width .12s ease-in-out;transition:width .12s ease-in-out}.sc-stencila-action-menu-material-h .actionContainer.sc-stencila-action-menu-material:not(.isAnimating):not(.isCollapsed){width:auto}.sc-stencila-action-menu-material-h .secondaryActions.sc-stencila-action-menu-material:not(:hover):not(:focus) .actionContainer.isCollapsed.sc-stencila-action-menu-material{width:0}";var p={default:"",persistentActions:"persistentActions"};var v=t("stencila_action_menu",function(){function t(t){var r=this;e(this,t);this.expandable=false;this.isCollapsed=false;this.toggleActionMenu=function(){return r.isCollapsed=!r.isCollapsed};this.width="auto";this.isAnimating=false;this.isTransitioning=false;this.calculateWidth=function(){if(r.actionContainerRef!==null&&r.isTransitioning===false){r.width="auto";var t=r.actionContainerRef.getBoundingClientRect().width;r.width=t+"px"}};this.observer=new window.MutationObserver(this.calculateWidth);this.checkForSecondaryActions=function(){var t;var e=((t=r.el.querySelector(".secondaryActions .actionContainer"))===null||t===void 0?void 0:t.innerHTML.trim())==="";r.hasSecondaryActions=e;return e}}t.prototype.componentDidLoad=function(){var t=this;this.checkForSecondaryActions();if(this.expandable){this.actionContainerRef=this.el.querySelector(".actionContainer");if(this.actionContainerRef!==null){this.actionContainerRef.addEventListener("transitionstart",(function(){return t.isTransitioning=true}));this.actionContainerRef.addEventListener("transitionend",(function(){return t.isTransitioning=false}));this.observer.observe(this.el,{characterData:true,subtree:true});this.calculateWidth();this.isCollapsed=true}}};t.prototype.disconnectedCallback=function(){this.observer.disconnect()};t.prototype.render=function(){return r("nav",null,r("span",{class:{secondaryActions:true,hidden:this.hasSecondaryActions}},r("span",{class:{actionContainer:true,isAnimating:this.isAnimating,isCollapsed:this.isCollapsed},style:{"--max-width":this.width}},r("slot",null)),r("stencila-button",{onClick:this.toggleActionMenu,icon:"more",color:"key",minimal:true,size:"xsmall",iconOnly:true,ariaLabel:"Toggle Action Menu"})),r("span",{class:"persistentActions"},r("slot",{name:p.persistentActions})))};Object.defineProperty(t.prototype,"el",{get:function(){return i(this)},enumerable:false,configurable:true});return t}());v.style={default:h,material:d};var g=".sc-stencila-code-error-default-h,stencila-code-error.sc-stencila-code-error-default{position:relative;display:block;width:100%;padding:.5rem;border-radius:.25rem;font-family:sans-serif;font-family:var(--font-family-body,sans-serif);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);background-color:#fffaf0;background-color:var(--color-warn-100,#fffaf0);color:#7b341e;color:var(--color-warn-900,#7b341e)}.sc-stencila-code-error-default-h .overview.sc-stencila-code-error-default *.sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default .overview.sc-stencila-code-error-default *.sc-stencila-code-error-default{vertical-align:middle}.sc-stencila-code-error-default-h .overview.sc-stencila-code-error-default stencila-icon.sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default .overview.sc-stencila-code-error-default stencila-icon.sc-stencila-code-error-default{margin-right:.5rem}.sc-stencila-code-error-default-h [slot=summary].sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default [slot=summary].sc-stencila-code-error-default{font-size:.75rem;letter-spacing:.05em;text-transform:uppercase}.sc-stencila-code-error-default-h stencila-details.sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default stencila-details.sc-stencila-code-error-default{display:block}.sc-stencila-code-error-default-h [slot=stacktrace].sc-stencila-code-error-default,stencila-code-error.sc-stencila-code-error-default [slot=stacktrace].sc-stencila-code-error-default{margin:0;background-color:#fff;background-color:var(--color-stock,#fff);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);color:#000;color:var(--color-key,#000)}[kind=error].sc-stencila-code-error-default-h,[kind=incapable].sc-stencila-code-error-default-h,stencila-code-error[kind=error].sc-stencila-code-error-default,stencila-code-error[kind=incapable].sc-stencila-code-error-default{border-color:#f56565;border-color:var(--color-danger-500,#f56565);background-color:#fff5f5;background-color:var(--color-danger-100,#fff5f5);color:#742a2a;color:var(--color-danger-900,#742a2a)}[kind=error].sc-stencila-code-error-default-h [slot=stacktrace].sc-stencila-code-error-default,[kind=incapable].sc-stencila-code-error-default-h [slot=stacktrace].sc-stencila-code-error-default,stencila-code-error[kind=error].sc-stencila-code-error-default [slot=stacktrace].sc-stencila-code-error-default,stencila-code-error[kind=incapable].sc-stencila-code-error-default [slot=stacktrace].sc-stencila-code-error-default{border-color:#f56565;border-color:var(--color-danger-500,#f56565)}";var m=".sc-stencila-code-error-material-h,stencila-code-error.sc-stencila-code-error-material{position:relative;display:block;width:100%;padding:.5rem;border-radius:.25rem;font-family:sans-serif;font-family:var(--font-family-body,sans-serif);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);background-color:#fffaf0;background-color:var(--color-warn-100,#fffaf0);color:#7b341e;color:var(--color-warn-900,#7b341e)}.sc-stencila-code-error-material-h .overview.sc-stencila-code-error-material *.sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material .overview.sc-stencila-code-error-material *.sc-stencila-code-error-material{vertical-align:middle}.sc-stencila-code-error-material-h .overview.sc-stencila-code-error-material stencila-icon.sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material .overview.sc-stencila-code-error-material stencila-icon.sc-stencila-code-error-material{margin-right:.5rem}.sc-stencila-code-error-material-h [slot=summary].sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material [slot=summary].sc-stencila-code-error-material{font-size:.75rem;letter-spacing:.05em;text-transform:uppercase}.sc-stencila-code-error-material-h stencila-details.sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material stencila-details.sc-stencila-code-error-material{display:block}.sc-stencila-code-error-material-h [slot=stacktrace].sc-stencila-code-error-material,stencila-code-error.sc-stencila-code-error-material [slot=stacktrace].sc-stencila-code-error-material{margin:0;background-color:#fff;background-color:var(--color-stock,#fff);border-color:#ed8936;border-color:var(--color-warn-500,#ed8936);color:#000;color:var(--color-key,#000)}[kind=error].sc-stencila-code-error-material-h,[kind=incapable].sc-stencila-code-error-material-h,stencila-code-error[kind=error].sc-stencila-code-error-material,stencila-code-error[kind=incapable].sc-stencila-code-error-material{border-color:#f56565;border-color:var(--color-danger-500,#f56565);background-color:#fff5f5;background-color:var(--color-danger-100,#fff5f5);color:#742a2a;color:var(--color-danger-900,#742a2a)}[kind=error].sc-stencila-code-error-material-h [slot=stacktrace].sc-stencila-code-error-material,[kind=incapable].sc-stencila-code-error-material-h [slot=stacktrace].sc-stencila-code-error-material,stencila-code-error[kind=error].sc-stencila-code-error-material [slot=stacktrace].sc-stencila-code-error-material,stencila-code-error[kind=incapable].sc-stencila-code-error-material [slot=stacktrace].sc-stencila-code-error-material{border-color:#f56565;border-color:var(--color-danger-500,#f56565)}";var O=t("stencila_code_error",function(){function t(t){e(this,t);this.open=false;this.kind="warning"}t.prototype.render=function(){return r(n,{kind:this.kind},r("div",{class:"overview"},r("stencila-icon",{icon:"alert"}),r("slot",null)),this.hasStacktrace&&r("stencila-details",null,r("span",{slot:"summary"},"View the stacktrace"),r("slot",{name:"stacktrace"})))};return t}());O.style={default:g,material:m};var y="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(t){return t?parseInt(t,36):1}));for(var b=1;b<y.length;b++)y[b]+=y[b-1];function w(t){for(var e=1;e<y.length;e+=2)if(y[e]>t)return y[e-1]<=t;return false}function x(t){return t>=127462&&t<=127487}var S=8205;function k(t,e){if(e==t.length)return e;if(e&&P(t.charCodeAt(e))&&L(t.charCodeAt(e-1)))e--;var r=$(t,e);e+=A(r);while(e<t.length){var i=$(t,e);if(r==S||i==S||w(i)){e+=A(i);r=i}else if(x(i)){var n=0,o=e-2;while(o>=0&&x($(t,o))){n++;o-=2}if(n%2==0)break;else e+=2}else{break}}return e}function Q(t,e){while(e>0){var r=k(t,e-2);if(r<e)return r;e--}return 0}function P(t){return t>=56320&&t<57344}function L(t){return t>=55296&&t<56320}function $(t,e){var r=t.charCodeAt(e);if(!L(r)||e+1==t.length)return r;var i=t.charCodeAt(e+1);if(!P(i))return r;return(r-55296<<10)+(i-56320)+65536}function R(t){if(t<=65535)return String.fromCharCode(t);t-=65536;return String.fromCharCode((t>>10)+55296,(t&1023)+56320)}function A(t){return t<65536?1:2}function T(t,e,r){for(var i=0;i<t.length;){if(t.charCodeAt(i)==9){e+=r-e%r;i++}else{e++;i=k(t,i)}}return e}function C(t,e,r,i){for(var n=0;n<t.length;){if(e>=r)return{offset:n,leftOver:0};e+=t.charCodeAt(n)==9?i-e%i:1;n=k(t,n)}return{offset:t.length,leftOver:r-e}}var M=function(){function t(){}t.prototype.lineAt=function(t){if(t<0||t>this.length)throw new RangeError("Invalid position "+t+" in document of length "+this.length);for(var e=0,r=U;e<r.length;e++){var i=r[e];if(i.doc==this&&i.from<=t&&i.to>=t)return i}return X(this.lineInner(t,false,1,0).finish(this))};t.prototype.line=function(t){if(t<1||t>this.lines)throw new RangeError("Invalid line number "+t+" in "+this.lines+"-line document");for(var e=0,r=U;e<r.length;e++){var i=r[e];if(i.doc==this&&i.number==t)return i}return X(this.lineInner(t,true,1,0).finish(this))};t.prototype.replace=function(t,e,r){var i=[];this.decompose(0,t,i);i.push(r);this.decompose(e,this.length,i);return j.from(i,this.length-(e-t)+r.length)};t.prototype.append=function(t){return this.length==0?t:t.length==0?this:j.from([this,t],this.length+t.length)};t.prototype.slice=function(t,e){if(e===void 0){e=this.length}var r=[];this.decompose(t,e,r);return j.from(r,e-t)};t.prototype.eq=function(t){return this==t||V(this,t)};t.prototype.iter=function(t){if(t===void 0){t=1}return new B(this,t)};t.prototype.iterRange=function(t,e){if(e===void 0){e=this.length}return new z(this,t,e)};t.prototype.iterLines=function(t){if(t===void 0){t=0}return new N(this,t)};t.prototype.toString=function(){return this.sliceString(0)};t.prototype.toJSON=function(){var t=[];for(var e=this.iterLines();!e.next().done;)t.push(e.value);return t};t.of=function(e){if(e.length==0)throw new RangeError("A document must have at least one line");if(e.length==1&&!e[0]&&t.empty)return t.empty;var r=W(e);return r<1024?new E(e,r):j.from(E.split(e,[]),r)};return t}();if(typeof Symbol!="undefined")M.prototype[Symbol.iterator]=function(){return this.iter()};var U=[],I=-1,q=10;function X(t){return U[I=(I+1)%q]=t}var E=function(t){mf(e,t);function e(e,r){if(r===void 0){r=W(e)}var i=t.call(this)||this;i.text=e;i.length=r;return i}Object.defineProperty(e.prototype,"lines",{get:function(){return this.text.length},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"children",{get:function(){return null},enumerable:false,configurable:true});e.prototype.lineInner=function(t,e,r,i){for(var n=0;;n++){var o=this.text[n],a=i+o.length;if((e?r:a)>=t)return new F(i,a,r,o);i=a+1;r++}};e.prototype.decompose=function(t,r,i){i.push(new e(_(this.text,t,r),Math.min(r,this.length)-Math.max(0,t)))};e.prototype.lastLineLength=function(){return this.text[this.text.length-1].length};e.prototype.firstLineLength=function(){return this.text[0].length};e.prototype.replace=function(r,i,n){var o=this.length+n.length-(i-r);if(o>=1024||!(n instanceof e))return t.prototype.replace.call(this,r,i,n);return new e(D(this.text,D(n.text,_(this.text,0,r)),i),o)};e.prototype.sliceString=function(t,e,r){if(e===void 0){e=this.length}if(r===void 0){r="\n"}var i="";for(var n=0,o=0;n<=e&&o<this.text.length;o++){var a=this.text[o],s=n+a.length;if(n>t&&o)i+=r;if(t<s&&e>n)i+=a.slice(Math.max(0,t-n),e-n);n=s+1}return i};e.prototype.flatten=function(t){t[t.length-1]+=this.text[0];for(var e=1;e<this.text.length;e++)t.push(this.text[e])};e.split=function(t,r){var i=[],n=-1;for(var o=0,a=t;o<a.length;o++){var s=a[o];for(;;){var l=n+s.length+1;if(l<512){n=l;i.push(s);break}var c=512-n-1,u=s.charCodeAt(c);if(u>=56320&&u<57344)c++;i.push(s.slice(0,c));r.push(new e(i,512));s=s.slice(c);n=-1;i=[]}}if(n!=-1)r.push(new e(i,n));return r};return e}(M);var j=function(t){mf(e,t);function e(e,r){var i=t.call(this)||this;i.children=e;i.length=r;i.lines=1;for(var n=0,o=e;n<o.length;n++){var a=o[n];i.lines+=a.lines-1}return i}e.prototype.lineInner=function(t,e,r,i){for(var n=0;;n++){var o=this.children[n],a=i+o.length,s=r+o.lines-1;if((e?s:a)>=t){var l=o.lineInner(t,e,r,i),c=void 0;if(l.from==i&&(c=this.lineLengthTo(n))){l.from-=c;l.content=null}if(l.to==a&&(c=this.lineLengthFrom(n+1))){l.to+=c;l.content=null}return l}i=a;r=s}};e.prototype.decompose=function(t,e,r){for(var i=0,n=0;n<e&&i<this.children.length;i++){var o=this.children[i],a=n+o.length;if(t<a&&e>n){if(n>=t&&a<=e)r.push(o);else o.decompose(t-n,e-n,r)}n=a}};e.prototype.lineLengthTo=function(t){var e=0;for(var r=t-1;r>=0;r--){var i=this.children[r];if(i.lines>1)return e+i.lastLineLength();e+=i.length}return e};e.prototype.lastLineLength=function(){return this.lineLengthTo(this.children.length)};e.prototype.lineLengthFrom=function(t){var e=0;for(var r=t;r<this.children.length;r++){var i=this.children[r];if(i.lines>1)return e+i.firstLineLength();e+=i.length}return e};e.prototype.firstLineLength=function(){return this.lineLengthFrom(0)};e.prototype.replace=function(r,i,n){if(n.length<512&&i-r<512){var o=n.length-(i-r);for(var a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.length;if(r>=s&&i<=c&&l.length+o<this.length+o>>3-1&&l.length+o>0){var u=this.children.slice();u[a]=l.replace(r-s,i-s,n);return new e(u,this.length+o)}s=c}}return t.prototype.replace.call(this,r,i,n)};e.prototype.sliceString=function(t,e,r){if(e===void 0){e=this.length}if(r===void 0){r="\n"}var i="";for(var n=0,o=0;o<e&&n<this.children.length;n++){var a=this.children[n],s=o+a.length;if(t<s&&e>o){var l=a.sliceString(t-o,e-o,r);if(t>=o&&e<=s)return l;i+=l}o=s}return i};e.prototype.flatten=function(t){for(var e=0,r=this.children;e<r.length;e++){var i=r[e];i.flatten(t)}};e.from=function(t,r){if(!t.every((function(t){return t instanceof M})))throw new Error("NOP");if(r<1024){var i=[""];for(var n=0,o=t;n<o.length;n++){var a=o[n];a.flatten(i)}return new E(i,r)}var s=Math.max(512,r>>3),l=s<<1,c=s>>1;var u=[],f=0,h=[];function d(t){var r=t.length,i;if(!r)return;if(r>l&&t instanceof e){for(var n=0,o=t.children;n<o.length;n++){var a=o[n];d(a)}}else if(r>c&&(f>c||f==0)){p();u.push(t)}else if(t instanceof E&&f>0&&(i=h[h.length-1])instanceof E&&t.length+i.length<=512){f+=r;h[h.length-1]=new E(D(t.text,i.text.slice()),t.length+i.length)}else{if(f+r>s)p();f+=r;h.push(t)}}function p(){if(f==0)return;u.push(h.length==1?h[0]:e.from(h,f));f=0;h.length=0}for(var v=0,g=t;v<g.length;v++){var a=g[v];d(a)}p();return u.length==1?u[0]:new e(u,r)};return e}(M);M.empty=M.of([""]);function W(t){var e=-1;for(var r=0,i=t;r<i.length;r++){var n=i[r];e+=n.length+1}return e}function D(t,e,r,i){if(r===void 0){r=0}if(i===void 0){i=1e9}for(var n=0,o=0,a=true;o<t.length&&n<=i;o++){var s=t[o],l=n+s.length;if(l>=r){if(l>i)s=s.slice(0,i-n);if(n<r)s=s.slice(r-n);if(a){e[e.length-1]+=s;a=false}else e.push(s)}n=l+1}return e}function _(t,e,r){return D(t,[""],e,r)}function V(t,e){if(t.length!=e.length||t.lines!=e.lines)return false;var r=new B(t),i=new B(e);for(var n=0,o=0;;){if(r.lineBreak!=i.lineBreak||r.done!=i.done){return false}else if(r.done){return true}else if(r.lineBreak){r.next();i.next();n=o=0}else{var a=r.value.slice(n),s=i.value.slice(o);if(a.length==s.length){if(a!=s)return false;r.next();i.next();n=o=0}else if(a.length>s.length){if(a.slice(0,s.length)!=s)return false;n+=s.length;i.next();o=0}else{if(s.slice(0,a.length)!=a)return false;o+=a.length;r.next();n=0}}}}var B=function(){function t(t,e){if(e===void 0){e=1}this.dir=e;this.done=false;this.lineBreak=false;this.value="";this.nodes=[t];this.offsets=[e>0?0:t instanceof E?t.text.length:t.children.length]}t.prototype.next=function(t){if(t===void 0){t=0}for(;;){var e=this.nodes.length-1;if(e<0){this.done=true;this.value="";this.lineBreak=false;return this}var r=this.nodes[e];var i=this.offsets[e];if(r instanceof E){if(i!=(this.dir>0?0:r.text.length)&&!this.lineBreak){this.lineBreak=true;if(t==0){this.value="\n";return this}t--;continue}var n=r.text[i-(this.dir<0?1:0)];this.offsets[e]=i+=this.dir;if(i==(this.dir>0?r.text.length:0)){this.nodes.pop();this.offsets.pop()}this.lineBreak=false;if(n.length>Math.max(0,t)){this.value=t==0?n:this.dir>0?n.slice(t):n.slice(0,n.length-t);return this}t-=n.length}else if(i==(this.dir>0?r.children.length:0)){this.nodes.pop();this.offsets.pop()}else{var n=r.children[this.dir>0?i:i-1],o=n.length;this.offsets[e]=i+this.dir;if(t>o){t-=o}else{this.nodes.push(n);this.offsets.push(this.dir>0?0:n instanceof E?n.text.length:n.children.length)}}}};return t}();var z=function(){function t(t,e,r){this.value="";this.cursor=new B(t,e>r?-1:1);if(e>r){this.skip=t.length-e;this.limit=e-r}else{this.skip=e;this.limit=r-e}}t.prototype.next=function(){if(this.limit<=0){this.limit=-1}else{var t=this.cursor.next(this.skip),e=t.value,r=t.lineBreak,i=t.done;this.skip=0;this.value=e;var n=r?1:e.length;if(n>this.limit)this.value=this.cursor.dir>0?e.slice(0,this.limit):e.slice(n-this.limit);if(i||this.value.length==0)this.limit=-1;else this.limit-=this.value.length}return this};Object.defineProperty(t.prototype,"lineBreak",{get:function(){return this.cursor.lineBreak},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"done",{get:function(){return this.limit<0},enumerable:false,configurable:true});return t}();var N=function(){function t(t,e){if(e===void 0){e=0}this.value="";this.done=false;this.cursor=t.iter();this.skip=e}t.prototype.next=function(){if(this.cursor.done){this.done=true;this.value="";return this}for(this.value="";;){var t=this.cursor.next(this.skip),e=t.value,r=t.lineBreak,i=t.done;this.skip=0;if(i||r)return this;this.value+=e}};Object.defineProperty(t.prototype,"lineBreak",{get:function(){return false},enumerable:false,configurable:true});return t}();var F=function(){function t(t,e,r,i){this.from=t;this.to=e;this.number=r;this.content=i}Object.defineProperty(t.prototype,"length",{get:function(){return this.to-this.from},enumerable:false,configurable:true});t.prototype.slice=function(t,e){if(t===void 0){t=0}if(e===void 0){e=this.length}if(t==e)return"";if(typeof this.content=="string")return this.content.slice(t,e);if(!this.content)this.content=new G(this.doc,this.from);var r=this.content.slice(t,e);if(t==0&&e==this.length)this.content=r;return r};t.prototype.finish=function(t){this.doc=t;return this};t.prototype.findClusterBreak=function(t,e){if(t<0||t>this.length)throw new RangeError("Invalid position given to Line.findClusterBreak");var r,i;if(this.content=="string"){r=this.from;i=this.content}else{r=Math.max(0,t-256);i=this.slice(r,Math.min(this.length,r+512))}return(e?k:Q)(i,t-r)+r};return t}();var G=function(){function t(t,e){this.doc=t;this.start=e;this.cursor=null;this.strings=null}t.prototype.slice=function(t,e){if(!this.cursor){this.cursor=this.doc.iter();this.strings=[this.cursor.next(this.start).value]}for(var r="",i=0,n=0;;n++){if(n==this.strings.length){var o=this.cursor.next().value;if(!o)return r;this.strings.push(o)}var a=this.strings[n],s=i;i+=a.length;if(i<=t)continue;r+=a.slice(Math.max(0,t-s),Math.min(a.length,e-s));if(i>=e)return r}};return t}();var Y=1024;var H=0;var Z=new WeakMap;var K=function(){function t(t){var e=(t===void 0?{}:t).deserialize;this.id=H++;this.deserialize=e||function(){throw new Error("This node type doesn't define a deserialize function")}}t.string=function(){return new t({deserialize:function(t){return t}})};t.number=function(){return new t({deserialize:Number})};t.flag=function(){return new t({deserialize:function(){return true}})};t.prototype.set=function(t,e){t[this.id]=e;return t};t.prototype.add=function(t){return new J(this,typeof t=="function"?t:tt.match(t))};t.closedBy=new t({deserialize:function(t){return t.split(" ")}});t.openedBy=new t({deserialize:function(t){return t.split(" ")}});t.group=new t({deserialize:function(t){return t.split(" ")}});return t}();var J=function(){function t(t,e){this.prop=t;this.f=e}return t}();var tt=function(){function t(t,e,r,i){if(i===void 0){i=0}this.name=t;this.props=e;this.id=r;this.flags=i}t.prototype.prop=function(t){return this.props[t.id]};Object.defineProperty(t.prototype,"isTop",{get:function(){return(this.flags&1)>0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isSkipped",{get:function(){return(this.flags&2)>0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isError",{get:function(){return(this.flags&4)>0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isRepeated",{get:function(){return(this.flags&8)>0},enumerable:true,configurable:true});t.prototype.is=function(t){if(this.name==t)return true;var e=this.prop(K.group);return e?e.indexOf(t)>-1:false};t.match=function(t){var e=Object.create(null);for(var r in t)for(var i=0,n=r.split(" ");i<n.length;i++){var o=n[i];e[o]=t[r]}return function(t){for(var r=t.prop(K.group),i=-1;i<(r?r.length:0);i++){var n=e[i<0?t.name:r[i]];if(n)return n}}};t.none=new t("",Object.create(null),0);return t}();var et=function(){function t(t){this.types=t;for(var e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node group")}t.prototype.extend=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var i=[];for(var n=0,o=this.types;n<o.length;n++){var a=o[n];var s=null;for(var l=0,c=e;l<c.length;l++){var u=c[l];var f=u.f(a);if(f!==undefined){if(!s){s=Object.create(null);for(var h in a.props)s[h]=a.props[h]}s[u.prop.id]=f}}i.push(s?new tt(a.name,s,a.id,a.flags):a)}return new t(i)};return t}();var rt=function(){function t(t,e,r,i){this.type=t;this.children=e;this.positions=r;this.length=i}t.prototype.toString=function(){var t=this.children.map((function(t){return t.toString()})).join();return!this.type.name?t:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":"")};t.prototype.partial=function(e,r,i,n,o){for(var a=0;a<this.children.length;a++){var s=this.positions[a];if(s>r)break;var l=this.children[a],c=s+l.length;if(c<e)continue;if(e<=s&&r>=c){n.push(l);o.push(s+i)}else if(l instanceof t){l.partial(e-s,r-s,i+s,n,o)}}};t.prototype.applyChanges=function(e){if(e.length==0)return this;var r=[],i=[];function n(t,e,r){var i=t.cursor(e,-r);for(;;){if(!i.enter(r,e))for(;;){if((r<0?i.to<=e:i.from>=e)&&!i.type.isError)return r<0?Math.min(e,i.to-1):Math.max(e,i.from+1);if(i.sibling(r))break;if(!i.parent())return r<0?0:t.length}}}var o=0;for(var a=0,s=0;;a++){var l=a==e.length?null:e[a];var c=l?n(this,l.fromA,-1):this.length;if(c>s)this.partial(s,c,o,r,i);if(!l)break;s=n(this,l.toA,1);o+=l.toB-l.fromB-(l.toA-l.fromA)}return new t(tt.none,r,i,this.length+o)};t.prototype.cut=function(e){if(e>=this.length)return this;var r=[],i=[];for(var n=0;n<this.children.length;n++){var o=this.positions[n];if(o>=e)break;var a=this.children[n],s=o+a.length;r.push(s<=e?a:a.cut(e-o));i.push(o)}return new t(this.type,r,i,e)};t.prototype.cursor=function(t,e){if(e===void 0){e=0}var r=t!=null&&Z.get(this)||this.topNode;var i=new lt(r);if(t!=null){i.moveTo(t,e);Z.set(this,i.tree)}return i};Object.defineProperty(t.prototype,"topNode",{get:function(){return new nt(this,0,0,null)},enumerable:true,configurable:true});t.prototype.resolve=function(t,e){if(e===void 0){e=0}return this.cursor(t,e).node};t.prototype.iterate=function(t){var e=t.enter,r=t.leave,i=t.from,n=i===void 0?0:i,o=t.to,a=o===void 0?this.length:o;for(var s=this.cursor();;){var l=false;if(s.from<=a&&s.to>=n&&(s.type.isRepeated||e(s.type,s.from,s.to)!==false)){if(s.firstChild())continue;l=true}for(;;){if(l&&r)r(s.type,s.from,s.to);if(s.nextSibling())break;if(!s.parent())return;l=true}}};t.prototype.append=function(e){if(!e.children.length)return this;if(e.positions[0]<this.length)throw new Error("Can't append overlapping trees");return new t(this.type,this.children.concat(e.children),this.positions.concat(e.positions),e.length)};t.prototype.balance=function(t){if(t===void 0){t=Y}return this.children.length<=ft?this:dt(this.type,tt.none,this.children,this.positions,0,this.children.length,0,t,this.length)};t.build=function(t){return ht(t)};t.empty=new t(tt.none,[],[],0);return t}();var it=function(){function t(t,e,r,i){if(i===void 0){i=tt.none}this.buffer=t;this.length=e;this.group=r;this.type=i}t.prototype.toString=function(){var t=[];for(var e=0;e<this.buffer.length;){t.push(this.childString(e));e=this.buffer[e+3]}return t.join(",")};t.prototype.childString=function(t){var e=this.buffer[t],r=this.buffer[t+3];var i=this.group.types[e],n=i.name;if(/\W/.test(n)&&!i.isError)n=JSON.stringify(n);t+=4;if(r==t)return n;var o=[];while(t<r){o.push(this.childString(t));t=this.buffer[t+3]}return n+"("+o.join(",")+")"};t.prototype.cut=function(e){var r=0;while(r<this.buffer.length&&this.buffer[r+1]<e)r+=4;var i=new Uint16Array(r);for(var n=0;n<r;n+=4){i[n]=this.buffer[n];i[n+1]=this.buffer[n+1];i[n+2]=Math.min(e,this.buffer[n+2]);i[n+3]=Math.min(this.buffer[n+3],r)}return new t(i,Math.min(e,this.length),this.group)};t.prototype.findChild=function(t,e,r,i){var n=this.buffer,o=-1;for(var a=t;a!=e;a=n[a+3]){if(i!=-1e8){var s=n[a+1],l=n[a+2];if(r>0){if(l>i)o=a;if(l>i)break}else{if(s<i)o=a;if(l>=i)break}}else{o=a;if(r>0)break}}return o};return t}();var nt=function(){function t(t,e,r,i){this.node=t;this.from=e;this.index=r;this._parent=i}Object.defineProperty(t.prototype,"type",{get:function(){return this.node.type},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"name",{get:function(){return this.node.type.name},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"to",{get:function(){return this.from+this.node.length},enumerable:true,configurable:true});t.prototype.nextChild=function(e,r,i){for(var n=this;;){for(var o=n.node,a=o.children,s=o.positions,l=r>0?a.length:-1;e!=l;e+=r){var c=a[e],u=s[e]+n.from;if(i!=-1e8&&(r<0?u>=i:u+c.length<=i))continue;if(c instanceof it){var f=c.findChild(0,c.buffer.length,r,i==-1e8?-1e8:i-u);if(f>-1)return new st(new at(n,c,e,u),null,f)}else if(!c.type.isRepeated||ct(c)){var h=new t(c,u,e,n);return!h.type.isRepeated?h:h.nextChild(r<0?c.children.length-1:0,r,i)}}if(!n.type.isRepeated)return null;e=n.index+r;n=n._parent}};Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.nextChild(0,1,-1e8)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.nextChild(this.node.children.length-1,-1,-1e8)},enumerable:true,configurable:true});t.prototype.childAfter=function(t){return this.nextChild(0,1,t)};t.prototype.childBefore=function(t){return this.nextChild(this.node.children.length-1,-1,t)};t.prototype.nextSignificant=function(){var t=this;while(t.type.isRepeated)t=t._parent;return t};Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent?this._parent.nextSignificant():null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this._parent?this._parent.nextChild(this.index+1,1,-1):null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"prevSibling",{get:function(){return this._parent?this._parent.nextChild(this.index-1,-1,-1):null},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"cursor",{get:function(){return new lt(this)},enumerable:true,configurable:true});t.prototype.resolve=function(t,e){if(e===void 0){e=0}return this.cursor.moveTo(t,e).node};t.prototype.getChild=function(t,e,r){if(e===void 0){e=null}if(r===void 0){r=null}var i=ot(this,t,e,r);return i.length?i[0]:null};t.prototype.getChildren=function(t,e,r){if(e===void 0){e=null}if(r===void 0){r=null}return ot(this,t,e,r)};t.prototype.toString=function(){return this.node.toString()};return t}();function ot(t,e,r,i){var n=t.cursor,o=[];if(!n.firstChild())return o;if(r!=null)while(!n.type.is(r))if(!n.nextSibling())return o;for(;;){if(i!=null&&n.type.is(i))return o;if(n.type.is(e))o.push(n.node);if(!n.nextSibling())return i==null?o:[]}}var at=function(){function t(t,e,r,i){this.parent=t;this.buffer=e;this.index=r;this.start=i}return t}();var st=function(){function t(t,e,r){this.context=t;this._parent=e;this.index=r;this.type=t.buffer.group.types[t.buffer.buffer[r]]}Object.defineProperty(t.prototype,"name",{get:function(){return this.type.name},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"from",{get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"to",{get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]},enumerable:true,configurable:true});t.prototype.child=function(e,r){var i=this.context.buffer;var n=i.findChild(this.index+4,i.buffer[this.index+3],e,r==-1e8?-1e8:r-this.context.start);return n<0?null:new t(this.context,this,n)};Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.child(1,-1e8)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.child(-1,-1e8)},enumerable:true,configurable:true});t.prototype.childAfter=function(t){return this.child(1,t)};t.prototype.childBefore=function(t){return this.child(-1,t)};Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent||this.context.parent.nextSignificant()},enumerable:true,configurable:true});t.prototype.externalSibling=function(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,-1)};Object.defineProperty(t.prototype,"nextSibling",{get:function(){var e=this.context.buffer;var r=e.buffer[this.index+3];if(r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length))return new t(this.context,this._parent,r);return this.externalSibling(1)},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"prevSibling",{get:function(){var e=this.context.buffer;var r=this._parent?this._parent.index+4:0;if(this.index==r)return this.externalSibling(-1);return new t(this.context,this._parent,e.findChild(r,this.index,-1,-1))},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"cursor",{get:function(){return new lt(this)},enumerable:true,configurable:true});t.prototype.resolve=function(t,e){if(e===void 0){e=0}return this.cursor.moveTo(t,e).node};t.prototype.toString=function(){return this.context.buffer.childString(this.index)};t.prototype.getChild=function(t,e,r){if(e===void 0){e=null}if(r===void 0){r=null}var i=ot(this,t,e,r);return i.length?i[0]:null};t.prototype.getChildren=function(t,e,r){if(e===void 0){e=null}if(r===void 0){r=null}return ot(this,t,e,r)};return t}();var lt=function(){function t(t){this.buffer=null;this.stack=[];this.index=0;this.bufferNode=null;if(t instanceof nt){this.yieldNode(t)}else{this.tree=t.context.parent;this.buffer=t.context;for(var e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t;this.yieldBuf(t.index)}}Object.defineProperty(t.prototype,"name",{get:function(){return this.type.name},enumerable:true,configurable:true});t.prototype.yieldNode=function(t){if(!t)return false;this.tree=t;this.type=t.type;this.from=t.from;this.to=t.to;return true};t.prototype.yieldBuf=function(t,e){this.index=t;var r=this.buffer,i=r.start,n=r.buffer;this.type=e||n.group.types[n.buffer[t]];this.from=i+n.buffer[t+1];this.to=i+n.buffer[t+2];return true};t.prototype.yield=function(t){if(!t)return false;if(t instanceof nt){this.buffer=null;return this.yieldNode(t)}this.buffer=t.context;return this.yieldBuf(t.index,t.type)};t.prototype.toString=function(){return this.buffer?this.buffer.buffer.childString(this.index):this.tree.toString()};t.prototype.enter=function(t,e){if(!this.buffer)return this.yield(this.tree.nextChild(t<0?this.tree.node.children.length-1:0,t,e));var r=this.buffer.buffer;var i=r.findChild(this.index+4,r.buffer[this.index+3],t,e==-1e8?-1e8:e-this.buffer.start);if(i<0)return false;this.stack.push(this.index);return this.yieldBuf(i)};t.prototype.firstChild=function(){return this.enter(1,-1e8)};t.prototype.lastChild=function(){return this.enter(-1,-1e8)};t.prototype.childAfter=function(t){return this.enter(1,t)};t.prototype.childBefore=function(t){return this.enter(-1,t)};t.prototype.parent=function(){if(!this.buffer)return this.yieldNode(this.tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var t=this.buffer.parent.nextSignificant();this.buffer=null;return this.yieldNode(t)};t.prototype.sibling=function(t){if(!this.buffer)return this.tree._parent?this.yield(this.tree._parent.nextChild(this.tree.index+t,t,-1e8)):false;var e=this.buffer.buffer,r=this.stack.length-1;if(t<0){var i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(e.findChild(i,this.index,-1,-1e8))}else{var n=e.buffer[this.index+3];if(n<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(n)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,-1e8)):false};t.prototype.nextSibling=function(){return this.sibling(1)};t.prototype.prevSibling=function(){return this.sibling(-1)};t.prototype.atLastNode=function(t){var e,r;var i,n,o=this.buffer;if(o){if(t>0){if(this.index<o.buffer.buffer.length)return false}else{for(var a=0;a<this.index;a++)if(o.buffer.buffer[a+3]<this.index)return false}i=o.index,n=o.parent}else{e=this.tree,i=e.index,n=e._parent}for(;n;r=n,i=r.index,n=r._parent,r){for(var a=i+t,s=t<0?-1:n.node.children.length;a!=s;a+=t){var l=n.node.children[a];if(!l.type.isRepeated||l instanceof it||ct(l))return false}}return true};t.prototype.move=function(t){if(this.enter(t,-1e8))return true;for(;;){if(this.sibling(t))return true;if(this.atLastNode(t)||!this.parent())return false}};t.prototype.next=function(){return this.move(1)};t.prototype.prev=function(){return this.move(-1)};t.prototype.moveTo=function(t,e){if(e===void 0){e=0}while(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))if(!this.parent())break;for(;;){if(e<0?!this.childBefore(t):!this.childAfter(t))break;if(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t)){this.parent();break}}return this};Object.defineProperty(t.prototype,"node",{get:function(){if(!this.buffer)return this.tree;var t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer){t:for(var i=this.index,n=this.stack.length;n>=0;){for(var o=t;o;o=o._parent)if(o.index==i){if(i==this.index)return o;e=o;r=n+1;break t}i=this.stack[--n]}}for(var a=r;a<this.stack.length;a++)e=new st(this.buffer,e,this.stack[a]);return this.bufferNode=new st(this.buffer,e,this.index)},enumerable:true,configurable:true});return t}();function ct(t){return t.children.some((function(t){return!t.type.isRepeated||t instanceof it||ct(t)}))}var ut=function(){function t(t,e){this.buffer=t;this.index=e}Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"pos",{get:function(){return this.index},enumerable:true,configurable:true});t.prototype.next=function(){this.index-=4};t.prototype.fork=function(){return new t(this.buffer,this.index)};return t}();var ft=8;function ht(t){var e=t,r=e.buffer,i=e.group,n=e.topID,o=n===void 0?0:n,a=e.maxBufferLength,s=a===void 0?Y:a,l=e.reused,c=l===void 0?[]:l,u=e.minRepeatType,f=u===void 0?i.types.length:u;var h=Array.isArray(r)?new ut(r,r.length):r;var d=i.types;function p(t,e,r,n,o){var a=h.id,l=h.start,u=h.end,m=h.size;while(a==o){h.next();a=h.id,l=h.start,u=h.end,m=h.size}var O=l-t;if(m<0){r.push(c[a]);n.push(O);h.next();return}var y=d[a],b,w;if(u-l<=s&&(w=v(h.pos-e,o))){var x=new Uint16Array(w.size-w.skip);var S=h.pos-w.size,k=x.length;while(h.pos>S)k=g(w.start,x,k,o);b=new it(x,u-w.start,i,o<0?tt.none:d[o]);O=w.start-t}else{var S=h.pos-m;h.next();var Q=[],P=[];var L=a>=f?a:-1;while(h.pos>S)p(l,S,Q,P,L);Q.reverse();P.reverse();if(L>-1&&Q.length>ft)b=dt(y,y,Q,P,0,Q.length,0,s,u-l);else b=new rt(y,Q,P,u-l)}r.push(b);n.push(O)}function v(t,e){var r=h.fork();var i=0,n=0,o=0,a=r.end-s;var l={size:0,start:0,skip:0};t:for(var c=r.pos-t;r.pos>c;){if(r.id==e){l.size=i;l.start=n;l.skip=o;o+=4;i+=4;r.next();continue}var u=r.size,d=r.pos-u;if(u<0||d<c||r.start<a)break;var p=r.id>=f?4:0;var v=r.start;r.next();while(r.pos>d){if(r.size<0)break t;if(r.id>=f)p+=4;r.next()}n=v;i+=u;o+=p}if(e<0||i==t){l.size=i;l.start=n;l.skip=o}return l.size>4?l:undefined}function g(t,e,r,i){var n=h.id,o=h.start,a=h.end,s=h.size;h.next();if(n==i)return r;var l=r;if(s>4){var c=h.pos-(s-4);while(h.pos>c)r=g(t,e,r,i)}if(n<f){e[--r]=l;e[--r]=a-t;e[--r]=o-t;e[--r]=n}return r}var m=[],O=[];while(h.pos>0)p(0,0,m,O,-1);var y=m.length?O[0]+m[0].length:0;return new rt(i.types[o],m.reverse(),O.reverse(),y)}function dt(t,e,r,i,n,o,a,s,l){var c=[],u=[];if(l<=s){for(var f=n;f<o;f++){c.push(r[f]);u.push(i[f]-a)}}else{var h=Math.max(s,Math.ceil(l*1.5/ft));for(var f=n;f<o;){var d=f,p=i[f];f++;for(;f<o;f++){var v=i[f]+r[f].length;if(v-p>h)break}if(f==d+1){var g=r[d];if(g instanceof rt&&g.type==e&&g.length>h<<1){for(var m=0;m<g.children.length;m++){c.push(g.children[m]);u.push(g.positions[m]+p-a)}continue}c.push(g)}else if(f==d+1){c.push(r[d])}else{var O=dt(e,e,r,i,d,f,p,s,i[f-1]+r[f-1].length-p);if(e!=tt.none&&!pt(O.children,e))O=new rt(tt.none,O.children,O.positions,O.length);c.push(O)}u.push(p-a)}}return new rt(t,c,u,l)}function pt(t,e){for(var r=0,i=t;r<i.length;r++){var n=i[r];if(n.type==e)return true}return false}var vt=/\r\n?|\n/;var gt;(function(t){t[t["Simple"]=0]="Simple";t[t["TrackDel"]=1]="TrackDel";t[t["TrackBefore"]=2]="TrackBefore";t[t["TrackAfter"]=3]="TrackAfter"})(gt||(gt={}));var mt=function(){function t(t){this.sections=t}Object.defineProperty(t.prototype,"length",{get:function(){var t=0;for(var e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"newLength",{get:function(){var t=0;for(var e=0;e<this.sections.length;e+=2){var r=this.sections[e+1];t+=r<0?this.sections[e]:r}return t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"empty",{get:function(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0},enumerable:false,configurable:true});t.prototype.iterGaps=function(t){for(var e=0,r=0,i=0;e<this.sections.length;){var n=this.sections[e++],o=this.sections[e++];if(o<0){t(r,i,n);i+=n}else{i+=o}r+=n}};t.prototype.iterChangedRanges=function(t,e){if(e===void 0){e=false}wt(this,t,e)};Object.defineProperty(t.prototype,"invertedDesc",{get:function(){var e=[];for(var r=0;r<this.sections.length;){var i=this.sections[r++],n=this.sections[r++];if(n<0)e.push(i,n);else e.push(n,i)}return new t(e)},enumerable:false,configurable:true});t.prototype.composeDesc=function(t){return this.empty?t:t.empty?this:St(this,t)};t.prototype.mapDesc=function(t,e){if(e===void 0){e=false}return t.empty?this:xt(this,t,e)};t.prototype.mapPos=function(t,e,r){if(e===void 0){e=-1}if(r===void 0){r=gt.Simple}var i=0,n=0;for(var o=0;o<this.sections.length;){var a=this.sections[o++],s=this.sections[o++],l=i+a;if(s<0){if(l>t)return n+(t-i);n+=a}else{if(r!=gt.Simple&&l>=t&&(r==gt.TrackDel&&i<t&&l>t||r==gt.TrackBefore&&i<t||r==gt.TrackAfter&&l>t))return null;if(l>t||l==t&&e<0&&!a)return t==i||e<0?n:n+s;n+=s}i=l}if(t>i)throw new RangeError("Position "+t+" is out of range for changeset of length "+i);return n};t.prototype.touchesRange=function(t,e){if(e===void 0){e=t}for(var r=0,i=0;r<this.sections.length&&i<=e;){var n=this.sections[r++],o=this.sections[r++],a=i+n;if(o>=0&&i<=e&&a>=t)return i<t&&a>e?"cover":true;i=a}return false};t.prototype.toString=function(){var t="";for(var e=0;e<this.sections.length;){var r=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+r+(i>=0?":"+i:"")}return t};return t}();var Ot=function(t){mf(e,t);function e(e,r){var i=t.call(this,e)||this;i.inserted=r;return i}e.prototype.apply=function(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");wt(this,(function(e,r,i,n,o){return t=t.replace(i,i+(r-e),o)}),false);return t};e.prototype.mapDesc=function(t,e){if(e===void 0){e=false}return xt(this,t,e,true)};e.prototype.invert=function(t){var r=this.sections.slice(),i=[];for(var n=0,o=0;n<r.length;n+=2){var a=r[n],s=r[n+1];if(s>=0){r[n]=s;r[n+1]=a;var l=n>>1;while(i.length<l)i.push(M.empty);i.push(a?t.slice(o,o+a):M.empty)}o+=a}return new e(r,i)};e.prototype.compose=function(t){return this.empty?t:t.empty?this:St(this,t,true)};e.prototype.map=function(t,e){if(e===void 0){e=false}return t.empty?this:xt(this,t,e,true)};e.prototype.iterChanges=function(t,e){if(e===void 0){e=false}wt(this,t,e)};Object.defineProperty(e.prototype,"desc",{get:function(){return new mt(this.sections)},enumerable:false,configurable:true});e.prototype.filter=function(t){var r=[],i=[],n=[];var o=new kt(this);t:for(var a=0,s=0;;){var l=a==t.length?1e9:t[a++];while(s<l||s==l&&o.len==0){if(o.done)break t;var c=Math.min(o.len,l-s);yt(n,c,-1);var u=o.ins==-1?-1:o.off==0?o.ins:0;yt(r,c,u);if(u>0)bt(i,r,o.text);o.forward(c);s+=c}var f=t[a++];while(s<f){if(o.done)break t;var c=Math.min(o.len,f-s);yt(r,c,-1);yt(n,c,o.ins==-1?-1:o.off==0?o.ins:0);o.forward(c);s+=c}}return{changes:new e(r,i),filtered:new mt(n)}};e.prototype.toJSON=function(){var t=[];for(var e=0;e<this.sections.length;e+=2){var r=this.sections[e],i=this.sections[e+1];if(i<0)t.push(r);else if(i==0)t.push([r]);else t.push([r,this.inserted[e>>1].toJSON()])}return t};e.of=function(t,r,i){var n=[],o=[],a=0;var s=null;function l(t){if(t===void 0){t=false}if(!t&&!n.length)return;if(a<r)yt(n,r-a,-1);var i=new e(n,o);s=s?s.compose(i.map(s)):i;n=[];o=[];a=0}function c(t){if(Array.isArray(t)){for(var u=0,f=t;u<f.length;u++){var h=f[u];c(h)}}else if(t instanceof e){if(t.length!=r)throw new RangeError("Mismatched change set length (got "+t.length+", expected "+r+")");l();s=s?s.compose(t.map(s)):t}else{var d=t.from,p=t.to,v=p===void 0?d:p,g=t.insert;if(d>v||d<0||v>r)throw new RangeError("Invalid change range "+d+" to "+v+" (in doc of length "+r+")");var m=!g?M.empty:typeof g=="string"?M.of(g.split(i||vt)):g;var O=m.length;if(d==v&&O==0)return;if(d<a)l();if(d>a)yt(n,d-a,-1);yt(n,v-d,O);bt(o,n,m);a=v}}c(t);l(!s);return s};e.empty=function(t){return new e(t?[t,-1]:[],[])};e.fromJSON=function(t){var r=[],i=[];for(var n=0;n<t.length;n++){var o=t[n];if(typeof o=="number"){r.push(o,-1)}else if(o.length==1){r.push(o[0],0)}else{while(i.length<n)i.push(M.empty);i[n]=M.of(o[1]);r.push(o[0],i[n].length)}}return new e(r,i)};return e}(mt);function yt(t,e,r,i){if(i===void 0){i=false}if(e==0&&r<=0)return;var n=t.length-2;if(n>=0&&r<=0&&r==t[n+1])t[n]+=e;else if(e==0&&t[n]==0)t[n+1]+=r;else if(i){t[n]+=e;t[n+1]+=r}else t.push(e,r)}function bt(t,e,r){if(r.length==0)return;var i=e.length-2>>1;if(i<t.length){t[t.length-1]=t[t.length-1].append(r)}else{while(t.length<i)t.push(M.empty);t.push(r)}}function wt(t,e,r){var i=t.inserted;for(var n=0,o=0,a=0;a<t.sections.length;){var s=t.sections[a++],l=t.sections[a++];if(l<0){n+=s;o+=s}else{var c=n,u=o,f=M.empty;for(;;){c+=s;u+=l;if(l&&i)f=f.append(i[a-2>>1]);if(r||a==t.sections.length||t.sections[a+1]<0)break;s=t.sections[a++];l=t.sections[a++]}e(n,c,o,u,f);n=c;o=u}}}function xt(t,e,r,i){if(i===void 0){i=false}var n=[],o=i?[]:null;var a=new kt(t),s=new kt(e);for(var l=0,c=0;;){if(a.ins==-1){l+=a.len;a.next()}else if(s.ins==-1&&c<l){var u=Math.min(s.len,l-c);s.forward(u);yt(n,u,-1);c+=u}else if(s.ins>=0&&(a.done||c<l||c==l&&(s.len<a.len||s.len==a.len&&!r))){yt(n,s.ins,-1);while(l>c&&!a.done&&l+a.len<c+s.len){l+=a.len;a.next()}c+=s.len;s.next()}else if(a.ins>=0){var f=0,h=l+a.len;for(;;){if(s.ins>=0&&c>l&&c+s.len<h){f+=s.ins;c+=s.len;s.next()}else if(s.ins==-1&&c<h){var u=Math.min(s.len,h-c);f+=u;s.forward(u);c+=u}else{break}}yt(n,f,a.ins);if(o)bt(o,n,a.text);l=h;a.next()}else if(a.done&&s.done){return o?new Ot(n,o):new mt(n)}else{throw new Error("Mismatched change set lengths")}}}function St(t,e,r){if(r===void 0){r=false}var i=[];var n=r?[]:null;var o=new kt(t),a=new kt(e);for(var s=false;;){if(o.done&&a.done){return n?new Ot(i,n):new mt(i)}else if(o.ins==0){yt(i,o.len,0,s);o.next()}else if(a.len==0&&!a.done){yt(i,0,a.ins,s);if(n)bt(n,i,a.text);a.next()}else if(o.done||a.done){throw new Error("Mismatched change set lengths")}else{var l=Math.min(o.len2,a.len),c=i.length;if(o.ins==-1){var u=a.ins==-1?-1:a.off?0:a.ins;yt(i,l,u,s);if(n&&u)bt(n,i,a.text)}else if(a.ins==-1){yt(i,o.off?0:o.len,l,s);if(n)bt(n,i,o.textBit(l))}else{yt(i,o.off?0:o.len,a.off?0:a.ins,s);if(n&&!a.off)bt(n,i,a.text)}s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||i.length>c);o.forward2(l);a.forward(l)}}}var kt=function(){function t(t){this.set=t;this.i=0;this.next()}t.prototype.next=function(){var t=this.set.sections;if(this.i<t.length){this.len=t[this.i++];this.ins=t[this.i++]}else{this.len=0;this.ins=-2}this.off=0};Object.defineProperty(t.prototype,"done",{get:function(){return this.ins==-2},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"len2",{get:function(){return this.ins<0?this.len:this.ins},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"text",{get:function(){var t=this.set.inserted,e=this.i-2>>1;return e>=t.length?M.empty:t[e]},enumerable:false,configurable:true});t.prototype.textBit=function(t){var e=this.set.inserted,r=this.i-2>>1;return r>=e.length&&!t?M.empty:e[r].slice(this.off,t==null?undefined:this.off+t)};t.prototype.forward=function(t){if(t==this.len)this.next();else{this.len-=t;this.off+=t}};t.prototype.forward2=function(t){if(this.ins==-1)this.forward(t);else if(t==this.ins)this.next();else{this.ins-=t;this.off+=t}};return t}();var Qt=function(){function t(t,e,r){this.from=t;this.to=e;this.flags=r}Object.defineProperty(t.prototype,"anchor",{get:function(){return this.flags&16?this.to:this.from},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"head",{get:function(){return this.flags&16?this.from:this.to},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"empty",{get:function(){return this.from==this.to},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"assoc",{get:function(){return this.flags&4?-1:this.flags&8?1:0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"bidiLevel",{get:function(){var t=this.flags&3;return t==3?null:t},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"goalColumn",{get:function(){var t=this.flags>>5;return t==33554431?undefined:t},enumerable:false,configurable:true});t.prototype.map=function(e){var r=e.mapPos(this.from),i=e.mapPos(this.to);return r==this.from&&i==this.to?this:new t(r,i,this.flags)};t.prototype.extend=function(t,e){if(e===void 0){e=t}if(t<=this.anchor&&e>=this.anchor)return Pt.range(t,e);var r=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Pt.range(this.anchor,r)};t.prototype.eq=function(t){return this.anchor==t.anchor&&this.head==t.head};t.prototype.toJSON=function(){return{anchor:this.anchor,head:this.head}};t.fromJSON=function(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Pt.range(t.anchor,t.head)};return t}();var Pt=function(){function t(t,e){if(e===void 0){e=0}this.ranges=t;this.primaryIndex=e}t.prototype.map=function(e){if(e.empty)return this;return t.create(this.ranges.map((function(t){return t.map(e)})),this.primaryIndex)};t.prototype.eq=function(t){if(this.ranges.length!=t.ranges.length||this.primaryIndex!=t.primaryIndex)return false;for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return false;return true};Object.defineProperty(t.prototype,"primary",{get:function(){return this.ranges[this.primaryIndex]},enumerable:false,configurable:true});t.prototype.asSingle=function(){return this.ranges.length==1?this:new t([this.primary])};t.prototype.addRange=function(e,r){if(r===void 0){r=true}return t.create([e].concat(this.ranges),r?0:this.primaryIndex+1)};t.prototype.replaceRange=function(e,r){if(r===void 0){r=this.primaryIndex}var i=this.ranges.slice();i[r]=e;return t.create(i,this.primaryIndex)};t.prototype.toJSON=function(){return{ranges:this.ranges.map((function(t){return t.toJSON()})),primaryIndex:this.primaryIndex}};t.fromJSON=function(e){if(!e||!Array.isArray(e.ranges)||typeof e.primaryIndex!="number"||e.primaryIndex>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map((function(t){return Qt.fromJSON(t)})),e.primaryIndex)};t.single=function(e,r){if(r===void 0){r=e}return new t([t.range(e,r)],0)};t.create=function(e,r){if(r===void 0){r=0}if(e.length==0)throw new RangeError("A selection needs at least one range");for(var i=0,n=0;n<e.length;n++){var o=e[n];if(o.empty?o.from<=i:o.from<i)return Lt(e.slice(),r);i=o.to}return new t(e,r)};t.cursor=function(t,e,r,i){if(e===void 0){e=0}return new Qt(t,t,(e==0?0:e<0?4:8)|(r==null?3:Math.min(2,r))|(i!==null&&i!==void 0?i:33554431)<<5)};t.range=function(t,e,r){var i=(r!==null&&r!==void 0?r:33554431)<<5;return e<t?new Qt(e,t,16|i):new Qt(t,e,i)};return t}();function Lt(t,e){if(e===void 0){e=0}var r=t[e];t.sort((function(t,e){return t.from-e.from}));e=t.indexOf(r);for(var i=1;i<t.length;i++){var n=t[i],o=t[i-1];if(n.empty?n.from<=o.to:n.from<o.to){var a=o.from,s=Math.max(n.to,o.to);if(i<=e)e--;t.splice(--i,2,n.anchor>n.head?Pt.range(s,a):Pt.range(a,s))}}return new Pt(t,e)}function $t(t,e){for(var r=0,i=t.ranges;r<i.length;r++){var n=i[r];if(n.to>e)throw new RangeError("Selection points outside of document")}}var Rt=0;var At=function(){function t(t,e,r,i){this.combine=t;this.compareInput=e;this.compare=r;this.isStatic=i;this.id=Rt++;this.default=t([])}t.define=function(e){if(e===void 0){e={}}return new t(e.combine||function(t){return t},e.compareInput||function(t,e){return t===e},e.compare||(!e.combine?Tt:function(t,e){return t===e}),!!e.static)};t.prototype.of=function(t){return new Ct([],this,0,t)};t.prototype.compute=function(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ct(t,this,1,e)};t.prototype.computeN=function(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ct(t,this,2,e)};t.prototype.from=function(t,e){var r=this;return function(i){return jt(e,r.compute([i],(function(e){return t(e.field(i))})))}};t.prototype.nFrom=function(t,e){var r=this;return function(i){return jt(e,r.computeN([i],(function(e){return t(e.field(i))})))}};return t}();function Tt(t,e){return t==e||t.length==e.length&&t.every((function(t,r){return t===e[r]}))}var Ct=function(){function t(t,e,r,i){this.dependencies=t;this.facet=e;this.type=r;this.value=i;this.id=Rt++}t.prototype.dynamicSlot=function(t){var e=this.value;var r=this.facet.compareInput;var i=t[this.id]>>1,n=this.type==2;var o=false,a=false,s=[];for(var l=0,c=this.dependencies;l<c.length;l++){var u=c[l];if(u=="doc")o=true;else if(u=="selection")a=true;else if((t[u.id]&1)==0)s.push(t[u.id])}return function(t,l){if(!l||l.reconfigure){t.values[i]=e(t);return 1}else{var c=o&&l.docChanged||a&&(l.docChanged||l.selection)||s.some((function(e){return(Nt(t,e)&1)>0}));if(!c)return 0;var u=e(t),f=l.startState.values[i];if(n?Mt(u,f,r):r(u,f))return 0;t.values[i]=u;return 1}}};return t}();function Mt(t,e,r){if(t.length!=e.length)return false;for(var i=0;i<t.length;i++)if(!r(t[i],e[i]))return false;return true}function Ut(t,e,r){var i=r.map((function(e){return t[e.id]}));var n=r.map((function(t){return t.type}));var o=i.filter((function(t){return!(t&1)}));var a=t[e.id]>>1;return function(t,r){var s=!r?null:r.reconfigure?r.startState.config.address[e.id]:a<<1;var l=s==null;for(var c=0,u=o;c<u.length;c++){var f=u[c];if(Nt(t,f)&1)l=true}if(!l)return 0;var h=[];for(var d=0;d<i.length;d++){var p=Ft(t,i[d]);if(n[d]==2)for(var v=0,g=p;v<g.length;v++){var m=g[v];h.push(m)}else h.push(p)}var O=e.combine(h);if(s!=null&&e.compare(O,Ft(r.startState,s)))return 0;t.values[a]=O;return 1}}function It(t,e){var r=t.config.address[e];return r==null?null:r>>1}var qt=function(){function t(t,e,r,i,n){this.id=t;this.createF=e;this.updateF=r;this.compareF=i;this.facets=n}t.define=function(e){var r=[];var i=new t(Rt++,e.create,e.update,e.compare||function(t,e){return t===e},r);if(e.provide)for(var n=0,o=e.provide;n<o.length;n++){var a=o[n];if(a instanceof At)r.push(a.compute([i],(function(t){return t.field(i)})));else r.push(a(i))}return i};t.prototype.slot=function(t){var e=this;var r=t[this.id]>>1;return function(t,i){if(!i){t.values[r]=e.createF(t);return 1}var n,o=0;if(i.reconfigure){var a=It(i.startState,e.id);n=a==null?e.createF(i.startState):i.startState.values[a];o=1}else{n=i.startState.values[r]}var s=e.updateF(n,i);if(!o&&!e.compareF(n,s))o=1;if(o)t.values[r]=s;return o}};return t}();var Xt={fallback:3,default:2,extend:1,override:0};function Et(t,e){if(!Xt.hasOwnProperty(e))throw new RangeError("Invalid precedence: "+e);return new Wt(t,Xt[e])}function jt(t,e){return t?Et(e,t):e}var Wt=function(){function t(t,e){this.e=t;this.prec=e}return t}();var Dt=function(){function t(t,e){this.tag=t;this.extension=e}return t}();function _t(t,e){return new Dt(t,e)}var Vt=function(){function t(t,e,r,i,n){this.source=t;this.replacements=e;this.dynamicSlots=r;this.address=i;this.staticValues=n;this.statusTemplate=[];while(this.statusTemplate.length<n.length)this.statusTemplate.push(0)}t.prototype.staticFacet=function(t){var e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]};t.resolve=function(e,r,i){if(r===void 0){r=Object.create(null)}var n=[];var o=Object.create(null);for(var a=0,s=zt(e,r);a<s.length;a++){var l=s[a];if(l instanceof qt)n.push(l);else(o[l.facet.id]||(o[l.facet.id]=[])).push(l)}var c=Object.create(null);var u=[];var f=[];var h=function(t){c[t.id]=f.length<<1;f.push((function(e){return t.slot(e)}))};for(var d=0,p=n;d<p.length;d++){var v=p[d];h(v)}var g=function(t){var e=o[t],r=e[0].facet;if(e.every((function(t){return t.type==0}))){c[r.id]=u.length<<1|1;var n=r.combine(e.map((function(t){return t.value})));var a=i?i.config.address[r.id]:null;if(a!=null){var s=Ft(i,a);if(r.compare(n,s))n=s}u.push(n)}else{var l=function(t){if(t.type==0){c[t.id]=u.length<<1|1;u.push(t.value)}else{c[t.id]=f.length<<1;f.push((function(e){return t.dynamicSlot(e)}))}};for(var h=0,d=e;h<d.length;h++){var p=d[h];l(p)}c[r.id]=f.length<<1;f.push((function(t){return Ut(t,r,e)}))}};for(var m in o){g(m)}return new t(e,r,f.map((function(t){return t(c)})),c,u)};return t}();function Bt(t){return(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]).concat(Object.keys(t))}function zt(t,e){var r=[[],[],[],[]];var i=new Map;var n=Object.create(null);function o(t,a){var s=i.get(t);if(s!=null){if(s>=a)return;var l=r[s].indexOf(t);if(l>-1)r[s].splice(l,1)}i.set(t,a);if(Array.isArray(t)){for(var c=0,u=t;c<u.length;c++){var f=u[c];o(f,a)}}else if(t instanceof Dt){if(t.tag in n)throw new RangeError("Duplicate use of tag '"+String(t.tag)+"' in extensions");n[t.tag]=true;o(e[t.tag]||t.extension,a)}else if(t.extension){o(t.extension,a)}else if(t instanceof Wt){o(t.e,t.prec)}else{r[a].push(t);if(t instanceof qt)o(t.facets,a)}}o(t,Xt.default);for(var a=0,s=Bt(e);a<s.length;a++){var l=s[a];if(!(l in n)&&l!="full"&&e[l]){n[l]=true;o(e[l],Xt.default)}}return r.reduce((function(t,e){return t.concat(e)}))}function Nt(t,e){if(e&1)return 2;var r=e>>1;var i=t.status[r];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[r]=4;var n=t.config.dynamicSlots[r](t,t.applying);return t.status[r]=2|n}function Ft(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}var Gt=At.define({combine:function(t){return t.some((function(t){return t}))},static:true});var Yt=At.define({combine:function(t){return t.length?t[0]:undefined},static:true});var Ht=At.define();var Zt=At.define();var Kt=new K;var Jt=At.define();var te=function(){function t(t,e){if(e===void 0){e={}}this.state=t;this.options=e}Object.defineProperty(t.prototype,"unit",{get:function(){return this.state.indentUnit},enumerable:false,configurable:true});t.prototype.textAfterPos=function(t){var e,r;var i=(e=this.options)===null||e===void 0?void 0:e.simulateBreak;if(t==i&&((r=this.options)===null||r===void 0?void 0:r.simulateDoubleBreak))return"";return this.state.sliceDoc(t,Math.min(t+100,i!=null&&i>t?i:1e9,this.state.doc.lineAt(t).to))};t.prototype.countColumn=function(t,e){return T(e<0?t:t.slice(0,e),0,this.state.tabSize)};t.prototype.lineIndent=function(t){var e;var r=(e=this.options)===null||e===void 0?void 0:e.overrideIndentation;if(r){var i=r(t.from);if(i>-1)return i}var n=t.slice(0,Math.min(100,t.length));return this.countColumn(n,n.search(/\S/))};t.prototype.column=function(t){var e;var r=this.state.doc.lineAt(t),i=r.slice(0,t-r.from);var n=this.countColumn(i,t-r.from);var o=((e=this.options)===null||e===void 0?void 0:e.overrideIndentation)?this.options.overrideIndentation(r.from):-1;if(o>-1)n+=o-this.countColumn(i,i.search(/\S/));return n};return t}();var ee=function(){function t(t,e){this.type=t;this.value=e}t.define=function(){return new re};return t}();var re=function(){function t(){}t.prototype.of=function(t){return new ee(this,t)};return t}();var ie=function(){function t(t,e){this.type=t;this.value=e}t.prototype.map=function(e){var r=this.type.map(this.value,e);return r===undefined?undefined:r==this.value?this:new t(this.type,r)};t.prototype.is=function(t){return this.type==t};t.define=function(t){if(t===void 0){t={}}return new ne(t.map||function(t){return t})};t.mapEffects=function(t,e){if(!t.length)return t;var r=[];for(var i=0,n=t;i<n.length;i++){var o=n[i];var a=o.map(e);if(a)r.push(a)}return r};return t}();var ne=function(){function t(t){this.map=t}t.prototype.of=function(t){return new ie(this,t)};return t}();var oe=function(){function t(e,r,i,n,o,a,s){this.startState=e;this.changes=r;this.selection=i;this.effects=n;this.annotations=o;this.reconfigure=a;this.scrollIntoView=s;this._doc=null;this._state=null;if(i)$t(i,r.newLength);if(!o.some((function(e){return e.type==t.time})))this.annotations=o.concat(t.time.of(Date.now()))}Object.defineProperty(t.prototype,"newDoc",{get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"newSelection",{get:function(){return this.selection||this.startState.selection.map(this.changes)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"state",{get:function(){if(!this._state)this.startState.applyTransaction(this);return this._state},enumerable:false,configurable:true});t.prototype.annotation=function(t){for(var e=0,r=this.annotations;e<r.length;e++){var i=r[e];if(i.type==t)return i.value}return undefined};Object.defineProperty(t.prototype,"docChanged",{get:function(){return!this.changes.empty},enumerable:false,configurable:true});return t}();oe.time=ee.define();oe.userEvent=ee.define();oe.addToHistory=ee.define();function ae(t,e){var r=[];for(var i=0,n=0;;){var o=void 0,a=void 0;if(i<t.length&&(n==e.length||e[n]>=t[i])){o=t[i++];a=t[i++]}else if(n<e.length){o=e[n++];a=e[n++]}else return r;if(!r.length||r[r.length-1]<o)r.push(o,a);else if(r[r.length-1]<a)r[r.length-1]=a}}function se(t,e,r){var i;var n,o,a;if(r){n=e.changes;o=Ot.empty(e.changes.length);a=t.changes.compose(e.changes)}else{n=e.changes.map(t.changes);o=t.changes.mapDesc(e.changes,true);a=t.changes.compose(n)}return{changes:a,selection:e.selection?e.selection.map(o):(i=t.selection)===null||i===void 0?void 0:i.map(n),effects:ie.mapEffects(t.effects,n).concat(ie.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView,reconfigure:!e.reconfigure?t.reconfigure:e.reconfigure.full||!t.reconfigure?e.reconfigure:Object.assign({},t.reconfigure,e.reconfigure)}}function le(t,e,r){var i=e.reconfigure;if(i&&i.append){i=Object.assign({},i);var n=typeof Symbol=="undefined"?"__append"+Math.floor(Math.random()*4294967295):Symbol("appendConf");i[n]=i.append;i.append=undefined}var o=e.selection;return{changes:e.changes instanceof Ot?e.changes:Ot.of(e.changes||[],r,t.facet(Yt)),selection:o&&(o instanceof Pt?o:Pt.single(o.anchor,o.head)),effects:!e.effects?fe:Array.isArray(e.effects)?e.effects:[e.effects],annotations:!e.annotations?fe:Array.isArray(e.annotations)?e.annotations:[e.annotations],scrollIntoView:!!e.scrollIntoView,reconfigure:i}}function ce(t,e,r){var i=le(t,e.length?e[0]:{},t.doc.length);if(e.length&&e[0].filter===false)r=false;for(var n=1;n<e.length;n++){if(e[n].filter===false)r=false;var o=!!e[n].sequential;i=se(i,le(t,e[n],o?i.changes.newLength:t.doc.length),o)}var a=new oe(t,i.changes,i.selection,i.effects,i.annotations,i.reconfigure,i.scrollIntoView);return r?ue(a):a}function ue(t){var e=t.startState;var r=true;for(var i=0,n=e.facet(Ht);i<n.length;i++){var o=n[i];var a=o(t);if(a===false){r=false;break}if(Array.isArray(a))r=r===true?a:ae(r,a)}if(r!==true){var s=void 0,l=void 0;if(r===false){l=t.changes.invertedDesc;s=Ot.empty(e.doc.length)}else{var c=t.changes.filter(r);s=c.changes;l=c.filtered.invertedDesc}t=new oe(e,s,t.selection&&t.selection.map(l),ie.mapEffects(t.effects,l),t.annotations,t.reconfigure,t.scrollIntoView)}var u=e.facet(Zt);for(var f=u.length-1;f>=0;f--){var c=u[f](t);if(c instanceof oe)t=c;else if(Array.isArray(c)&&c.length==1&&c[0]instanceof oe)t=c[0];else t=ce(e,Array.isArray(c)?c:[c],false)}return t}var fe=[];var he;(function(t){t[t["Word"]=0]="Word";t[t["Space"]=1]="Space";t[t["Other"]=2]="Other"})(he||(he={}));var de=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var pe;try{pe=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(dd){}function ve(t){if(pe)return pe.test(t);for(var e=0;e<t.length;e++){var r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||de.test(r)))return true}return false}function ge(t){return function(e){if(!/\S/.test(e))return he.Space;if(ve(e))return he.Word;for(var r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return he.Word;return he.Other}}var me=function(){function t(t,e,r,i){if(i===void 0){i=null}this.config=t;this.doc=e;this.selection=r;this.applying=null;this.status=t.statusTemplate.slice();if(i&&!i.reconfigure){this.values=i.startState.values.slice()}else{this.values=t.dynamicSlots.map((function(t){return null}));if(i)for(var n in t.address){var o=t.address[n],a=i.startState.config.address[n];if(a!=null&&(o&1)==0)this.values[o>>1]=Ft(i.startState,a)}}this.applying=i;if(i)i._state=this;for(var s=0;s<this.config.dynamicSlots.length;s++)Nt(this,s<<1);this.applying=null}t.prototype.field=function(t,e){if(e===void 0){e=true}var r=this.config.address[t.id];if(r==null){if(e)throw new RangeError("Field is not present in this state");return undefined}Nt(this,r);return Ft(this,r)};t.prototype.update=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}return ce(this,t,true)};t.prototype.applyTransaction=function(e){var r=this.config;if(e.reconfigure)r=Vt.resolve(e.reconfigure.full||r.source,Object.assign(r.replacements,e.reconfigure,{full:undefined}),this);new t(r,e.newDoc,e.newSelection,e)};t.prototype.replaceSelection=function(t){if(typeof t=="string")t=this.toText(t);return this.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:t},range:Pt.cursor(e.from+t.length)}}))};t.prototype.changeByRange=function(t){var e=this.selection;var r=t(e.ranges[0]);var i=this.changes(r.changes),n=[r.range];for(var o=1;o<e.ranges.length;o++){var a=t(e.ranges[o]);var s=this.changes(a.changes),l=s.map(i);for(var c=0;c<o;c++)n[c]=n[c].map(l);n.push(a.range.map(i.mapDesc(s,true)));i=i.compose(l)}return{changes:i,selection:Pt.create(n,e.primaryIndex)}};t.prototype.changes=function(e){if(e===void 0){e=[]}if(e instanceof Ot)return e;return Ot.of(e,this.doc.length,this.facet(t.lineSeparator))};t.prototype.toText=function(e){return M.of(e.split(this.facet(t.lineSeparator)||vt))};t.prototype.sliceDoc=function(t,e){if(t===void 0){t=0}if(e===void 0){e=this.doc.length}return this.doc.sliceString(t,e,this.lineBreak)};t.prototype.facet=function(t){var e=this.config.address[t.id];if(e==null)return t.default;Nt(this,e);return Ft(this,e)};t.prototype.toJSON=function(){return{doc:this.sliceDoc(),selection:this.selection.toJSON()}};t.fromJSON=function(e,r){if(r===void 0){r={}}if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");return t.create({doc:e.doc,selection:Pt.fromJSON(e.selection),extensions:r.extensions})};t.create=function(e){if(e===void 0){e={}}var r=Vt.resolve(e.extensions||[]);var i=e.doc instanceof M?e.doc:M.of((e.doc||"").split(r.staticFacet(t.lineSeparator)||vt));var n=!e.selection?Pt.single(0):e.selection instanceof Pt?e.selection:Pt.single(e.selection.anchor,e.selection.head);$t(n,i.length);if(!r.staticFacet(Gt))n=n.asSingle();return new t(r,i,n)};Object.defineProperty(t.prototype,"tabSize",{get:function(){return this.facet(t.tabSize)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"lineBreak",{get:function(){return this.facet(t.lineSeparator)||"\n"},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"indentUnit",{get:function(){var e=this.facet(t.indentUnit);return e.charCodeAt(0)==9?this.tabSize*e.length:e.length},enumerable:false,configurable:true});t.prototype.indentString=function(e){var r="";if(this.facet(t.indentUnit).charCodeAt(0)==9)while(e>=this.tabSize){r+="\t";e-=this.tabSize}for(var i=0;i<e;i++)r+=" ";return r};t.prototype.phrase=function(e){for(var r=0,i=this.facet(t.phrases);r<i.length;r++){var n=i[r];if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}return e};t.prototype.charCategorizer=function(t){return ge(this.languageDataAt("wordChars",t).join(""))};Object.defineProperty(t.prototype,"tree",{get:function(){var e=this.facet(t.syntax);return e.length?e[0].getTree(this):rt.empty},enumerable:false,configurable:true});t.prototype.languageDataAt=function(e,r){var i=[];var n=this.facet(t.syntax);for(var o=n.length?0:1;o<2;o++){var a=this.facet(o?Jt:n[0].languageDataFacetAt(this,r));for(var s=0,l=a;s<l.length;s++){var c=l[s];if(Object.prototype.hasOwnProperty.call(c,e))i.push(c[e])}}return i};return t}();me.allowMultipleSelections=Gt;me.indentation=At.define();me.tabSize=At.define({combine:function(t){return t.length?t[0]:4}});me.lineSeparator=Yt;me.indentUnit=At.define({combine:function(t){if(!t.length)return"  ";if(!/^(?: +|\t+)$/.test(t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return t[0]}});me.phrases=At.define();me.syntax=At.define();me.globalLanguageData=Jt;me.foldable=At.define();me.changeFilter=Ht;me.transactionFilter=Zt;function Oe(t,e,r){if(r===void 0){r={}}var i={};for(var n=0,o=t;n<o.length;n++){var a=o[n];for(var s=0,l=Object.keys(a);s<l.length;s++){var c=l[s];var u=a[c],f=i[c];if(f===undefined)i[c]=u;else if(f===u||u===undefined);else if(Object.hasOwnProperty.call(r,c))i[c]=r[c](f,u);else throw new Error("Config merge conflict for field "+c)}}for(var c in e)if(i[c]===undefined)i[c]=e[c];return i}var ye="";var be=typeof Symbol=="undefined"?"__"+ye:Symbol.for(ye);var we=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet");var xe=typeof global=="undefined"?window:global;var Se=function(){function t(t,e){this.rules=[];var r=e||{},i=r.process,n=r.extend;function o(t){if(/^@/.test(t))return[t];var e=t.split(",");return i?e.map(i):e}function a(t,e,r){var i=[],s=/^@(\w+)\b/.exec(t[0]);if(s&&e==null)return r.push(t[0]+";");var l=function(l){if(/&/.test(l)){a(t.map((function(t){return n?n(l,t):l.replace(/&/,t)})),e[l],r)}else if(typeof e[l]=="object"){if(!s)throw new RangeError("The value of a property ("+l+") should be a primitive value.");a(s[1]=="keyframes"?[l]:o(l),e[l],i)}else{i.push(l.replace(/_.*/,"").replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))+": "+e[l]+";")}};for(var c in e){l(c)}if(i.length||s&&s[1]=="keyframes")r.push(t.join(",")+" {"+i.join(" ")+"}")}for(var s in t)a(o(s),t[s],this.rules)}t.newName=function(){var t=xe[be]||1;xe[be]=t+1;return ye+t.toString(36)};t.mount=function(t,e){(t[we]||new Qe(t)).mount(Array.isArray(e)?e:[e])};return t}();var ke=null;var Qe=function(){function t(t){if(t.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(ke){t.adoptedStyleSheets=[ke.sheet].concat(t.adoptedStyleSheets);return t[we]=ke}this.sheet=new CSSStyleSheet;t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets);ke=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");var e=t.head||t;e.insertBefore(this.styleTag,e.firstChild)}this.modules=[];t[we]=this}t.prototype.mount=function(t){var e=this.sheet;var r=0,i=0;for(var n=0;n<t.length;n++){var o=t[n],a=this.modules.indexOf(o);if(a<i&&a>-1){this.modules.splice(a,1);i--;a=-1}if(a==-1){this.modules.splice(i++,0,o);if(e)for(var s=0;s<o.rules.length;s++)e.insertRule(o.rules[s],r++)}else{while(i<a)r+=this.modules[i++].rules.length;r+=o.rules.length;i++}}if(!e){var l="";for(var c=0;c<this.modules.length;c++)l+=this.modules[c].rules.join("\n")+"\n";this.styleTag.textContent=l}};return t}();var Pe=function(){function t(){}t.prototype.eq=function(t){return this==t};t.prototype.range=function(t,e){if(e===void 0){e=t}return new Le(t,e,this)};return t}();Pe.prototype.startSide=Pe.prototype.endSide=0;Pe.prototype.point=false;Pe.prototype.mapMode=gt.TrackDel;var Le=function(){function t(t,e,r){this.from=t;this.to=e;this.value=r}return t}();function $e(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var Re=250,Ae=500,Te=1e9;var Ce=function(){function t(t,e,r,i){this.from=t;this.to=e;this.value=r;this.maxPoint=i}Object.defineProperty(t.prototype,"length",{get:function(){return this.to[this.to.length-1]},enumerable:false,configurable:true});t.prototype.findIndex=function(t,e,r,i){if(r===void 0){r=e*Te}if(i===void 0){i=0}if(t<=0)return i;var n=e<0?this.to:this.from;for(var o=i,a=n.length;;){if(o==a)return o;var s=o+a>>1;var l=n[s]-t||(e<0?this.value[s].startSide:this.value[s].endSide)-r;if(s==o)return l>=0?o:a;if(l>=0)a=s;else o=s+1}};t.prototype.between=function(t,e,r,i){for(var n=this.findIndex(e,-1),o=this.findIndex(r,1,undefined,n);n<o;n++)if(i(this.from[n]+t,this.to[n]+t,this.value[n])===false)return false};t.prototype.map=function(e,r){var i=[],n=[],o=[],a=-1,s=-1;for(var l=0;l<this.value.length;l++){var c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,h=void 0,d=void 0;if(u==f){var p=r.mapPos(u,c.startSide,c.mapMode);if(p==null)continue;h=d=p}else{h=r.mapPos(u,c.startSide);d=r.mapPos(f,c.endSide);if(h>d||h==d&&c.startSide>0&&c.endSide<=0)continue}if((d-h||c.endSide-c.startSide)<0)continue;if(a<0)a=h;if(c.point)s=Math.max(s,d-h);i.push(c);n.push(h-a);o.push(d-a)}return{mapped:i.length?new t(n,o,i,s):null,pos:a}};return t}();var Me=function(){function t(e,r,i,n){if(i===void 0){i=t.empty}this.chunkPos=e;this.chunk=r;this.nextLayer=i;this.maxPoint=n}Object.defineProperty(t.prototype,"length",{get:function(){var t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){if(this==t.empty)return 0;var e=this.nextLayer.size;for(var r=0,i=this.chunk;r<i.length;r++){var n=i[r];e+=n.value.length}return e},enumerable:false,configurable:true});t.prototype.chunkEnd=function(t){return this.chunkPos[t]+this.chunk[t].length};t.prototype.update=function(e){var r=e.add,i=r===void 0?[]:r,n=e.sort,o=n===void 0?false:n,a=e.filter,s=e.filterFrom,l=s===void 0?0:s,c=e.filterTo,u=c===void 0?this.length:c;if(i.length==0&&!a)return this;if(o)i.slice().sort($e);if(this==t.empty)return i.length?t.of(i):this;var f=new qe(this,null,-1).goto(0),h=0,d=[];var p=new Ue;while(f.value||h<i.length){if(h<i.length&&(f.from-i[h].from||f.startSide-i[h].value.startSide)>=0){var v=i[h++];if(!p.addInner(v.from,v.to,v.value))d.push(v)}else if(f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(h==i.length||this.chunkEnd(f.chunkIndex)<i[h].from)&&(!a||l>this.chunkEnd(f.chunkIndex)||u<this.chunkPos[f.chunkIndex])&&p.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])){f.nextChunk()}else{if(!a||l>f.to||u<f.from||a(f.from,f.to,f.value)){if(!p.addInner(f.from,f.to,f.value))d.push(new Le(f.from,f.to,f.value))}f.next()}}return p.finishInner(this.nextLayer==t.empty&&!d.length?t.empty:this.nextLayer.update({add:d,filter:a,filterFrom:l,filterTo:u}))};t.prototype.map=function(e){if(e.length==0||this==t.empty)return this;var r=[],i=[],n=-1;for(var o=0;o<this.chunk.length;o++){var a=this.chunkPos[o],s=this.chunk[o];var l=e.touchesRange(a,a+s.length);if(l===false){n=Math.max(n,s.maxPoint);r.push(s);i.push(e.mapPos(a))}else if(l===true){var c=s.map(a,e),u=c.mapped,f=c.pos;if(u){n=Math.max(n,u.maxPoint);r.push(u);i.push(f)}}}var h=this.nextLayer.map(e);return r.length==0?h:new t(i,r,h,n)};t.prototype.between=function(e,r,i){if(this==t.empty)return;for(var n=0;n<this.chunk.length;n++){var o=this.chunkPos[n],a=this.chunk[n];if(r>=o&&e<=o+a.length&&a.between(o,e-o,r-o,i)===false)return}this.nextLayer.between(e,r,i)};t.prototype.iter=function(t){if(t===void 0){t=0}return Xe.from([this]).goto(t)};t.iter=function(t,e){if(e===void 0){e=0}return Xe.from(t).goto(e)};t.compare=function(e,r,i,n){var o;var a=(o=n.minPointSize)!==null&&o!==void 0?o:-1;var s=e.filter((function(e){return e.maxPoint>=Ae||e!=t.empty&&r.indexOf(e)<0&&e.maxPoint>=a}));var l=r.filter((function(r){return r.maxPoint>=Ae||r!=t.empty&&e.indexOf(r)<0&&r.maxPoint>=a}));var c=Ie(s,l);var u=new je(s,c,a);var f=new je(l,c,a);i.iterGaps((function(t,e,r){return We(u,t,f,e,r,n)}));if(i.empty&&i.length==0)We(u,0,f,0,0,n)};t.spans=function(t,e,r,i){var n;var o=new je(t,null,(n=i.minPointSize)!==null&&n!==void 0?n:-1).goto(e),a=e;var s=o.openStart;for(;;){var l=Math.min(o.to,r);if(o.point){i.point(a,l,o.point,o.activeForPoint(o.to),s);s=o.openEnd(l)+(o.to>l?1:0)}else if(l>a){i.span(a,l,o.active,s);s=o.openEnd(l)}if(o.to>r)break;a=o.to;o.next()}return s};t.of=function(t,e){if(e===void 0){e=false}var r=new Ue;for(var i=0,n=t instanceof Le?[t]:e?t.slice().sort($e):t;i<n.length;i++){var o=n[i];r.add(o.from,o.to,o.value)}return r.finish()};return t}();Me.empty=new Me([],[],null,-1);Me.empty.nextLayer=Me.empty;var Ue=function(){function t(){this.chunks=[];this.chunkPos=[];this.chunkStart=-1;this.last=null;this.lastFrom=-Te;this.lastTo=-Te;this.from=[];this.to=[];this.value=[];this.maxPoint=-1;this.setMaxPoint=-1;this.nextLayer=null}t.prototype.finishChunk=function(t){this.chunks.push(new Ce(this.from,this.to,this.value,this.maxPoint));this.chunkPos.push(this.chunkStart);this.chunkStart=-1;this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint);this.maxPoint=-1;if(t){this.from=[];this.to=[];this.value=[]}};t.prototype.add=function(e,r,i){if(!this.addInner(e,r,i))(this.nextLayer||(this.nextLayer=new t)).add(e,r,i)};t.prototype.addInner=function(t,e,r){var i=t-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");if(i<0)return false;if(this.from.length==Re)this.finishChunk(true);if(this.chunkStart<0)this.chunkStart=t;this.from.push(t-this.chunkStart);this.to.push(e-this.chunkStart);this.last=r;this.lastFrom=t;this.lastTo=e;this.value.push(r);if(r.point)this.maxPoint=Math.max(this.maxPoint,e-t);return true};t.prototype.addChunk=function(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return false;if(this.from.length)this.finishChunk(true);this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint);this.chunks.push(e);this.chunkPos.push(t);var r=e.value.length-1;this.last=e.value[r];this.lastFrom=e.from[r]+t;this.lastTo=e.to[r]+t;return true};t.prototype.finish=function(){return this.finishInner(Me.empty)};t.prototype.finishInner=function(t){if(this.from.length)this.finishChunk(false);if(this.chunks.length==0)return t;var e=new Me(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);this.from=null;return e};return t}();function Ie(t,e){var r=new Map;for(var i=0,n=t;i<n.length;i++){var o=n[i];for(var a=0;a<o.chunk.length;a++)if(o.chunk[a].maxPoint<Ae)r.set(o.chunk[a],o.chunkPos[a])}var s=new Set;for(var l=0,c=e;l<c.length;l++){var o=c[l];for(var u=0;u<o.chunk.length;u++)if(r.get(o.chunk[u])==o.chunkPos[u])s.add(o.chunk[u])}return s}var qe=function(){function t(t,e,r,i){if(i===void 0){i=0}this.layer=t;this.skip=e;this.minPoint=r;this.rank=i}Object.defineProperty(t.prototype,"startSide",{get:function(){return this.value?this.value.startSide:0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"endSide",{get:function(){return this.value?this.value.endSide:0},enumerable:false,configurable:true});t.prototype.goto=function(t,e){if(e===void 0){e=-Te}this.chunkIndex=this.rangeIndex=0;this.gotoInner(t,e,false);return this};t.prototype.gotoInner=function(t,e,r){while(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++;r=false}var n=this.chunkIndex==this.layer.chunk.length?0:this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],-1,e);if(!r||this.rangeIndex<n)this.rangeIndex=n;this.next()};t.prototype.forward=function(t,e){if((this.to-t||this.endSide-e)<0)this.gotoInner(t,e,true)};t.prototype.next=function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=Te;this.value=null;break}else{var t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex];var r=t+e.from[this.rangeIndex];this.from=r;this.to=t+e.to[this.rangeIndex];this.value=e.value[this.rangeIndex];if(++this.rangeIndex==e.value.length){this.chunkIndex++;if(this.skip){while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++}this.rangeIndex=0}if(this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}};t.prototype.nextChunk=function(){this.chunkIndex++;this.rangeIndex=0;this.next()};t.prototype.compare=function(t){return this.from-t.from||this.startSide-t.startSide||this.to-t.to||this.endSide-t.endSide};return t}();var Xe=function(){function t(t){this.heap=t}t.from=function(e,r,i){if(r===void 0){r=null}if(i===void 0){i=-1}var n=[];for(var o=0;o<e.length;o++){for(var a=e[o];a!=Me.empty;a=a.nextLayer){if(a.maxPoint>=i)n.push(new qe(a,r,i,o))}}return n.length==1?n[0]:new t(n)};Object.defineProperty(t.prototype,"startSide",{get:function(){return this.value?this.value.startSide:0},enumerable:false,configurable:true});t.prototype.goto=function(t,e){if(e===void 0){e=-Te}for(var r=0,i=this.heap;r<i.length;r++){var n=i[r];n.goto(t,e)}for(var o=this.heap.length>>1;o>=0;o--)Ee(this.heap,o);this.next();return this};t.prototype.forward=function(t,e){for(var r=0,i=this.heap;r<i.length;r++){var n=i[r];n.forward(t,e)}for(var o=this.heap.length>>1;o>=0;o--)Ee(this.heap,o);if((this.to-t||this.value.endSide-e)<0)this.next()};t.prototype.next=function(){if(this.heap.length==0){this.from=this.to=Te;this.value=null;this.rank=-1}else{var t=this.heap[0];this.from=t.from;this.to=t.to;this.value=t.value;this.rank=t.rank;if(t.value)t.next();Ee(this.heap,0)}};return t}();function Ee(t,e){for(var r=t[e];;){var i=(e<<1)+1;if(i>=t.length)break;var n=t[i];if(i+1<t.length&&n.compare(t[i+1])>=0){n=t[i+1];i++}if(r.compare(n)<0)break;t[i]=r;t[e]=n;e=i}}var je=function(){function t(t,e,r){this.minPoint=r;this.active=[];this.activeTo=[];this.activeRank=[];this.minActive=-1;this.point=null;this.pointFrom=0;this.pointRank=0;this.to=-Te;this.endSide=0;this.openStart=-1;this.cursor=Xe.from(t,e,r)}t.prototype.goto=function(t,e){if(e===void 0){e=-Te}this.cursor.goto(t,e);this.active.length=this.activeTo.length=this.activeRank.length=0;this.minActive=-1;this.to=t;this.endSide=e;this.openStart=-1;this.next();return this};t.prototype.forward=function(t,e){while(this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0)this.removeActive(this.minActive);this.cursor.forward(t,e)};t.prototype.removeActive=function(t){_e(this.active,t);_e(this.activeTo,t);_e(this.activeRank,t);this.minActive=Be(this.active,this.activeTo)};t.prototype.addActive=function(t){var e=0,r=this.cursor,i=r.value,n=r.to,o=r.rank;while(e<this.activeRank.length&&this.activeRank[e]<=o)e++;Ve(this.active,e,i);Ve(this.activeTo,e,n);Ve(this.activeRank,e,o);if(t)Ve(t,e,this.cursor.from);this.minActive=Be(this.active,this.activeTo)};t.prototype.next=function(){var t=this.to;this.point=null;var e=this.openStart<0?[]:null,r=0;for(;;){var i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i];this.endSide=this.active[i].endSide;break}this.removeActive(i);if(e)_e(e,i)}else if(!this.cursor.value){this.to=this.endSide=Te;break}else if(this.cursor.from>t){this.to=this.cursor.from;this.endSide=this.cursor.startSide;break}else{var n=this.cursor.value;if(!n.point){this.addActive(e);this.cursor.next()}else{this.point=n;this.pointFrom=this.cursor.from;this.pointRank=this.cursor.rank;this.to=this.cursor.to;this.endSide=n.endSide;if(this.cursor.from<t)r=1;this.cursor.next();if(this.to>t)this.forward(this.to,this.endSide);break}}}if(e){var o=0;while(o<e.length&&e[o]<t)o++;this.openStart=o+r}};t.prototype.activeForPoint=function(t){if(!this.active.length)return this.active;var e=[];for(var r=0;r<this.active.length;r++){if(this.activeRank[r]>this.pointRank)break;if(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>this.point.endSide)e.push(this.active[r])}return e};t.prototype.openEnd=function(t){var e=0;while(e<this.activeTo.length&&this.activeTo[e]>t)e++;return e};return t}();function We(t,e,r,i,n,o){t.goto(e);r.goto(i);var a=i+n;var s=i,l=i-e;for(;;){var c=t.to+l-r.to||t.endSide-r.endSide;var u=c<0?t.to+l:r.to,f=Math.min(u,a);if(t.point||r.point){if(!(t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))))o.comparePoint(s,f,t.point,r.point)}else{if(f>s&&!De(t.active,r.active))o.compareRange(s,f,t.active,r.active)}if(u>a)break;s=u;if(c<=0)t.next();if(c>=0)r.next()}}function De(t,e){if(t.length!=e.length)return false;for(var r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return false;return true}function _e(t,e){for(var r=e,i=t.length-1;r<i;r++)t[r]=t[r+1];t.pop()}function Ve(t,e,r){for(var i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=r}function Be(t,e){var r=-1,i=Te;for(var n=0;n<e.length;n++)if((e[n]-i||t[n].endSide-t[r].endSide)<0){r=n;i=e[n]}return r}var ze={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"};var Ne={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};var Fe=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent);var Ge=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor);var Ye=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent);var He=typeof navigator!="undefined"&&/Mac/.test(navigator.platform);var Ze=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);var Ke=Fe&&(He||+Fe[1]<57)||Ye&&He;for(var Je=0;Je<10;Je++)ze[48+Je]=ze[96+Je]=String(Je);for(var Je=1;Je<=24;Je++)ze[Je+111]="F"+Je;for(var Je=65;Je<=90;Je++){ze[Je]=String.fromCharCode(Je+32);Ne[Je]=String.fromCharCode(Je)}for(var tr in ze)if(!Ne.hasOwnProperty(tr))Ne[tr]=ze[tr];function er(t){var e=Ke&&(t.ctrlKey||t.altKey||t.metaKey)||(Ge||Ze)&&t.shiftKey&&t.key&&t.key.length==1;var r=!e&&t.key||(t.shiftKey?Ne:ze)[t.keyCode]||t.key||"Unidentified";if(r=="Esc")r="Escape";if(r=="Del")r="Delete";if(r=="Left")r="ArrowLeft";if(r=="Up")r="ArrowUp";if(r=="Right")r="ArrowRight";if(r=="Down")r="ArrowDown";return r}var rr=typeof navigator!="undefined"?[navigator,document]:[{userAgent:"",vendor:"",platform:""},{documentElement:{style:{}}}],ir=rr[0],nr=rr[1];var or=/Edge\/(\d+)/.exec(ir.userAgent);var ar=/MSIE \d/.test(ir.userAgent);var sr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ir.userAgent);var lr=!!(ar||sr||or);var cr=!lr&&/gecko\/(\d+)/i.test(ir.userAgent);var ur=!lr&&/Chrome\/(\d+)/.exec(ir.userAgent);var fr="webkitFontSmoothing"in nr.documentElement.style;var hr={mac:/Mac/.test(ir.platform),ie:lr,ie_version:ar?nr.documentMode||6:sr?+sr[1]:or?+or[1]:0,gecko:cr,gecko_version:cr?+(/Firefox\/(\d+)/.exec(ir.userAgent)||[0,0])[1]:0,chrome:!!ur,chrome_version:ur?+ur[1]:0,ios:!lr&&/AppleWebKit/.test(ir.userAgent)&&/Mobile\/\w+/.test(ir.userAgent),android:/Android\b/.test(ir.userAgent),webkit:fr,safari:/Apple Computer/.test(ir.vendor),webkit_version:fr?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:nr.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function dr(t){return t.getSelection?t.getSelection():document.getSelection()}function pr(t){var e=t.isCollapsed;if(e&&hr.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed)e=false;return e}function vr(t,e){if(!e.anchorNode)return false;try{return t.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)}catch(dd){return false}}function gr(t){if(t.nodeType==3){var e=Rr();e.setEnd(t,t.nodeValue.length);e.setStart(t,0);return e.getClientRects()}else if(t.nodeType==1){return t.getClientRects()}else{return[]}}function mr(t,e,r,i){return r?yr(t,e,r,i,-1)||yr(t,e,r,i,1):false}function Or(t){for(var e=0;;e++){t=t.previousSibling;if(!t)return e}}function yr(t,e,r,i,n){for(;;){if(t==r&&e==i)return true;if(e==(n<0?0:br(t))){if(t.nodeName=="DIV")return false;var o=t.parentNode;if(!o||o.nodeType!=1)return false;e=Or(t)+(n<0?0:1);t=o}else if(t.nodeType==1){t=t.childNodes[e+(n<0?-1:0)];e=n<0?br(t):0}else{return false}}}function br(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function wr(t,e){var r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function xr(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}var Sr=5;function kr(t,e){var r=t.ownerDocument,i=r.defaultView;for(var n=t.parentNode;n;){if(n.nodeType==1){var o=void 0,a=n==document.body;if(a){o=xr(i)}else{if(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth){n=n.parentNode;continue}var s=n.getBoundingClientRect();o={left:s.left,right:s.left+n.clientWidth,top:s.top,bottom:s.top+n.clientHeight}}var l=0,c=0;if(e.top<o.top)c=-(o.top-e.top+Sr);else if(e.bottom>o.bottom)c=e.bottom-o.bottom+Sr;if(e.left<o.left)l=-(o.left-e.left+Sr);else if(e.right>o.right)l=e.right-o.right+Sr;if(l||c){if(a){i.scrollBy(l,c)}else{if(c){var u=n.scrollTop;n.scrollTop+=c;c=n.scrollTop-u}if(l){var u=n.scrollLeft;n.scrollLeft+=l;l=n.scrollLeft-u}e={left:e.left-l,top:e.top-c,right:e.right-l,bottom:e.bottom-c}}}if(a)break;n=n.parentNode}else if(n.nodeType==11){n=n.host}else{break}}}var Qr=function(){function t(){this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}t.prototype.eq=function(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset};t.prototype.set=function(t){this.anchorNode=t.anchorNode;this.anchorOffset=t.anchorOffset;this.focusNode=t.focusNode;this.focusOffset=t.focusOffset};return t}();var Pr=null;function Lr(t){if(t.setActive)return t.setActive();if(Pr)return t.focus(Pr);var e=[];for(var r=t;r;r=r.parentNode){e.push(r,r.scrollTop,r.scrollLeft);if(r==r.ownerDocument)break}t.focus(Pr==null?{get preventScroll(){Pr={preventScroll:true};return true}}:undefined);if(!Pr){Pr=false;for(var i=0;i<e.length;){var n=e[i++],o=e[i++],a=e[i++];if(n.scrollTop!=o)n.scrollTop=o;if(n.scrollLeft!=a)n.scrollLeft=a}}}var $r;function Rr(){return $r||($r=document.createRange())}var Ar=function(){function t(t,e,r){if(r===void 0){r=true}this.node=t;this.offset=e;this.precise=r}t.before=function(e,r){return new t(e.parentNode,Or(e),r)};t.after=function(e,r){return new t(e.parentNode,Or(e)+1,r)};return t}();var Tr=[];var Cr=function(){function t(){this.parent=null;this.dom=null;this.dirty=2}Object.defineProperty(t.prototype,"editorView",{get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"overrideDOMText",{get:function(){return null},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"posAtStart",{get:function(){return this.parent?this.parent.posBefore(this):0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"posAtEnd",{get:function(){return this.posAtStart+this.length},enumerable:false,configurable:true});t.prototype.posBefore=function(t){var e=this.posAtStart;for(var r=0,i=this.children;r<i.length;r++){var n=i[r];if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")};t.prototype.posAfter=function(t){return this.posBefore(t)+t.length};t.prototype.coordsAt=function(t,e){return null};t.prototype.sync=function(e){if(this.dirty&2){var r=this.dom,i=null;for(var n=0,o=this.children;n<o.length;n++){var a=o[n];if(a.dirty){var s=i?i.nextSibling:r.firstChild;if(s&&!a.dom&&!t.get(s))a.reuseDOM(s);a.sync(e);a.dirty=0}if(e&&e.node==r&&i!=a.dom)e.written=true;Ur(r,i,a.dom);i=a.dom}var l=i?i.nextSibling:r.firstChild;if(l&&e&&e.node==r)e.written=true;while(l)l=Mr(l)}else if(this.dirty&1){for(var c=0,u=this.children;c<u.length;c++){var a=u[c];if(a.dirty){a.sync(e);a.dirty=0}}}};t.prototype.reuseDOM=function(t){return false};t.prototype.localPosFromDOM=function(e,r){var i;if(e==this.dom){i=this.dom.childNodes[r]}else{var n=br(e)==0?0:r==0?-1:1;for(;;){var o=e.parentNode;if(o==this.dom)break;if(n==0&&o.firstChild!=o.lastChild){if(e==o.firstChild)n=-1;else n=1}e=o}if(n<0)i=e;else i=e.nextSibling}if(i==this.dom.firstChild)return 0;while(i&&!t.get(i))i=i.nextSibling;if(!i)return this.length;for(var a=0,s=0;;a++){var l=this.children[a];if(l.dom==i)return s;s+=l.length+l.breakAfter}};t.prototype.domBoundsAround=function(t,e,r){if(r===void 0){r=0}var i=-1,n=-1,o=-1,a=-1;for(var s=0,l=r;s<this.children.length;s++){var c=this.children[s],u=l+c.length;if(l<t&&u>e)return c.domBoundsAround(t,e,l);if(u>=t&&i==-1){i=s;n=l}if(u>=e&&u!=l&&o==-1){o=s;a=u;break}l=u+c.breakAfter}return{from:n,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length-1&&o>=0?this.children[o+1].dom:null}};t.prototype.markDirty=function(t){if(t===void 0){t=false}if(this.dirty&2)return;this.dirty|=2;this.markParentsDirty(t)};t.prototype.markParentsDirty=function(t){for(var e=this.parent;e;e=e.parent){if(t)e.dirty|=2;if(e.dirty&1)return;e.dirty|=1;t=false}};t.prototype.setParent=function(t){if(this.parent!=t){this.parent=t;if(this.dirty)this.markParentsDirty(true)}};t.prototype.setDOM=function(t){this.dom=t;t.cmView=this};Object.defineProperty(t.prototype,"rootView",{get:function(){for(var t=this;;){var e=t.parent;if(!e)return t;t=e}},enumerable:false,configurable:true});t.prototype.replaceChildren=function(t,e,r){var i;if(r===void 0){r=Tr}this.markDirty();for(var n=t;n<e;n++)this.children[n].parent=null;(i=this.children).splice.apply(i,__spreadArrays([t,e-t],r));for(var o=0;o<r.length;o++)r[o].setParent(this)};t.prototype.ignoreMutation=function(t){return false};t.prototype.ignoreEvent=function(t){return false};t.prototype.childCursor=function(t){if(t===void 0){t=this.length}return new Ir(this.children,t,this.children.length)};t.prototype.childPos=function(t,e){if(e===void 0){e=1}return this.childCursor().findPos(t,e)};t.prototype.toString=function(){var t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")};t.get=function(t){return t.cmView};return t}();Cr.prototype.breakAfter=0;function Mr(t){var e=t.nextSibling;t.parentNode.removeChild(t);return e}function Ur(t,e,r){var i=e?e.nextSibling:t.firstChild;if(r.parentNode==t)while(i!=r)i=Mr(i);else t.insertBefore(r,i)}var Ir=function(){function t(t,e,r){this.children=t;this.pos=e;this.i=r;this.off=0}t.prototype.findPos=function(t,e){if(e===void 0){e=1}for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter)){this.off=t-this.pos;return this}var r=this.children[--this.i];this.pos-=r.length+r.breakAfter}};return t}();var qr=[];var Xr=function(t){mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.become=function(t){return false};e.prototype.getSide=function(){return 0};return e}(Cr);Xr.prototype.children=qr;var Er=256;var jr=function(t){mf(e,t);function e(e){var r=t.call(this)||this;r.text=e;return r}Object.defineProperty(e.prototype,"length",{get:function(){return this.text.length},enumerable:false,configurable:true});e.prototype.createDOM=function(t){this.setDOM(t||document.createTextNode(this.text))};e.prototype.sync=function(t){if(!this.dom)this.createDOM();if(this.dom.nodeValue!=this.text){if(t&&t.node==this.dom)t.written=true;this.dom.nodeValue=this.text}};e.prototype.reuseDOM=function(t){if(t.nodeType!=3)return false;this.createDOM(t);return true};e.prototype.merge=function(t,r,i){if(i&&(!(i instanceof e)||this.length-(r-t)+i.length>Er))return false;this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(r);this.markDirty();return true};e.prototype.slice=function(t){return new e(this.text.slice(t))};e.prototype.localPosFromDOM=function(t,e){return t==this.dom?e:e?this.text.length:0};e.prototype.domAtPos=function(t){return new Ar(this.dom,t)};e.prototype.domBoundsAround=function(t,e,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}};e.prototype.coordsAt=function(t,e){return Dr(this.dom,t,e,this.length)};return e}(Xr);var Wr=function(t){mf(e,t);function e(e,r,i){if(r===void 0){r=[]}if(i===void 0){i=0}var n=t.call(this)||this;n.mark=e;n.children=r;n.length=i;for(var o=0,a=r;o<a.length;o++){var s=a[o];s.setParent(n)}return n}e.prototype.createDOM=function(){var t=document.createElement(this.mark.tagName);if(this.mark.class)t.className=this.mark.class;if(this.mark.attrs)for(var e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);this.setDOM(t)};e.prototype.sync=function(e){if(!this.dom)this.createDOM();t.prototype.sync.call(this,e)};e.prototype.merge=function(t,r,i,n,o){if(i&&(!(i instanceof e&&i.mark.eq(this.mark))||t&&n<=0||r<this.length&&o<=0))return false;Br(this,t,r,i?i.children:qr,n-1,o-1);this.markDirty();return true};e.prototype.slice=function(t){return new e(this.mark,zr(this.children,t),this.length-t)};e.prototype.domAtPos=function(t){return Nr(this.dom,this.children,t)};e.prototype.coordsAt=function(t,e){return Gr(this,t,e)};return e}(Xr);function Dr(t,e,r,i){var n=e,o=e,a=0;if(e==0&&r<0||e==i&&r>=0){if(!(hr.chrome||hr.gecko)){if(e){n--;a=1}else{o++;a=-1}}}else{if(r<0)n--;else o++}var s=Rr();s.setEnd(t,o);s.setStart(t,n);var l=s.getBoundingClientRect();return a?wr(l,a<0):l}var _r=function(t){mf(e,t);function e(e,r,i){var n=t.call(this)||this;n.widget=e;n.length=r;n.side=i;return n}e.create=function(t,r,i){return new(t.customView||e)(t,r,i)};e.prototype.slice=function(t){return e.create(this.widget,this.length-t,this.side)};e.prototype.sync=function(){if(!this.dom||!this.widget.updateDOM(this.dom)){this.setDOM(this.widget.toDOM(this.editorView));this.dom.contentEditable="false"}};e.prototype.getSide=function(){return this.side};e.prototype.merge=function(t,r,i,n,o){if(i&&(!(i instanceof e)||!this.widget.compare(i.widget)||t>0&&n<=0||r<this.length&&o<=0))return false;this.length=t+(i?i.length:0)+(this.length-r);return true};e.prototype.become=function(t){if(t.length==this.length&&t instanceof e&&t.side==this.side){if(this.widget.constructor==t.widget.constructor){if(!this.widget.eq(t.widget))this.markDirty(true);this.widget=t.widget;return true}}return false};e.prototype.ignoreMutation=function(){return true};e.prototype.ignoreEvent=function(t){return this.widget.ignoreEvent(t)};Object.defineProperty(e.prototype,"overrideDOMText",{get:function(){if(this.length==0)return M.empty;var t=this;while(t.parent)t=t.parent;var e=t.editorView,r=e&&e.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):M.empty},enumerable:false,configurable:true});e.prototype.domAtPos=function(t){return t==0?Ar.before(this.dom):Ar.after(this.dom,t==this.length)};e.prototype.domBoundsAround=function(){return null};e.prototype.coordsAt=function(t,e){var r=this.dom.getClientRects(),i=null;for(var n=t>0?r.length-1:0;;n+=t>0?-1:1){i=r[n];if(t>0?n==0:n==r.length-1||i.top<i.bottom)break}return i};return e}(Xr);var Vr=function(t){mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.domAtPos=function(t){return new Ar(this.widget.text,t)};e.prototype.sync=function(){if(!this.dom)this.setDOM(this.widget.toDOM())};e.prototype.localPosFromDOM=function(t,e){return!e?0:t.nodeType==3?Math.min(e,this.length):this.length};e.prototype.ignoreMutation=function(){return false};Object.defineProperty(e.prototype,"overrideDOMText",{get:function(){return null},enumerable:false,configurable:true});e.prototype.coordsAt=function(t,e){return Dr(this.widget.text,t,e,this.length)};return e}(_r);function Br(t,e,r,i,n,o){var a=t.childCursor();var s=a.findPos(r,1),l=s.i,c=s.off;var u=a.findPos(e,-1),f=u.i,h=u.off;var d=e-r;for(var p=0,v=i;p<v.length;p++){var g=v[p];d+=g.length}t.length+=d;var m=t.children;if(f==l&&h){var O=m[f];if(i.length==1&&O.merge(h,c,i[0],n,o))return;if(i.length==0){O.merge(h,c,null,n,o);return}var y=O.slice(c);if(y.merge(0,0,i[i.length-1],0,o))i[i.length-1]=y;else i.push(y);l++;o=c=0}if(c){var b=m[l];if(i.length&&b.merge(0,c,i[i.length-1],0,o)){i.pop();o=0}else{b.merge(0,c,null,0,0)}}else if(l<m.length&&i.length&&m[l].merge(0,0,i[i.length-1],0,o)){i.pop();o=0}if(h){var O=m[f];if(i.length&&O.merge(h,O.length,i[0],n,0)){i.shift();n=0}else{O.merge(h,O.length,null,0,0)}f++}else if(f&&i.length){var b=m[f-1];if(b.merge(b.length,b.length,i[0],n,0)){i.shift();n=0}}while(f<l&&i.length&&m[l-1].become(i[i.length-1])){i.pop();l--;o=0}while(f<l&&i.length&&m[f].become(i[0])){i.shift();f++;n=0}if(!i.length&&f&&l<m.length&&n&&o&&m[l].merge(0,0,m[f-1],n,o))f--;if(i.length||f!=l)t.replaceChildren(f,l,i)}function zr(t,e){var r=[],i=0;for(var n=0,o=t;n<o.length;n++){var a=o[n];var s=i+a.length;if(s>e)r.push(i<e?a.slice(e-i):a);i=s}return r}function Nr(t,e,r){var i=0;for(var n=0;i<e.length;i++){var o=e[i],a=n+o.length;if(a==n&&o.getSide()<=0)continue;if(r>n&&r<a&&o.dom.parentNode==t)return o.domAtPos(r-n);if(r<=n)break;n=a}for(;i>0;i--){var s=e[i-1].dom;if(s.parentNode==t)return Ar.after(s)}return new Ar(t,0)}function Fr(t,e,r){var i,n=t.children;if(r>0&&e instanceof Wr&&n.length&&(i=n[n.length-1])instanceof Wr&&i.mark.eq(e.mark)){Fr(i,e.children[0],r-1)}else{n.push(e);e.setParent(t)}t.length+=e.length}function Gr(t,e,r){for(var i=0,n=0;n<t.children.length;n++){var o=t.children[n],a=i+o.length;if(a==i&&o.getSide()<=0)continue;if(r<=0||a==t.length?a>=e:a>e)return o.coordsAt(e-i,r);i=a}return(t.dom.lastChild||t.dom).getBoundingClientRect()}function Yr(t,e){for(var r in t){if(r=="class"&&e.class)e.class+=" "+t.class;else if(r=="style"&&e.style)e.style+=";"+t.style;else e[r]=t[r]}return e}function Hr(t,e){if(t==e)return true;if(!t||!e)return false;var r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return false;for(var n=0,o=r;n<o.length;n++){var a=o[n];if(i.indexOf(a)==-1||t[a]!==e[a])return false}return true}function Zr(t,e,r){if(e)for(var i in e)if(!(r&&i in r))t.removeAttribute(i);if(r)for(var i in r)if(!(e&&e[i]==r[i]))t.setAttribute(i,r[i])}var Kr=function(){function t(){}t.prototype.eq=function(t){return false};t.prototype.updateDOM=function(t){return false};t.prototype.compare=function(t){return this==t||this.constructor==t.constructor&&this.eq(t)};Object.defineProperty(t.prototype,"estimatedHeight",{get:function(){return-1},enumerable:false,configurable:true});t.prototype.ignoreEvent=function(t){return true};Object.defineProperty(t.prototype,"customView",{get:function(){return null},enumerable:false,configurable:true});return t}();var Jr;(function(t){t[t["Text"]=0]="Text";t[t["WidgetBefore"]=1]="WidgetBefore";t[t["WidgetAfter"]=2]="WidgetAfter";t[t["WidgetRange"]=3]="WidgetRange"})(Jr||(Jr={}));var ti=function(t){mf(e,t);function e(e,r,i,n){var o=t.call(this)||this;o.startSide=e;o.endSide=r;o.widget=i;o.spec=n;return o}Object.defineProperty(e.prototype,"heightRelevant",{get:function(){return false},enumerable:false,configurable:true});e.mark=function(t){return new ei(t)};e.widget=function(t){var e=t.side||0;if(t.block)e+=(2e8+1)*(e>0?1:-1);return new ii(t,e,e,!!t.block,t.widget||null,false)};e.replace=function(t){var e=!!t.block;var r=ni(t),i=r.start,n=r.end;var o=e?-2e8*(i?2:1):1e8*(i?-1:1);var a=e?2e8*(n?2:1):1e8*(n?1:-1);return new ii(t,o,a,e,t.widget||null,true)};e.line=function(t){return new ri(t)};e.set=function(t,e){if(e===void 0){e=false}return Me.of(t,e)};e.prototype.hasHeight=function(){return this.widget?this.widget.estimatedHeight>-1:false};return e}(Pe);ti.none=Me.empty;var ei=function(t){mf(e,t);function e(e){var r=this;var i=ni(e),n=i.start,o=i.end;r=t.call(this,1e8*(n?-1:1),1e8*(o?1:-1),null,e)||this;r.tagName=e.tagName||"span";r.class=e.class||"";r.attrs=e.attributes||null;return r}e.prototype.eq=function(t){return this==t||t instanceof e&&this.tagName==t.tagName&&this.class==t.class&&Hr(this.attrs,t.attrs)};e.prototype.range=function(e,r){if(r===void 0){r=e}if(e>=r)throw new RangeError("Mark decorations may not be empty");return t.prototype.range.call(this,e,r)};return e}(ti);ei.prototype.point=false;var ri=function(t){mf(e,t);function e(e){return t.call(this,-1e8,-1e8,null,e)||this}e.prototype.eq=function(t){return t instanceof e&&Hr(this.spec.attributes,t.spec.attributes)};e.prototype.range=function(e,r){if(r===void 0){r=e}if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return t.prototype.range.call(this,e,r)};return e}(ti);ri.prototype.mapMode=gt.TrackBefore;ri.prototype.point=true;var ii=function(t){mf(e,t);function e(e,r,i,n,o,a){var s=t.call(this,r,i,o,e)||this;s.block=n;s.isReplace=a;s.mapMode=!n?gt.TrackDel:r<0?gt.TrackBefore:gt.TrackAfter;return s}Object.defineProperty(e.prototype,"type",{get:function(){return this.startSide<this.endSide?Jr.WidgetRange:this.startSide<0?Jr.WidgetBefore:Jr.WidgetAfter},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"heightRelevant",{get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5},enumerable:false,configurable:true});e.prototype.eq=function(t){return t instanceof e&&oi(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide};e.prototype.range=function(e,r){if(r===void 0){r=e}if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return t.prototype.range.call(this,e,r)};return e}(ti);ii.prototype.point=true;function ni(t){var e=t.inclusiveStart,r=t.inclusiveEnd;if(e==null)e=t.inclusive;if(r==null)r=t.inclusive;return{start:e||false,end:r||false}}function oi(t,e){return t==e||!!(t&&e&&t.compare(e))}var ai=4;function si(t,e,r){var i=r.length-1;if(i>=0&&r[i]+ai>t)r[i]=Math.max(r[i],e);else r.push(t,e)}var li=At.define({combine:function(t){return t.join(" ")}});var ci=At.define({combine:function(t){return t.indexOf(true)>-1}});var ui=Se.newName();function fi(t){return t.replace(/\$\w[\w\.]*/g,(function(t){var e=t.slice(1).split("."),r="";for(var i=1;i<=e.length;i++)r+=".cm-"+e.slice(0,i).join("-");return r}))}function hi(t,e){return new Se(e,{process:function(e){e=fi(e);return/\$/.test(e)?e.replace(/\$/,t):t+" "+e},extend:function(e,r){e=fi(e);return r.slice(0,t.length+1)==t+" "?t+" "+e.replace(/&/,r.slice(t.length+1)):e.replace(/&/,r)}})}function di(t){if(t.indexOf(".")<0)return"cm-"+t;var e=t.split("."),r="";for(var i=1;i<=e.length;i++)r+=(r?" ":"")+"cm-"+e.slice(0,i).join("-");return r}var pi=hi("."+ui,{$:{position:"relative !important",boxSizing:"border-box","&$focused":{outline_fallback:"1px dotted #212121",outline:"5px auto -webkit-focus-ring-color"},display:"flex !important",flexDirection:"column"},$scroller:{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},$content:{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",boxSizing:"border-box",padding:"4px 0",outline:"none"},"$$light $content":{caretColor:"black"},"$$dark $content":{caretColor:"white"},$line:{display:"block",padding:"0 2px 0 4px"},$selectionLayer:{zIndex:-1,contain:"size style"},$selectionBackground:{position:"absolute"},"$$light $selectionBackground":{background:"#d9d9d9"},"$$dark $selectionBackground":{background:"#222"},"$$focused$light $selectionBackground":{background:"#d7d4f0"},"$$focused$dark $selectionBackground":{background:"#233"},$cursorLayer:{zIndex:100,contain:"size style",pointerEvents:"none"},"$$focused $cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},$cursor:{position:"absolute",borderLeft:"1.2px solid #aaa",marginLeft:"-0.6px",pointerEvents:"none"},"$$focused $cursor":{borderLeft:"1.2px solid black"},$placeholder:{color:"#888",display:"inline-block"},$button:{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"3px"},"$$light $button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"$$dark $button":{backgroundImage:"linear-gradient(#555, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},$textfield:{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"$$light $textfield":{backgroundColor:"white"},"$$dark $textfield":{border:"1px solid #555",backgroundColor:"inherit"}});var vi=di("line");var gi=function(t){mf(e,t);function e(){var e=t.apply(this,arguments)||this;e.children=[];e.length=0;e.prevAttrs=undefined;e.attrs=null;e.breakAfter=0;return e}e.prototype.merge=function(t,r,i,n,o,a){if(i){if(!(i instanceof e))return false;if(!this.dom)i.transferDOM(this)}if(n)this.setDeco(i?i.attrs:null);Br(this,t,r,i?i.children:mi,o,a);return true};e.prototype.split=function(t){var r=new e;r.breakAfter=this.breakAfter;if(this.length==0)return r;var i=this.childPos(t),n=i.i,o=i.off;if(o){r.append(this.children[n].slice(o),0);this.children[n].merge(o,this.children[n].length,null,0,0);n++}for(var a=n;a<this.children.length;a++)r.append(this.children[a],0);while(n>0&&this.children[n-1].length==0){this.children[n-1].parent=null;n--}this.children.length=n;this.markDirty();this.length=t;return r};e.prototype.transferDOM=function(t){if(!this.dom)return;t.setDOM(this.dom);t.prevAttrs=this.prevAttrs===undefined?this.attrs:this.prevAttrs;this.prevAttrs=undefined;this.dom=null};e.prototype.setDeco=function(t){if(!Hr(this.attrs,t)){if(this.dom){this.prevAttrs=this.attrs;this.markDirty()}this.attrs=t}};e.prototype.append=function(t,e){Fr(this,t,e)};e.prototype.addLineDeco=function(t){var e=t.spec.attributes;if(e)this.attrs=Yr(e,this.attrs||{})};e.prototype.domAtPos=function(t){return Nr(this.dom,this.children,t)};e.prototype.sync=function(e){if(!this.dom){this.setDOM(document.createElement("div"));this.dom.className=vi;this.prevAttrs=this.attrs?null:undefined}if(this.prevAttrs!==undefined){Zr(this.dom,this.prevAttrs,this.attrs);this.dom.classList.add(vi);this.prevAttrs=undefined}t.prototype.sync.call(this,e);var r=this.dom.lastChild;if(!r||r.nodeName!="BR"&&Cr.get(r)instanceof _r){var i=document.createElement("BR");i.cmIgnore=true;this.dom.appendChild(i)}};e.prototype.measureTextSize=function(){if(this.children.length==0||this.length>20)return null;var t=0;for(var e=0,r=this.children;e<r.length;e++){var i=r[e];if(!(i instanceof jr))return null;var n=gr(i.dom);if(n.length!=1)return null;t+=n[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}};e.prototype.coordsAt=function(t,e){return Gr(this,t,e)};e.prototype.match=function(t){return false};Object.defineProperty(e.prototype,"type",{get:function(){return Jr.Text},enumerable:false,configurable:true});e.find=function(t,r){for(var i=0,n=0;;i++){var o=t.children[i],a=n+o.length;if(a>=r){if(o instanceof e)return o;if(o.length)return null}n=a+o.breakAfter}};return e}(Cr);var mi=[];var Oi=function(t){mf(e,t);function e(e,r,i){var n=t.call(this)||this;n.widget=e;n.length=r;n.type=i;n.breakAfter=0;return n}e.prototype.merge=function(t,r,i,n,o,a){if(i&&(!(i instanceof e)||!this.widget.compare(i.widget)||t>0&&o<=0||r<this.length&&a<=0))return false;this.length=t+(i?i.length:0)+(this.length-r);return true};e.prototype.domAtPos=function(t){return t==0?Ar.before(this.dom):Ar.after(this.dom,t==this.length)};e.prototype.split=function(t){var r=this.length-t;this.length=t;return new e(this.widget,r,this.type)};Object.defineProperty(e.prototype,"children",{get:function(){return mi},enumerable:false,configurable:true});e.prototype.sync=function(){if(!this.dom||!this.widget.updateDOM(this.dom)){this.setDOM(this.widget.toDOM(this.editorView));this.dom.contentEditable="false"}};Object.defineProperty(e.prototype,"overrideDOMText",{get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):M.empty},enumerable:false,configurable:true});e.prototype.domBoundsAround=function(){return null};e.prototype.match=function(t){if(t instanceof e&&t.type==this.type&&t.widget.constructor==this.widget.constructor){if(!t.widget.eq(this.widget))this.markDirty(true);this.widget=t.widget;this.length=t.length;this.breakAfter=t.breakAfter;return true}return false};return e}(Cr);var yi=function(){function t(t,e,r){this.doc=t;this.pos=e;this.end=r;this.content=[];this.curLine=null;this.breakAtStart=0;this.openStart=-1;this.openEnd=-1;this.text="";this.textOff=0;this.cursor=t.iter();this.skip=e}t.prototype.posCovered=function(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof Oi&&t.type==Jr.WidgetBefore)};t.prototype.getLine=function(){if(!this.curLine)this.content.push(this.curLine=new gi);return this.curLine};t.prototype.addWidget=function(t){this.curLine=null;this.content.push(t)};t.prototype.finish=function(){if(!this.posCovered())this.getLine()};t.prototype.wrapMarks=function(t,e){for(var r=e.length-1;r>=0;r--)t=new Wr(e[r],[t],t.length);return t};t.prototype.buildText=function(t,e,r){while(t>0){if(this.textOff==this.text.length){var i=this.cursor.next(this.skip),n=i.value,o=i.lineBreak,a=i.done;this.skip=0;if(a)throw new Error("Ran out of text content when drawing inline views");if(o){if(!this.posCovered())this.getLine();if(this.content.length)this.content[this.content.length-1].breakAfter=1;else this.breakAtStart=1;this.curLine=null;t--;continue}else{this.text=n;this.textOff=0}}var s=Math.min(this.text.length-this.textOff,t);this.getLine().append(this.wrapMarks(new jr(this.text.slice(this.textOff,this.textOff+s)),e),r);t-=s;this.textOff+=s}};t.prototype.span=function(t,e,r,i){this.buildText(e-t,r,i);this.pos=e;if(this.openStart<0)this.openStart=i};t.prototype.point=function(t,e,r,i,n){var o=e-t;if(r instanceof ii){if(r.block){var a=r.type;if(a==Jr.WidgetAfter&&!this.posCovered())this.getLine();this.addWidget(new Oi(r.widget||new bi("div"),o,a))}else{var s=this.wrapMarks(_r.create(r.widget||new bi("span"),o,r.startSide),i);this.getLine().append(s,n)}}else if(this.doc.lineAt(this.pos).from==this.pos){this.getLine().addLineDeco(r)}if(o){if(this.textOff+o<=this.text.length){this.textOff+=o}else{this.skip+=o-(this.text.length-this.textOff);this.text="";this.textOff=0}this.pos=e}if(this.openStart<0)this.openStart=n};t.build=function(e,r,i,n){var o=new t(e,r,i);o.openEnd=Me.spans(n,r,i,o);if(o.openStart<0)o.openStart=o.openEnd;o.finish();return o};return t}();var bi=function(t){mf(e,t);function e(e){var r=t.call(this)||this;r.tag=e;return r}e.prototype.eq=function(t){return t.tag==this.tag};e.prototype.toDOM=function(){return document.createElement(this.tag)};e.prototype.updateDOM=function(t){return t.nodeName.toLowerCase()==this.tag};return e}(Kr);var wi;(function(t){t[t["LTR"]=0]="LTR";t[t["RTL"]=1]="RTL"})(wi||(wi={}));var xi=wi.LTR,Si=wi.RTL;function ki(t){var e=[];for(var r=0;r<t.length;r++)e.push(1<<+t[r]);return e}var Qi=ki("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008");var Pi=ki("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333");function Li(t){return t<=247?Qi[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Pi[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:t==8204?256:1}var $i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var Ri=function(){function t(t,e,r){this.from=t;this.to=e;this.level=r}Object.defineProperty(t.prototype,"dir",{get:function(){return this.level%2?Si:xi},enumerable:false,configurable:true});t.prototype.side=function(t,e){return this.dir==e==t?this.to:this.from};t.find=function(t,e,r,i){var n=-1;for(var o=0;o<t.length;o++){var a=t[o];if(a.from<=e&&a.to>=e){if(a.level==r)return o;if(n<0||(i!=0?i<0?a.from<e:a.to>e:t[n].level>a.level))n=o}}if(n<0)throw new RangeError("Index out of range");return n};return t}();var Ai=[];function Ti(t,e){var r=t.length,i=e==xi?1:2;if(!t||i==1&&!$i.test(t))return Ci(r);for(var n=0,o=i,a=i;n<r;n++){var s=Li(t.charCodeAt(n));if(s==512)s=o;else if(s==8&&a==4)s=16;Ai[n]=s==4?2:s;if(s&7)a=s;o=s}for(var l=0,o=i,a=i;l<r;l++){var s=Ai[l];if(s==128){if(l<r-1&&o==Ai[l+1]&&o&24)s=Ai[l]=o;else Ai[l]=256}else if(s==64){var c=l+1;while(c<r&&Ai[c]==64)c++;var u=l&&o==8||c<r&&Ai[c]==8?a==1?1:8:256;for(var f=l;f<c;f++)Ai[f]=u;l=c-1}else if(s==8&&a==1){Ai[l]=1}o=s;if(s&7)a=s}for(var h=0;h<r;h++){if(Ai[h]==256){var c=h+1;while(c<r&&Ai[c]==256)c++;var d=(h?Ai[h-1]:i)==1;var p=(c<r?Ai[c]:i)==1;var u=d==p?d?1:2:i;for(var f=h;f<c;f++)Ai[f]=u;h=c-1}}var v=[];if(i==1){for(var g=0;g<r;){var m=g,O=Ai[g++]!=1;while(g<r&&O==(Ai[g]!=1))g++;if(O){for(var f=g;f>m;){var c=f,y=Ai[--f]!=2;while(f>m&&y==(Ai[f-1]!=2))f--;v.push(new Ri(f,c,y?2:1))}}else{v.push(new Ri(m,g,0))}}}else{for(var b=0;b<r;){var m=b,O=Ai[b++]==2;while(b<r&&O==(Ai[b]==2))b++;v.push(new Ri(m,b,O?1:2))}}return v}function Ci(t){return[new Ri(0,t,0)]}var Mi="";function Ui(t,e,r,i,n){var o;var a=i.head-t.from,s=-1;if(a==0){if(!n||!t.length)return null;if(e[0].level!=r){a=e[0].side(false,r);s=0}}else if(a==t.length){if(n)return null;var l=e[e.length-1];if(l.level!=r){a=l.side(true,r);s=e.length-1}}if(s<0)s=Ri.find(e,a,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc);var c=e[s];if(a==c.side(n,r)){c=e[s+=n?1:-1];a=c.side(!n,r)}var u=n==(c.dir==r);var f=t.findClusterBreak(a,u);Mi=t.slice(Math.min(a,f),Math.max(a,f));if(f!=c.side(n,r))return Pt.cursor(f+t.from,u?-1:1,c.level);var h=s==(n?e.length-1:0)?null:e[s+(n?1:-1)];if(!h&&c.level!=r)return Pt.cursor(n?t.to:t.from,n?-1:1,r);if(h&&h.level<c.level)return Pt.cursor(h.side(!n,r)+t.from,0,h.level);return Pt.cursor(f+t.from,0,c.level)}var Ii=["pre-wrap","normal","pre-line"];var qi=function(){function t(){this.doc=M.empty;this.lineWrapping=false;this.direction=wi.LTR;this.heightSamples={};this.lineHeight=14;this.charWidth=7;this.lineLength=30;this.heightChanged=false}t.prototype.heightForGap=function(t,e){var r=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;if(this.lineWrapping)r+=Math.ceil((e-t-r*this.lineLength*.5)/this.lineLength);return this.lineHeight*r};t.prototype.heightForLine=function(t){if(!this.lineWrapping)return this.lineHeight;var e=1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5)));return e*this.lineHeight};t.prototype.setDoc=function(t){this.doc=t;return this};t.prototype.mustRefresh=function(t,e,r){var i=false;for(var n=0;n<t.length;n++){var o=t[n];if(o<0){n++}else if(!this.heightSamples[Math.floor(o*10)]){i=true;this.heightSamples[Math.floor(o*10)]=true}}return i||Ii.indexOf(e)>-1!=this.lineWrapping||this.direction!=r};t.prototype.refresh=function(t,e,r,i,n,o){var a=Ii.indexOf(t)>-1;var s=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=a||this.direction!=e;this.lineWrapping=a;this.direction=e;this.lineHeight=r;this.charWidth=i;this.lineLength=n;if(s){this.heightSamples={};for(var l=0;l<o.length;l++){var c=o[l];if(c<0)l++;else this.heightSamples[Math.floor(c*10)]=true}}return s};return t}();var Xi=function(){function t(t,e){this.from=t;this.heights=e;this.index=0}Object.defineProperty(t.prototype,"more",{get:function(){return this.index<this.heights.length},enumerable:false,configurable:true});return t}();var Ei=function(){function t(t,e,r,i,n){this.from=t;this.length=e;this.top=r;this.height=i;this.type=n}Object.defineProperty(t.prototype,"to",{get:function(){return this.from+this.length},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:false,configurable:true});t.prototype.join=function(e){var r=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new t(this.from,this.length+e.length,this.top,this.height+e.height,r)};return t}();var ji;(function(t){t[t["ByPos"]=0]="ByPos";t[t["ByHeight"]=1]="ByHeight";t[t["ByPosNoHeight"]=2]="ByPosNoHeight"})(ji||(ji={}));var Wi=1e-4;var Di=function(){function t(t,e,r){if(r===void 0){r=2}this.length=t;this.height=e;this.flags=r}Object.defineProperty(t.prototype,"outdated",{get:function(){return(this.flags&2)>0},set:function(t){this.flags=(t?2:0)|this.flags&~2},enumerable:false,configurable:true});t.prototype.setHeight=function(t,e){if(this.height!=e){if(Math.abs(this.height-e)>Wi)t.heightChanged=true;this.height=e}};t.prototype.replace=function(e,r,i){return t.of(i)};t.prototype.decomposeLeft=function(t,e){e.push(this)};t.prototype.decomposeRight=function(t,e){e.push(this)};t.prototype.applyChanges=function(t,e,r,i){var n=this;for(var o=i.length-1;o>=0;o--){var a=i[o],s=a.fromA,l=a.toA,c=a.fromB,u=a.toB;var f=n.lineAt(s,ji.ByPosNoHeight,e,0,0);var h=f.to>=l?f:n.lineAt(l,ji.ByPosNoHeight,e,0,0);u+=h.to-l;l=h.to;while(o>0&&f.from<=i[o-1].toA){s=i[o-1].fromA;c=i[o-1].fromB;o--;if(s<f.from)f=n.lineAt(s,ji.ByPosNoHeight,e,0,0)}c+=f.from-s;s=f.from;var d=Gi.build(r,t,c,u);n=n.replace(s,l,d)}return n.updateHeight(r,0)};t.empty=function(){return new Vi(0,0)};t.of=function(e){if(e.length==1)return e[0];var r=0,i=e.length,n=0,o=0;for(;;){if(r==i){if(n>o*2){var a=e[r-1];if(a.break)e.splice(--r,1,a.left,null,a.right);else e.splice(--r,1,a.left,a.right);i+=1+a.break;n-=a.size}else if(o>n*2){var a=e[i];if(a.break)e.splice(i,1,a.left,null,a.right);else e.splice(i,1,a.left,a.right);i+=2+a.break;o-=a.size}else{break}}else if(n<o){var s=e[r++];if(s)n+=s.size}else{var s=e[--i];if(s)o+=s.size}}var l=0;if(e[r-1]==null){l=1;r--}else if(e[r]==null){l=1;i++}return new zi(t.of(e.slice(0,r)),l,t.of(e.slice(i)))};return t}();Di.prototype.size=1;var _i=function(t){mf(e,t);function e(e,r,i){var n=t.call(this,e,r)||this;n.type=i;return n}e.prototype.blockAt=function(t,e,r,i){return new Ei(i,this.length,r,this.height,this.type)};e.prototype.lineAt=function(t,e,r,i,n){return this.blockAt(0,r,i,n)};e.prototype.forEachLine=function(t,e,r,i,n,o){o(this.blockAt(0,r,i,n))};e.prototype.updateHeight=function(t,e,r,i){if(e===void 0){e=0}if(r===void 0){r=false}if(i&&i.from<=e&&i.more)this.setHeight(t,i.heights[i.index++]);this.outdated=false;return this};e.prototype.toString=function(){return"block("+this.length+")"};return e}(Di);var Vi=function(t){mf(e,t);function e(e,r){var i=t.call(this,e,r,Jr.Text)||this;i.collapsed=0;i.widgetHeight=0;return i}e.prototype.replace=function(t,r,i){var n=i[0];if(i.length==1&&(n instanceof e||n instanceof Bi&&n.flags&4)&&Math.abs(this.length-n.length)<10){if(n instanceof Bi)n=new e(n.length,this.height);else n.height=this.height;if(!this.outdated)n.outdated=false;return n}else{return Di.of(i)}};e.prototype.updateHeight=function(t,e,r,i){if(e===void 0){e=0}if(r===void 0){r=false}if(i&&i.from<=e&&i.more)this.setHeight(t,i.heights[i.index++]);else if(r||this.outdated)this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed)));this.outdated=false;return this};e.prototype.toString=function(){return"line("+this.length+(this.collapsed?-this.collapsed:"")+(this.widgetHeight?":"+this.widgetHeight:"")+")"};return e}(_i);var Bi=function(t){mf(e,t);function e(e){return t.call(this,e,0)||this}e.prototype.lines=function(t,e){var r=t.lineAt(e).number,i=t.lineAt(e+this.length).number;return{firstLine:r,lastLine:i,lineHeight:this.height/(i-r+1)}};e.prototype.blockAt=function(t,e,r,i){var n=this.lines(e,i),o=n.firstLine,a=n.lastLine,s=n.lineHeight;var l=Math.max(0,Math.min(a-o,Math.floor((t-r)/s)));var c=e.line(o+l),u=c.from,f=c.length;return new Ei(u,f,r+s*l,s,Jr.Text)};e.prototype.lineAt=function(t,e,r,i,n){if(e==ji.ByHeight)return this.blockAt(t,r,i,n);if(e==ji.ByPosNoHeight){var o=r.lineAt(t),a=o.from,s=o.to;return new Ei(a,s-a,0,0,Jr.Text)}var l=this.lines(r,n),c=l.firstLine,u=l.lineHeight;var f=r.lineAt(t),h=f.from,d=f.length,p=f.number;return new Ei(h,d,i+u*(p-c),u,Jr.Text)};e.prototype.forEachLine=function(t,e,r,i,n,o){var a=this.lines(r,n),s=a.firstLine,l=a.lineHeight;for(var c=t;c<e;){var u=r.lineAt(c);if(c==t)i+=l*(u.number-s);o(new Ei(u.from,u.length,i,i+=l,Jr.Text));c=u.to+1}};e.prototype.replace=function(t,r,i){var n=this.length-r;if(n>0){var o=i[i.length-1];if(o instanceof e)i[i.length-1]=new e(o.length+n);else i.push(null,new e(n-1))}if(t>0){var a=i[0];if(a instanceof e)i[0]=new e(t+a.length);else i.unshift(new e(t-1),null)}return Di.of(i)};e.prototype.decomposeLeft=function(t,r){r.push(new e(t-1),null)};e.prototype.decomposeRight=function(t,r){r.push(null,new e(this.length-t-1))};e.prototype.updateHeight=function(t,r,i,n){if(r===void 0){r=0}if(i===void 0){i=false}var o=r+this.length;if(n&&n.from<=r+this.length&&n.more){var a=[],s=Math.max(r,n.from);if(n.from>r)a.push(new e(n.from-r-1).updateHeight(t,r));while(s<=o&&n.more){var l=t.doc.lineAt(s).length;if(a.length)a.push(null);var c=new Vi(l,n.heights[n.index++]);c.outdated=false;a.push(c);s+=l+1}if(s<=o)a.push(null,new e(o-s).updateHeight(t,s));t.heightChanged=true;return Di.of(a)}else if(i||this.outdated){this.setHeight(t,t.heightForGap(r,r+this.length));this.outdated=false}return this};e.prototype.toString=function(){return"gap("+this.length+")"};return e}(Di);var zi=function(t){mf(e,t);function e(e,r,i){var n=t.call(this,e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0))||this;n.left=e;n.right=i;n.size=e.size+i.size;return n}Object.defineProperty(e.prototype,"break",{get:function(){return this.flags&1},enumerable:false,configurable:true});e.prototype.blockAt=function(t,e,r,i){var n=r+this.left.height;return t<n||this.right.height==0?this.left.blockAt(t,e,r,i):this.right.blockAt(t,e,n,i+this.left.length+this.break)};e.prototype.lineAt=function(t,e,r,i,n){var o=i+this.left.height,a=n+this.left.length+this.break;var s=e==ji.ByHeight?t<o||this.right.height==0:t<a;var l=s?this.left.lineAt(t,e,r,i,n):this.right.lineAt(t,e,r,o,a);if(this.break||(s?l.to<a:l.from>a))return l;var c=e==ji.ByPosNoHeight?ji.ByPosNoHeight:ji.ByPos;if(s)return l.join(this.right.lineAt(a,c,r,o,a));else return this.left.lineAt(a,c,r,i,n).join(l)};e.prototype.forEachLine=function(t,e,r,i,n,o){var a=i+this.left.height,s=n+this.left.length+this.break;if(this.break){if(t<s)this.left.forEachLine(t,e,r,i,n,o);if(e>=s)this.right.forEachLine(t,e,r,a,s,o)}else{var l=this.lineAt(s,ji.ByPos,r,i,n);if(t<l.from)this.left.forEachLine(t,l.from-1,r,i,n,o);if(l.to>=t&&l.from<=e)o(l);if(e>l.to)this.right.forEachLine(l.to+1,e,r,a,s,o)}};e.prototype.replace=function(t,e,r){var i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,r));var n=[];if(t>0)this.decomposeLeft(t,n);var o=n.length;for(var a=0,s=r;a<s.length;a++){var l=s[a];n.push(l)}if(t>0)Ni(n,o-1);if(e<this.length){var c=n.length;this.decomposeRight(e,n);Ni(n,c)}return Di.of(n)};e.prototype.decomposeLeft=function(t,e){var r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,e);e.push(this.left);if(this.break){r++;if(t>=r)e.push(null)}if(t>r)this.right.decomposeLeft(t-r,e)};e.prototype.decomposeRight=function(t,e){var r=this.left.length,i=r+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);if(t<r)this.left.decomposeRight(t,e);if(this.break&&t<i)e.push(null);e.push(this.right)};e.prototype.balanced=function(t,e){if(t.size>2*e.size||e.size>2*t.size)return Di.of(this.break?[t,null,e]:[t,e]);this.left=t;this.right=e;this.height=t.height+e.height;this.outdated=t.outdated||e.outdated;this.size=t.size+e.size;this.length=t.length+this.break+e.length;return this};e.prototype.updateHeight=function(t,e,r,i){if(e===void 0){e=0}if(r===void 0){r=false}var n=this,o=n.left,a=n.right,s=e+o.length+this.break,l=null;if(i&&i.from<=e+o.length&&i.more)l=o=o.updateHeight(t,e,r,i);else o.updateHeight(t,e,r);if(i&&i.from<=s+a.length&&i.more)l=a=a.updateHeight(t,s,r,i);else a.updateHeight(t,s,r);if(l)return this.balanced(o,a);this.height=this.left.height+this.right.height;this.outdated=false;return this};e.prototype.toString=function(){return this.left+(this.break?" ":"-")+this.right};return e}(Di);function Ni(t,e){var r,i;if(t[e]==null&&(r=t[e-1])instanceof Bi&&(i=t[e+1])instanceof Bi)t.splice(e-1,3,new Bi(r.length+1+i.length))}var Fi=5;var Gi=function(){function t(t,e){this.pos=t;this.oracle=e;this.nodes=[];this.lineStart=-1;this.lineEnd=-1;this.covering=null;this.writtenTo=t}Object.defineProperty(t.prototype,"isCovered",{get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering},enumerable:false,configurable:true});t.prototype.span=function(t,e){if(this.lineStart>-1){var r=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];if(i instanceof Vi)i.length+=r-this.pos;else if(r>this.pos||!this.isCovered)this.nodes.push(new Vi(r-this.pos,-1));this.writtenTo=r;if(e>r){this.nodes.push(null);this.writtenTo++;this.lineStart=-1}}this.pos=e};t.prototype.point=function(t,e,r){if(t<e||r.heightRelevant){var i=r.widget?Math.max(0,r.widget.estimatedHeight):0;var n=e-t;if(r.block){this.addBlock(new _i(n,i,r.type))}else if(n||i>=Fi){this.addLineDeco(i,n)}}else if(e>t){this.span(t,e)}if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to};t.prototype.enterLine=function(){if(this.lineStart>-1)return;var t=this.oracle.doc.lineAt(this.pos),e=t.from,r=t.to;this.lineStart=e;this.lineEnd=r;if(this.writtenTo<e){if(this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,e-1));this.nodes.push(null)}if(this.pos>e)this.nodes.push(new Vi(this.pos-e,-1));this.writtenTo=this.pos};t.prototype.blankContent=function(t,e){var r=new Bi(e-t);if(this.oracle.doc.lineAt(t).to==e)r.flags|=4;return r};t.prototype.ensureLine=function(){this.enterLine();var t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Vi)return t;var e=new Vi(0,-1);this.nodes.push(e);return e};t.prototype.addBlock=function(t){this.enterLine();if(t.type==Jr.WidgetAfter&&!this.isCovered)this.ensureLine();this.nodes.push(t);this.writtenTo=this.pos=this.pos+t.length;if(t.type!=Jr.WidgetBefore)this.covering=t};t.prototype.addLineDeco=function(t,e){var r=this.ensureLine();r.length+=e;r.collapsed+=e;r.widgetHeight=Math.max(r.widgetHeight,t);this.writtenTo=this.pos=this.pos+e};t.prototype.finish=function(t){var e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!(e instanceof Vi)&&!this.isCovered)this.nodes.push(new Vi(0,-1));else if(this.writtenTo<this.pos||e==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));var r=t;for(var i=0,n=this.nodes;i<n.length;i++){var o=n[i];if(o instanceof Vi)o.updateHeight(this.oracle,r);r+=o?o.length:1}return this.nodes};t.build=function(e,r,i,n){var o=new t(i,e);Me.spans(r,i,n,o);return o.finish(i)};Object.defineProperty(t.prototype,"minPointSize",{get:function(){return 0},enumerable:false,configurable:true});return t}();function Yi(t,e,r){var i=new Hi;Me.compare(t,e,r,i);return i.changes}var Hi=function(){function t(){this.changes=[]}t.prototype.compareRange=function(){};t.prototype.comparePoint=function(t,e,r,i){if(t<e||r&&r.heightRelevant||i&&i.heightRelevant)si(t,e,this.changes)};Object.defineProperty(t.prototype,"minPointSize",{get:function(){return 0},enumerable:false,configurable:true});return t}();var Zi=[];var Ki=At.define();var Ji=At.define();var tn=At.define();var en=At.define();var rn=At.define();var nn=At.define();function on(t,e,r){var i=t.facet(en);if(i.length)i[0](e);else if(window.onerror)window.onerror(String(e),r,undefined,undefined,e);else if(r)console.error(r+":",e);else console.error(e)}var an=At.define({combine:function(t){return t.length?t[0]:true}});var sn=function(){function t(t,e){this.field=t;this.get=e}return t}();var ln=function(){function t(){}t.prototype.from=function(t){return new sn(this,t)};t.define=function(){return new t};return t}();ln.scrollMargins=ln.define();var cn=0;var un=At.define();var fn=function(){function t(t,e,r){this.id=t;this.create=e;this.fields=r;this.extension=un.of(this)}t.define=function(e,r){var i=r||{},n=i.eventHandlers,o=i.provide,a=i.decorations;var s=[];if(o)for(var l=0,c=Array.isArray(o)?o:[o];l<c.length;l++){var u=c[l];s.push(u)}if(n)s.push(dn.from((function(t){return{plugin:t,handlers:n}})));if(a)for(var f=0,h=Array.isArray(a)?a:[a];f<h.length;f++){var d=h[f];s.push(hn.from(d))}return new t(cn++,e,s)};t.fromClass=function(e,r){return t.define((function(t){return new e(t)}),r)};return t}();var hn=ln.define();var dn=ln.define();var pn=function(){function t(t,e){this.value=t;this.spec=e}t.create=function(e,r){var i;try{i=e.create(r)}catch(n){on(r.state,n,"CodeMirror plugin crashed");return t.dummy}return new t(i,e)};t.prototype.takeField=function(t,e){for(var r=0,i=this.spec.fields;r<i.length;r++){var n=i[r],o=n.field,a=n.get;if(o==t)e.push(a(this.value))}};t.prototype.update=function(e){if(!this.value.update)return this;try{this.value.update(e);return this}catch(r){on(e.state,r,"CodeMirror plugin crashed");if(this.value.destroy)try{this.value.destroy()}catch(dd){}return t.dummy}};t.prototype.destroy=function(t){if(this.value.destroy){try{this.value.destroy()}catch(e){on(t.state,e,"CodeMirror plugin crashed")}}};return t}();pn.dummy=new pn({},fn.define((function(){return{}})));var vn=At.define({combine:function(t){return t.reduce((function(t,e){return Yr(e,t)}),{})}});var gn=At.define({combine:function(t){return t.reduce((function(t,e){return Yr(e,t)}),{})}});var mn=At.define();var On=At.define();var yn=function(){function t(t,e,r,i){this.fromA=t;this.toA=e;this.fromB=r;this.toB=i}t.prototype.join=function(e){return new t(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))};t.prototype.addToSet=function(t){var e=t.length,r=this;for(;e>0;e--){var i=t[e-1];if(i.fromA>r.toA)continue;if(i.toA<r.fromA)break;r=r.join(i);t.splice(e-1,1)}t.splice(e,0,r);return t};t.extendWithRanges=function(e,r){if(r.length==0)return e;var i=[];for(var n=0,o=0,a=0,s=0;;n++){var l=n==e.length?null:e[n],c=a-s;var u=l?l.fromB:1e9;while(o<r.length&&r[o]<u){var f=r[o],h=r[o+1];var d=Math.max(s,f),p=Math.min(u,h);if(d<=p)new t(d+c,p+c,d,p).addToSet(i);if(h>u)break;else o+=2}if(!l)return i;new t(l.fromA,l.toA,l.fromB,l.toB).addToSet(i);a=l.toA;s=l.toB}};return t}();var bn=function(){function t(t,e,r){if(r===void 0){r=Zi}this.view=t;this.state=e;this.transactions=r;this.flags=0;this.prevState=t.state;this.changes=Ot.empty(this.prevState.doc.length);for(var i=0,n=r;i<n.length;i++){var o=n[i];this.changes=this.changes.compose(o.changes)}var a=[];this.changes.iterChangedRanges((function(t,e,r,i){return a.push(new yn(t,e,r,i))}));this.changedRanges=a;var s=t.hasFocus;if(s!=t.inputState.notifiedFocused){t.inputState.notifiedFocused=s}if(this.docChanged)this.flags|=2}Object.defineProperty(t.prototype,"viewportChanged",{get:function(){return(this.flags&4)>0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"heightChanged",{get:function(){return(this.flags&2)>0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"geometryChanged",{get:function(){return this.docChanged||(this.flags&(16|2))>0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"focusChanged",{get:function(){return(this.flags&1)>0},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"docChanged",{get:function(){return this.transactions.some((function(t){return t.docChanged}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"selectionSet",{get:function(){return this.transactions.some((function(t){return t.selection}))},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"empty",{get:function(){return this.flags==0&&this.transactions.length==0},enumerable:false,configurable:true});return t}();function wn(t,e){var r=t.getBoundingClientRect();var i=Math.max(0,r.left),n=Math.min(innerWidth,r.right);var o=Math.max(0,r.top),a=Math.min(innerHeight,r.bottom);for(var s=t.parentNode;s;){if(s.nodeType==1){if((s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth)&&window.getComputedStyle(s).overflow!="visible"){var l=s.getBoundingClientRect();i=Math.max(i,l.left);n=Math.min(n,l.right);o=Math.max(o,l.top);a=Math.min(a,l.bottom)}s=s.parentNode}else if(s.nodeType==11){s=s.host}else{break}}return{left:i-r.left,right:n-r.left,top:o-(r.top+e),bottom:a-(r.top+e)}}var xn=function(){function t(t,e,r){this.from=t;this.to=e;this.size=r}t.same=function(t,e){if(t.length!=e.length)return false;for(var r=0;r<t.length;r++){var i=t[r],n=e[r];if(i.from!=n.from||i.to!=n.to||i.size!=n.size)return false}return true};t.prototype.draw=function(t){return ti.replace({widget:new Sn(this.size,t)}).range(this.from,this.to)};return t}();var Sn=function(t){mf(e,t);function e(e,r){var i=t.call(this)||this;i.size=e;i.vertical=r;return i}e.prototype.eq=function(t){return t.size==this.size&&t.vertical==this.vertical};e.prototype.toDOM=function(){var t=document.createElement("div");if(this.vertical){t.style.height=this.size+"px"}else{t.style.width=this.size+"px";t.style.height="2px";t.style.display="inline-block"}return t};Object.defineProperty(e.prototype,"estimatedHeight",{get:function(){return this.vertical?this.size:-1},enumerable:false,configurable:true});return e}(Kr);var kn=function(){function t(t){this.state=t;this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0};this.inView=true;this.paddingTop=0;this.paddingBottom=0;this.contentWidth=0;this.heightOracle=new qi;this.heightMap=Di.empty();this.scrollTo=null;this.printing=false;this.visibleRanges=[];this.mustEnforceCursorAssoc=false;this.heightMap=this.heightMap.applyChanges(t.facet(mn),M.empty,this.heightOracle.setDoc(t.doc),[new yn(0,0,0,t.doc.length)]);this.viewport=this.getViewport(0,null);this.lineGaps=this.ensureLineGaps([]);this.lineGapDeco=ti.set(this.lineGaps.map((function(t){return t.draw(false)})));this.computeVisibleRanges()}t.prototype.update=function(t,e){if(e===void 0){e=null}var r=this.state;this.state=t.state;var i=this.state.facet(mn);var n=t.changedRanges;var o=yn.extendWithRanges(n,Yi(t.prevState.facet(mn),i,t?t.changes:Ot.empty(this.state.doc.length)));var a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(i,r.doc,this.heightOracle.setDoc(this.state.doc),o);if(this.heightMap.height!=a)t.flags|=2;var s=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;if(e&&(e.head<s.from||e.head>s.to)||!this.viewportIsAppropriate(s))s=this.getViewport(0,e);if(!s.eq(this.viewport)){this.viewport=s;t.flags|=4}if(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)t.flags|=this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes)));this.computeVisibleRanges();if(e)this.scrollTo=e;if(!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.primary.empty&&t.state.selection.primary.assoc)this.mustEnforceCursorAssoc=true};t.prototype.measure=function(t,e){var r=t.dom,i="",n=wi.LTR;if(!e){var o=window.getComputedStyle(r);i=o.whiteSpace,n=o.direction=="rtl"?wi.RTL:wi.LTR;this.paddingTop=parseInt(o.paddingTop)||0;this.paddingBottom=parseInt(o.paddingBottom)||0}var a=this.printing?{top:-1e8,bottom:1e8,left:-1e8,right:1e8}:wn(r,this.paddingTop);var s=a.top-this.pixelViewport.top,l=a.bottom-this.pixelViewport.bottom;this.pixelViewport=a;this.inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(!this.inView)return 0;var c=t.measureVisibleLineHeights();var u=false,f=0,h=0,d=this.heightOracle;if(!e){var p=t.dom.clientWidth;if(d.mustRefresh(c,i,n)||d.lineWrapping&&Math.abs(p-this.contentWidth)>d.charWidth){var v=t.measureTextSize(),g=v.lineHeight,m=v.charWidth;u=d.refresh(i,n,g,m,p/m,c);if(u){t.minWidth=0;h|=16}}if(this.contentWidth!=p){this.contentWidth=p;h|=16}if(s>0&&l>0)f=Math.max(s,l);else if(s<0&&l<0)f=Math.min(s,l)}d.heightChanged=false;this.heightMap=this.heightMap.updateHeight(d,0,u,new Xi(this.viewport.from,c));if(d.heightChanged)h|=2;if(!this.viewportIsAppropriate(this.viewport,f)||this.scrollTo&&(this.scrollTo.head<this.viewport.from||this.scrollTo.head>this.viewport.to)){this.viewport=this.getViewport(f,this.scrollTo);h|=4}if(this.lineGaps.length||this.viewport.to-this.viewport.from>15e3)h|=this.updateLineGaps(this.ensureLineGaps(u?[]:this.lineGaps));this.computeVisibleRanges();if(this.mustEnforceCursorAssoc){this.mustEnforceCursorAssoc=false;t.enforceCursorAssoc()}return h};t.prototype.getViewport=function(t,e){var r=.5-Math.max(-.5,Math.min(.5,t/1e3/2));var i=this.heightMap,n=this.state.doc,o=this.pixelViewport,a=o.top,s=o.bottom;var l=new Qn(i.lineAt(a-r*1e3,ji.ByHeight,n,0,0).from,i.lineAt(s+(1-r)*1e3,ji.ByHeight,n,0,0).to);if(e){if(e.head<l.from){var c=i.lineAt(e.head,ji.ByPos,n,0,0).top;l=new Qn(i.lineAt(c-1e3/2,ji.ByHeight,n,0,0).from,i.lineAt(c+(s-a)+1e3/2,ji.ByHeight,n,0,0).to)}else if(e.head>l.to){var u=i.lineAt(e.head,ji.ByPos,n,0,0).bottom;l=new Qn(i.lineAt(u-(s-a)-1e3/2,ji.ByHeight,n,0,0).from,i.lineAt(u+1e3/2,ji.ByHeight,n,0,0).to)}}return l};t.prototype.mapViewport=function(t,e){var r=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new Qn(this.heightMap.lineAt(r,ji.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,ji.ByPos,this.state.doc,0,0).to)};t.prototype.viewportIsAppropriate=function(t,e){var r=t.from,i=t.to;if(e===void 0){e=0}var n=this.heightMap.lineAt(r,ji.ByPos,this.state.doc,0,0).top;var o=this.heightMap.lineAt(i,ji.ByPos,this.state.doc,0,0).bottom;return(r==0||n<=this.pixelViewport.top-Math.max(10,Math.min(-e,250)))&&(i==this.state.doc.length||o>=this.pixelViewport.bottom+Math.max(10,Math.min(e,250)))&&(n>this.pixelViewport.top-2*1e3&&o<this.pixelViewport.bottom+2*1e3)};t.prototype.mapLineGaps=function(t,e){if(!t.length||e.empty)return t;var r=[];for(var i=0,n=t;i<n.length;i++){var o=n[i];if(!e.touchesRange(o.from,o.to))r.push(new xn(e.mapPos(o.from),e.mapPos(o.to),o.size))}return r};t.prototype.ensureLineGaps=function(t){var e=this;var r=[];if(this.heightOracle.direction!=wi.LTR)return r;this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(function(i){if(i.length<1e4)return;var n=Pn(i.from,i.to,e.state);if(n.total<1e4)return;var o,a;if(e.heightOracle.lineWrapping){if(i.from!=e.viewport.from)o=i.from;else o=Ln(n,(e.pixelViewport.top-i.top)/i.height);if(i.to!=e.viewport.to)a=i.to;else a=Ln(n,(e.pixelViewport.bottom-i.top)/i.height)}else{var s=n.total*e.heightOracle.charWidth;o=Ln(n,e.pixelViewport.left/s);a=Ln(n,e.pixelViewport.right/s)}var l=e.state.selection.primary;if(l.from<=o&&l.to>=i.from)o=l.from;if(l.from<=i.to&&l.to>=a)a=l.to;var c=o-1e4,u=a+1e4;if(c>i.from+5e3)r.push(Rn(t,(function(t){return t.from==i.from&&t.to>c-5e3&&t.to<c+5e3}))||new xn(i.from,c,e.gapSize(i,c,true,n)));if(u<i.to-5e3)r.push(Rn(t,(function(t){return t.to==i.to&&t.from>u-5e3&&t.from<u+5e3}))||new xn(u,i.to,e.gapSize(i,u,false,n)))}));return r};t.prototype.gapSize=function(t,e,r,i){if(this.heightOracle.lineWrapping){var n=t.height*$n(i,e);return r?n:t.height-n}else{var o=$n(i,e);return i.total*this.heightOracle.charWidth*(r?o:1-o)}};t.prototype.updateLineGaps=function(t){var e=this;if(!xn.same(t,this.lineGaps)){this.lineGaps=t;this.lineGapDeco=ti.set(t.map((function(t){return t.draw(e.heightOracle.lineWrapping)})));return 8}return 0};t.prototype.computeVisibleRanges=function(){var t=this.state.facet(mn);if(this.lineGaps.length)t=t.concat(this.lineGapDeco);var e=[];Me.spans(t,this.viewport.from,this.viewport.to,{span:function(t,r){e.push({from:t,to:r})},point:function(){},minPointSize:20});this.visibleRanges=e};t.prototype.lineAt=function(t,e){return this.heightMap.lineAt(t,ji.ByPos,this.state.doc,e+this.paddingTop,0)};t.prototype.lineAtHeight=function(t,e){return this.heightMap.lineAt(t,ji.ByHeight,this.state.doc,e+this.paddingTop,0)};t.prototype.blockAtHeight=function(t,e){return this.heightMap.blockAt(t,this.state.doc,e+this.paddingTop,0)};t.prototype.forEachLine=function(t,e,r,i){return this.heightMap.forEachLine(t,e,this.state.doc,i+this.paddingTop,0,r)};return t}();var Qn=function(){function t(t,e){this.from=t;this.to=e}t.prototype.eq=function(t){return this.from==t.from&&this.to==t.to};return t}();function Pn(t,e,r){var i=[],n=t,o=0;Me.spans(r.facet(mn),t,e,{span:function(){},point:function(t,e){if(t>n){i.push({from:n,to:t});o+=t-n}n=e},minPointSize:20});if(n<e){i.push({from:n,to:e});o+=e-n}return{total:o,ranges:i}}function Ln(t,e){var r=t.total,i=t.ranges;if(e<=0)return i[0].from;if(e>=1)return i[i.length-1].to;var n=Math.floor(r*e);for(var o=0;;o++){var a=i[o],s=a.from,l=a.to,c=l-s;if(n<=c)return s+n;n-=c}}function $n(t,e){var r=0;for(var i=0,n=t.ranges;i<n.length;i++){var o=n[i],a=o.from,s=o.to;if(e<=s){r+=e-a;break}r+=s-a}return r/t.total}function Rn(t,e){for(var r=0,i=t;r<i.length;r++){var n=i[r];if(e(n))return n}return undefined}var An=[];var Tn=function(t){mf(e,t);function e(e){var r=t.call(this)||this;r.view=e;r.viewports=An;r.compositionDeco=ti.none;r.decorations=[];r.minWidth=0;r.minWidthFrom=0;r.minWidthTo=0;r.impreciseAnchor=null;r.impreciseHead=null;r.setDOM(e.contentDOM);r.children=[new gi];r.children[0].setParent(r);r.updateInner([new yn(0,0,0,e.state.doc.length)],r.updateDeco(),0);return r}Object.defineProperty(e.prototype,"root",{get:function(){return this.view.root},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"editorView",{get:function(){return this.view},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"length",{get:function(){return this.view.state.doc.length},enumerable:false,configurable:true});e.prototype.update=function(t){var e=this;var r;var i=t.changedRanges;if(this.minWidth>0&&i.length){if(!i.every((function(t){var r=t.fromA,i=t.toA;return i<e.minWidthFrom||r>e.minWidthTo}))){this.minWidth=0}else{this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1);this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)}}if(!((r=this.view.inputState)===null||r===void 0?void 0:r.composing))this.compositionDeco=ti.none;else if(t.transactions.length)this.compositionDeco=Un(this.view,t.changes);var n=(hr.ie||hr.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.prevState.doc.lines;var o=this.decorations,a=this.updateDeco();var s=jn(o,a,t.changes);i=yn.extendWithRanges(i,s);var l=t.transactions.some((function(t){return t.annotation(oe.userEvent)=="pointerselection"}));if(this.dirty==0&&i.length==0&&!(t.flags&(4|8))&&t.state.selection.primary.from>=this.view.viewport.from&&t.state.selection.primary.to<=this.view.viewport.to){this.updateSelection(n,l);return false}else{this.updateInner(i,a,t.prevState.doc.length,n,l);return true}};e.prototype.updateInner=function(t,e,r,i,n){var o=this;if(i===void 0){i=false}if(n===void 0){n=false}this.updateChildren(t,e,r);this.view.observer.ignore((function(){o.dom.style.height=o.view.viewState.heightMap.height+"px";o.dom.style.minWidth=o.minWidth?o.minWidth+"px":"";var t=hr.chrome?{node:dr(o.view.root).focusNode,written:false}:undefined;o.sync(t);o.dirty=0;if(t===null||t===void 0?void 0:t.written)i=true;o.updateSelection(i,n);o.dom.style.height=""}))};e.prototype.updateChildren=function(t,e,r){var i=this.childCursor(r);for(var n=t.length-1;;n--){var o=n>=0?t[n]:null;if(!o)break;var a=o.fromA,s=o.toA,l=o.fromB,c=o.toB;var u=yi.build(this.view.state.doc,l,c,e),f=u.content,h=u.breakAtStart,d=u.openStart,p=u.openEnd;var v=i.findPos(s,1),g=v.i,m=v.off;var O=i.findPos(a,-1),y=O.i,b=O.off;this.replaceRange(y,b,g,m,f,h,d,p)}};e.prototype.replaceRange=function(t,e,r,i,n,o,a,s){var l=this.children[t],c=n.length?n[n.length-1]:null;var u=c?c.breakAfter:o;if(t==r&&!o&&!u&&n.length<2&&l.merge(e,i,n.length?c:null,e==0,a,s))return;var f=this.children[r];if(i<f.length||f.children.length&&f.children[f.children.length-1].length==0){if(t==r){f=f.split(i);i=0}if(!u&&c&&f.merge(0,i,c,true,0,s)){n[n.length-1]=f}else{if(i||f.children.length&&f.children[0].length==0)f.merge(0,i,null,false,0,s);n.push(f)}}else if(f.breakAfter){if(c)c.breakAfter=1;else o=1}r++;l.breakAfter=o;if(e>0){if(!o&&n.length&&l.merge(e,l.length,n[0],false,a,0)){l.breakAfter=n.shift().breakAfter}else if(e<l.length||l.children.length&&l.children[l.children.length-1].length==0){l.merge(e,l.length,null,false,a,0)}t++}while(t<r&&n.length){if(this.children[r-1].match(n[n.length-1]))r--,n.pop();else if(this.children[t].match(n[0]))t++,n.shift();else break}if(t<r||n.length)this.replaceChildren(t,r,n)};e.prototype.updateSelection=function(t,e){if(t===void 0){t=false}if(e===void 0){e=false}if(!(e||this.mayControlSelection()))return;var r=this.view.state.selection.primary;var i=this.domAtPos(r.anchor);var n=this.domAtPos(r.head);var o=dr(this.root);if(t||!o.focusNode||hr.gecko&&r.empty&&Xn(o.focusNode,o.focusOffset)||!mr(i.node,i.offset,o.anchorNode,o.anchorOffset)||!mr(n.node,n.offset,o.focusNode,o.focusOffset)){this.view.observer.ignore((function(){var t;if(r.empty){if(hr.gecko){var e=Xn(i.node,i.offset);if(e&&e!=(1|2)){var a=qn(i.node,i.offset,e==1?1:-1);if(a)i=new Ar(a,e==1?0:a.nodeValue.length)}}o.collapse(i.node,i.offset);if(r.bidiLevel!=null&&o.cursorBidiLevel!=null)o.cursorBidiLevel=r.bidiLevel}else if(o.extend){o.collapse(i.node,i.offset);o.extend(n.node,n.offset)}else{var s=document.createRange();if(r.anchor>r.head)t=[n,i],i=t[0],n=t[1];s.setEnd(n.node,n.offset);s.setStart(i.node,i.offset);o.removeAllRanges();o.addRange(s)}}))}this.impreciseAnchor=i.precise?null:new Ar(o.anchorNode,o.anchorOffset);this.impreciseHead=n.precise?null:new Ar(o.focusNode,o.focusOffset)};e.prototype.enforceCursorAssoc=function(){var t=this.view.state.selection.primary;var e=dr(this.root);if(!t.empty||!t.assoc||!e.modify)return;var r=gi.find(this,t.head);if(!r)return;var i=r.posAtStart;if(t.head==i||t.head==i+r.length)return;var n=this.coordsAt(t.head,-1),o=this.coordsAt(t.head,1);if(!n||!o||n.bottom>o.top)return;var a=this.domAtPos(t.head+t.assoc);e.collapse(a.node,a.offset);e.modify("move",t.assoc<0?"forward":"backward","lineboundary")};e.prototype.mayControlSelection=function(){return this.view.state.facet(an)?this.root.activeElement==this.dom:vr(this.dom,dr(this.root))};e.prototype.nearest=function(t){for(var e=t;e;){var r=Cr.get(e);if(r&&r.rootView==this)return r;e=e.parentNode}return null};e.prototype.posFromDOM=function(t,e){var r=this.nearest(t);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(t,e)+r.posAtStart};e.prototype.domAtPos=function(t){var e=this.childCursor().findPos(t,-1),r=e.i,i=e.off;for(;r<this.children.length-1;){var n=this.children[r];if(i<n.length||n instanceof gi)break;r++;i=0}return this.children[r].domAtPos(i)};e.prototype.coordsAt=function(t,e){for(var r=this.length,i=this.children.length-1;;i--){var n=this.children[i],o=r-n.breakAfter-n.length;if(t>=o&&n.type!=Jr.WidgetAfter)return n.coordsAt(t-o,e);r=o}};e.prototype.measureVisibleLineHeights=function(){var t=[],e=this.view.viewState.viewport,r=e.from,i=e.to;var n=Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1;for(var o=0,a=0;a<this.children.length;a++){var s=this.children[a],l=o+s.length;if(l>i)break;if(o>=r){t.push(s.dom.getBoundingClientRect().height);var c=s.dom.scrollWidth;if(c>n){this.minWidth=n=c;this.minWidthFrom=o;this.minWidthTo=l}}o=l+s.breakAfter}return t};e.prototype.measureTextSize=function(){var t=this;for(var e=0,r=this.children;e<r.length;e++){var i=r[e];if(i instanceof gi){var n=i.measureTextSize();if(n)return n}}var o=document.createElement("div"),a,s;o.className="cm-line";o.textContent="abc def ghi jkl mno pqr stu";this.view.observer.ignore((function(){t.dom.appendChild(o);var e=gr(o.firstChild)[0];a=o.getBoundingClientRect().height;s=e?e.width/27:7;o.remove()}));return{lineHeight:a,charWidth:s}};e.prototype.childCursor=function(t){if(t===void 0){t=this.length}var e=this.children.length;if(e)t-=this.children[--e].length;return new Ir(this.children,t,e)};e.prototype.computeBlockGapDeco=function(){var t=this.view.viewState.viewport,e=[t];var r=this.view.state.selection.primary,i=r.head,n=r.anchor;if(i<t.from||i>t.to){var o=this.view.viewState.lineAt(i,0),a=o.from,s=o.to;e.push(new Qn(a,s))}if(!e.some((function(t){var e=t.from,r=t.to;return n>=e&&n<=r}))){var l=this.view.viewState.lineAt(n,0),a=l.from,s=l.to;e.push(new Qn(a,s))}this.viewports=e.sort((function(t,e){return t.from-e.from}));var c=[];for(var u=0,f=0;;f++){var h=f==e.length?null:e[f];var d=h?h.from-1:this.length;if(d>u){var p=this.view.viewState.lineAt(d,0).bottom-this.view.viewState.lineAt(u,0).top;c.push(ti.replace({widget:new Mn(p),block:true,inclusive:true}).range(u,d))}if(!h)break;u=h.to+1}return ti.set(c)};e.prototype.updateDeco=function(){return this.decorations=__spreadArrays([this.computeBlockGapDeco(),this.view.viewState.lineGapDeco,this.compositionDeco],this.view.state.facet(mn),this.view.pluginField(hn))};e.prototype.scrollPosIntoView=function(t,e){var r=this.coordsAt(t,e);if(!r)return;var i=0,n=0,o=0,a=0;for(var s=0,l=this.view.pluginField(ln.scrollMargins);s<l.length;s++){var c=l[s];if(c){var u=c.left,f=c.right,h=c.top,d=c.bottom;if(u!=null)i=Math.max(i,u);if(f!=null)n=Math.max(n,f);if(h!=null)o=Math.max(o,h);if(d!=null)a=Math.max(a,d)}}kr(this.dom,{left:r.left-i,top:r.top-o,right:r.right+n,bottom:r.bottom+a})};return e}(Cr);var Cn=1e7;var Mn=function(t){mf(e,t);function e(e){var r=t.call(this)||this;r.height=e;return r}e.prototype.toDOM=function(){var t=document.createElement("div");this.updateDOM(t);return t};e.prototype.eq=function(t){return t.height==this.height};e.prototype.updateDOM=function(t){if(this.height<Cn){while(t.lastChild)t.lastChild.remove();t.style.height=this.height+"px"}else{t.style.height="";for(var e=this.height;e>0;e-=Cn){var r=t.appendChild(document.createElement("div"));r.style.height=Math.min(e,Cn)+"px"}}return true};Object.defineProperty(e.prototype,"estimatedHeight",{get:function(){return this.height},enumerable:false,configurable:true});return e}(Kr);function Un(t,e){var r=dr(t.root);var i=r.focusNode&&qn(r.focusNode,r.focusOffset,0);if(!i)return ti.none;var n=t.docView.nearest(i);var o,a,s=i;if(n instanceof Xr){while(n.parent instanceof Xr)n=n.parent;o=n.posAtStart;a=o+n.length;s=n.dom}else if(n instanceof gi){while(s.parentNode!=n.dom)s=s.parentNode;var l=s.previousSibling;while(l&&!Cr.get(l))l=l.previousSibling;o=a=l?Cr.get(l).posAtEnd:n.posAtStart}else{return ti.none}var c=e.mapPos(o,1),u=Math.max(c,e.mapPos(a,-1));var f=i.nodeValue,h=t.state;if(u-c<f.length){if(h.sliceDoc(c,Math.min(h.doc.length,c+f.length))==f)u=c+f.length;else if(h.sliceDoc(Math.max(0,u-f.length),u)==f)c=u-f.length;else return ti.none}else if(h.sliceDoc(c,u)!=f){return ti.none}return ti.set(ti.replace({widget:new In(s,i)}).range(c,u))}var In=function(t){mf(e,t);function e(e,r){var i=t.call(this)||this;i.top=e;i.text=r;return i}e.prototype.eq=function(t){return this.top==t.top&&this.text==t.text};e.prototype.toDOM=function(){return this.top};e.prototype.ignoreEvent=function(){return false};Object.defineProperty(e.prototype,"customView",{get:function(){return Vr},enumerable:false,configurable:true});return e}(Kr);function qn(t,e,r){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0&&r<=0){t=t.childNodes[e-1];e=br(t)}else if(t.nodeType==1&&e<t.childNodes.length&&r>=0){t=t.childNodes[e];e=0}else{return null}}}function Xn(t,e){if(t.nodeType!=1)return 0;return(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}var En=function(){function t(){this.changes=[]}t.prototype.compareRange=function(t,e){si(t,e,this.changes)};t.prototype.comparePoint=function(t,e){si(t,e,this.changes)};return t}();function jn(t,e,r){var i=new En;Me.compare(t,e,r,i);return i.changes}function Wn(t,e,r){if(r===void 0){r=1}var i=t.charCategorizer(e);var n=t.doc.lineAt(e),o=e-n.from;if(n.length==0)return Pt.cursor(e);if(o==0)r=1;else if(o==n.length)r=-1;var a=o,s=o;if(r<0)a=n.findClusterBreak(o,false);else s=n.findClusterBreak(o,true);var l=i(n.slice(a,s));while(a>0){var c=n.findClusterBreak(a,false);if(i(n.slice(c,a))!=l)break;a=c}while(s<n.length){var u=n.findClusterBreak(s,true);if(i(n.slice(s,u))!=l)break;s=u}return Pt.range(a+n.from,s+n.from)}function Dn(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function _n(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Vn(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Bn(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function zn(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Nn(t,e,r){var i,n,o,a;var s,l,c,u;for(var f=t.firstChild;f;f=f.nextSibling){var h=gr(f);for(var d=0;d<h.length;d++){var p=h[d];if(n&&Vn(n,p))p=Bn(zn(p,n.bottom),n.top);var v=Dn(e,p),g=_n(r,p);if(v==0&&g==0)return f.nodeType==3?Fn(f,e,r):Nn(f,e,r);if(!i||a>g||a==g&&o>v){i=f;n=p;o=v;a=g}if(v==0){if(r>p.bottom&&(!c||c.bottom<p.bottom)){s=f;c=p}else if(r<p.top&&(!u||u.top>p.top)){l=f;u=p}}else if(c&&Vn(c,p)){c=zn(c,p.bottom)}else if(u&&Vn(u,p)){u=Bn(u,p.top)}}}if(c&&c.bottom>=r){i=s;n=c}else if(u&&u.top<=r){i=l;n=u}if(!i)return{node:t,offset:0};var m=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return Fn(i,m,r);if(!o&&i.contentEditable=="true")return Nn(i,m,r);var O=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:t,offset:O}}function Fn(t,e,r){var i=t.nodeValue.length,n=Rr();for(var o=0;o<i;o++){n.setEnd(t,o+1);n.setStart(t,o);var a=n.getClientRects();for(var s=0;s<a.length;s++){var l=a[s];if(l.top==l.bottom)continue;if(l.left-1<=e&&l.right+1>=e&&l.top-1<=r&&l.bottom+1>=r){var c=e>=(l.left+l.right)/2,u=c;if(hr.chrome||hr.gecko){n.setEnd(t,o);var f=n.getBoundingClientRect();if(f.left==l.right)u=!c}return{node:t,offset:o+(u?1:0)}}}}return{node:t,offset:0}}function Gn(t,e,r){var i;var n=e.x,o=e.y;if(r===void 0){r=-1}var a=t.contentDOM.getBoundingClientRect(),s;var l=t.defaultLineHeight/2;for(var c=false;;){s=t.blockAtHeight(o,a.top);if(s.top>o||s.bottom<o){r=s.top>o?-1:1;o=Math.min(s.bottom-l,Math.max(s.top+l,o));if(c)return-1;else c=true}if(s.type==Jr.Text)break;o=r>0?s.bottom+l:s.top-l}var u=s.from;if(u<t.viewport.from)return t.viewport.from==0?0:null;if(u>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:null;n=Math.max(a.left+1,Math.min(a.right-1,n));var f=t.root,h=f.elementFromPoint(n,o);var d,p=-1;if(h&&t.contentDOM.contains(h)&&!(t.docView.nearest(h)instanceof _r)){if(f.caretPositionFromPoint){var v=f.caretPositionFromPoint(n,o);if(v)d=v.offsetNode,p=v.offset}else if(f.caretRangeFromPoint){var g=f.caretRangeFromPoint(n,o);if(g)d=g.startContainer,p=g.startOffset}}if(!d||!t.docView.dom.contains(d)){var m=gi.find(t.docView,u);i=Nn(m.dom,n,o),d=i.node,p=i.offset}return t.docView.posFromDOM(d,p)}function Yn(t,e,r,i){var n=t.state.doc.lineAt(e.head);var o=!i||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(o){var a=t.dom.getBoundingClientRect();var s=t.posAtCoords({x:r==(t.textDirection==wi.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(s!=null)return Pt.cursor(s,r?-1:1)}var l=gi.find(t.docView,e.head);var c=l?r?l.posAtEnd:l.posAtStart:r?n.to:n.from;return Pt.cursor(c,r?-1:1)}function Hn(t,e,r,i){var n=t.state.doc.lineAt(e.head),o=t.bidiSpans(n);for(var a=e,s=null;;){var l=Ui(n,o,t.textDirection,a,r),c=Mi;if(!l){if(n.number==(r?t.state.doc.lines:1))return a;c="\n";n=t.state.doc.line(n.number+(r?1:-1));o=t.bidiSpans(n);l=Pt.cursor(r?n.from:n.to)}if(!s){if(!i)return l;s=i(c)}else if(!s(c)){return a}a=l}}function Zn(t,e,r){var i=t.state.charCategorizer(e);var n=i(r);return function(t){var e=i(t);if(n==he.Space)n=e;return n==e}}function Kn(t,e,r,i){var n;var o=e.head,a=r?1:-1;if(o==(r?t.state.doc.length:0))return Pt.cursor(o);var s=t.coordsAtPos(o);if(s){var l=t.dom.getBoundingClientRect();var c=(n=e.goalColumn)!==null&&n!==void 0?n:s.left-l.left;var u=l.left+c;var f=i!==null&&i!==void 0?i:5;for(var h=a<0?s.top:s.bottom,d=0;d<50;d+=10){var p=Gn(t,{x:u,y:h+(f+d)*a},a);if(p==null)break;if(p!=o)return Pt.cursor(p,undefined,undefined,c)}}var v=t.state.doc,g=v.lineAt(o),m=t.state.tabSize;var O=e.goalColumn,y=0;if(O==null){for(var b=v.iterRange(g.from,o);!b.next().done;)y=T(b.value,y,m);O=y*t.defaultCharacterWidth}else{y=Math.round(O/t.defaultCharacterWidth)}if(a<0&&g.from==0)return Pt.cursor(0);else if(a>0&&g.to==v.length)return Pt.cursor(g.to);var w=v.line(g.number+a);var x=w.from;var S=0;for(var b=v.iterRange(w.from,w.to);S>=y&&!b.next().done;){var k=C(b.value,S,y,m),Q=k.offset,P=k.leftOver;S=y-P;x+=Q}return Pt.cursor(x,undefined,undefined,O)}var Jn=function(){function t(t){var e=this;this.lastKeyCode=0;this.lastKeyTime=0;this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.scrollHandlers=[];this.registeredEvents=[];this.customHandlers=[];this.composing=false;this.compositionEndedAt=0;this.mouseSelection=null;var r=function(r){var n=oo[r];t.contentDOM.addEventListener(r,(function(i){if(!no(t,i)||e.ignoreDuringComposition(i))return;if(e.mustFlushObserver(i))t.observer.forceFlush();if(e.runCustomHandlers(r,t,i))i.preventDefault();else n(t,i)}));i.registeredEvents.push(r)};var i=this;for(var n in oo){r(n)}t.contentDOM.addEventListener("keydown",(function(e){t.inputState.lastKeyCode=e.keyCode;t.inputState.lastKeyTime=Date.now()}));this.notifiedFocused=t.hasFocus;this.ensureHandlers(t)}t.prototype.setSelectionOrigin=function(t){this.lastSelectionOrigin=t;this.lastSelectionTime=Date.now()};t.prototype.ensureHandlers=function(t){var e=this;var r=this.customHandlers=t.pluginField(dn);for(var i=0,n=r;i<n.length;i++){var o=n[i];var a=function(r){if(s.registeredEvents.indexOf(r)<0&&r!="scroll"){s.registeredEvents.push(r);t.contentDOM.addEventListener(r,(function(i){if(!no(t,i))return;if(e.runCustomHandlers(r,t,i))i.preventDefault()}))}};var s=this;for(var l in o.handlers){a(l)}}};t.prototype.runCustomHandlers=function(t,e,r){for(var i=0,n=this.customHandlers;i<n.length;i++){var o=n[i];var a=o.handlers[t];if(a){try{if(a.call(o.plugin,r,e)||r.defaultPrevented)return true}catch(s){on(e.state,s)}}}return false};t.prototype.runScrollHandlers=function(t,e){for(var r=0,i=this.customHandlers;r<i.length;r++){var n=i[r];var o=n.handlers.scroll;if(o){try{o.call(n.plugin,e,t)}catch(a){on(t.state,a)}}}};t.prototype.ignoreDuringComposition=function(t){if(!/^key/.test(t.type))return false;if(this.composing)return true;if(hr.safari&&t.timeStamp-this.compositionEndedAt<500){this.compositionEndedAt=0;return true}return false};t.prototype.mustFlushObserver=function(t){return t.type=="keydown"||t.type=="compositionend"};t.prototype.startMouseSelection=function(t,e,r){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=new to(this,t,e,r)};t.prototype.update=function(t){if(this.mouseSelection)this.mouseSelection.update(t);this.lastKeyCode=this.lastSelectionTime=0};t.prototype.destroy=function(){if(this.mouseSelection)this.mouseSelection.destroy()};return t}();var to=function(){function t(t,e,r,i){this.inputState=t;this.view=e;this.startEvent=r;this.style=i;var n=e.contentDOM.ownerDocument;n.addEventListener("mousemove",this.move=this.move.bind(this));n.addEventListener("mouseup",this.up=this.up.bind(this));this.extend=r.shiftKey;this.multiple=e.state.facet(me.allowMultipleSelections)&&eo(e,r);this.dragMove=ro(e,r);this.dragging=io(e,r)?null:false;if(this.dragging===false){r.preventDefault();this.select(r)}}t.prototype.move=function(t){if(t.buttons==0)return this.destroy();if(this.dragging!==false)return;this.select(t)};t.prototype.up=function(t){if(this.dragging==null)this.select(this.startEvent);if(!this.dragging)t.preventDefault();this.destroy()};t.prototype.destroy=function(){var t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move);t.removeEventListener("mouseup",this.up);this.inputState.mouseSelection=null};t.prototype.select=function(t){var e=this.style.get(t,this.extend,this.multiple);if(!e.eq(this.view.state.selection)||e.primary.assoc!=this.view.state.selection.primary.assoc)this.view.dispatch({selection:e,annotations:oe.userEvent.of("pointerselection"),scrollIntoView:true})};t.prototype.update=function(t){if(t.docChanged&&this.dragging)this.dragging=this.dragging.map(t.changes);this.style.update(t)};return t}();function eo(t,e){var r=t.state.facet(Ki);return r.length?r[0](e):hr.mac?e.metaKey:e.ctrlKey}function ro(t,e){var r=t.state.facet(Ji);return r.length?r[0](e):hr.mac?!e.altKey:!e.ctrlKey}function io(t,e){var r=t.state.selection.primary;if(r.empty)return false;var i=dr(t.root);if(i.rangeCount==0)return true;var n=i.getRangeAt(0).getClientRects();for(var o=0;o<n.length;o++){var a=n[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return true}return false}function no(t,e){if(!e.bubbles)return true;if(e.defaultPrevented)return false;for(var r=e.target,i=void 0;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(i=Cr.get(r))&&i.ignoreEvent(e))return false;return true}var oo=Object.create(null);var ao=hr.ie&&hr.ie_version<15||hr.ios&&hr.webkit_version<604;function so(t){var e=t.dom.parentNode;if(!e)return;var r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px";r.focus();setTimeout((function(){t.focus();r.remove();lo(t,r.value)}),50)}function lo(t,e){var r=t.state,i,n=1,o=r.toText(e);var a=o.lines==r.selection.ranges.length;var s=So&&r.selection.ranges.every((function(t){return t.empty}))&&So==o.toString();if(s){i={changes:r.selection.ranges.map((function(t){return r.doc.lineAt(t.from)})).filter((function(t,e,r){return e==0||r[e-1]!=t})).map((function(t){return{from:t.from,insert:(a?o.line(n++).slice():e)+r.lineBreak}}))}}else if(a){i=r.changeByRange((function(t){var e=o.line(n++);return{changes:{from:t.from,to:t.to,insert:e.slice()},range:Pt.cursor(t.from+e.length)}}))}else{i=r.replaceSelection(o)}t.dispatch(i,{annotations:oe.userEvent.of("paste"),scrollIntoView:true})}function co(t){var e=(t.ctrlKey?1:0)|(t.metaKey?8:0)|(t.altKey?2:0)|(t.shiftKey?4:0);var r=t.keyCode,i=hr.mac&&e==1;return r==8||i&&r==72||r==46||i&&r==68||r==27||e==(hr.mac?8:1)&&(r==66||r==73||r==89||r==90)}oo.keydown=function(t,e){if(co(e))e.preventDefault();t.inputState.setSelectionOrigin("keyboardselection")};oo.touchdown=oo.touchmove=function(t){t.inputState.setSelectionOrigin("pointerselection")};oo.mousedown=function(t,e){var r=null;for(var i=0,n=t.state.facet(tn);i<n.length;i++){var o=n[i];r=o(t,e);if(r)break}if(!r&&e.button==0)r=bo(t,e);if(r){if(t.root.activeElement!=t.contentDOM)t.observer.ignore((function(){return Lr(t.contentDOM)}));t.inputState.startMouseSelection(t,e,r)}};function uo(t,e,r,i){if(i==1){return Pt.cursor(e,r)}else if(i==2){return Wn(t.state,e,r)}else{var n=gi.find(t.docView,e);if(n)return Pt.range(n.posAtStart,n.posAtEnd);var o=t.state.doc.lineAt(e),a=o.from,s=o.to;return Pt.range(a,s)}}var fo=function(t,e){return t>=e.top&&t<=e.bottom};var ho=function(t,e,r){return fo(e,r)&&t>=r.left&&t<=r.right};function po(t,e,r,i){var n=gi.find(t.docView,e);if(!n)return 1;var o=e-n.posAtStart;if(o==0)return 1;if(o==n.length)return-1;var a=n.coordsAt(o,-1);if(a&&ho(r,i,a))return-1;var s=n.coordsAt(o,1);if(s&&ho(r,i,s))return 1;return a&&fo(i,a)?-1:1}function vo(t,e){var r=t.posAtCoords({x:e.clientX,y:e.clientY});if(r==null)return null;return{pos:r,bias:po(t,r,e.clientX,e.clientY)}}var go=hr.ie&&hr.ie_version<=11;var mo=null,Oo=0;function yo(t){if(!go)return t.detail;var e=mo;mo=t;return Oo=!e||e.timeStamp>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Oo+1)%3:1}function bo(t,e){var r=vo(t,e),i=yo(e);var n=t.state.selection;var o=r,a=e;return{update:function(t){if(t.changes){if(r)r.pos=t.changes.mapPos(r.pos);n=n.map(t.changes)}},get:function(e,s,l){var c;if(e.clientX==a.clientX&&e.clientY==a.clientY)c=o;else{c=o=vo(t,e);a=e}if(!c||!r)return n;var u=uo(t,c.pos,c.bias,i);if(r.pos!=c.pos&&!s){var f=uo(t,r.pos,r.bias,i);var h=Math.min(f.from,u.from),d=Math.max(f.to,u.to);u=h<u.from?Pt.range(h,d):Pt.range(d,h)}if(s)return n.replaceRange(n.primary.extend(u.from,u.to));else if(l)return n.addRange(u);else return Pt.create([u])}}}oo.dragstart=function(t,e){var r=t.state.selection.primary;var i=t.inputState.mouseSelection;if(i)i.dragging=r;if(e.dataTransfer){e.dataTransfer.setData("Text",t.state.sliceDoc(r.from,r.to));e.dataTransfer.effectAllowed="copyMove"}};oo.drop=function(t,e){if(!e.dataTransfer)return;var r=t.posAtCoords({x:e.clientX,y:e.clientY});var i=e.dataTransfer.getData("Text");if(r==null||!i)return;e.preventDefault();var n=t.inputState.mouseSelection;var o=n&&n.dragging&&n.dragMove?{from:n.dragging.from,to:n.dragging.to}:null;var a={from:r,insert:i};var s=t.state.changes(o?[o,a]:a);t.focus();t.dispatch({changes:s,selection:{anchor:s.mapPos(r,-1),head:s.mapPos(r,1)},annotations:oe.userEvent.of("drop")})};oo.paste=function(t,e){t.observer.flush();var r=ao?null:e.clipboardData;var i=r&&r.getData("text/plain");if(i){lo(t,i);e.preventDefault()}else{so(t)}};function wo(t,e){var r=t.dom.parentNode;if(!r)return;var i=r.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px";i.value=e;i.focus();i.selectionEnd=e.length;i.selectionStart=0;setTimeout((function(){i.remove();t.focus()}),50)}function xo(t){var e=[],r=[],i=false;for(var n=0,o=t.selection.ranges;n<o.length;n++){var a=o[n];if(!a.empty){e.push(t.sliceDoc(a.from,a.to));r.push(a)}}if(!e.length){var s=-1;for(var l=0,c=t.selection.ranges;l<c.length;l++){var u=c[l].from;var f=t.doc.lineAt(u);if(f.number>s){e.push(f.slice());r.push({from:f.from,to:Math.min(t.doc.length,f.to+1)})}s=f.number}i=true}return{text:e.join(t.lineBreak),ranges:r,linewise:i}}var So=null;oo.copy=oo.cut=function(t,e){var r=xo(t.state),i=r.text,n=r.ranges,o=r.linewise;if(!i)return;So=o?i:null;var a=ao?null:e.clipboardData;if(a){e.preventDefault();a.clearData();a.setData("text/plain",i)}else{wo(t,i)}if(e.type=="cut")t.dispatch({changes:n,scrollIntoView:true,annotations:oe.userEvent.of("cut")})};oo.focus=oo.blur=function(t){setTimeout((function(){if(t.hasFocus!=t.inputState.notifiedFocused)t.update([])}),10)};oo.beforeprint=function(t){t.viewState.printing=true;t.requestMeasure();setTimeout((function(){t.viewState.printing=false;t.requestMeasure()}),2e3)};function ko(t){if(t.docView.compositionDeco.size)t.update([])}oo.compositionstart=oo.compositionupdate=function(t){if(!t.inputState.composing){if(t.docView.compositionDeco.size){t.observer.flush();ko(t)}t.inputState.composing=true}};oo.compositionend=function(t){t.inputState.composing=false;t.inputState.compositionEndedAt=Date.now();setTimeout((function(){if(!t.inputState.composing)ko(t)}),50)};var Qo={childList:true,characterData:true,subtree:true,characterDataOldValue:true};var Po=hr.ie&&hr.ie_version<=11;var Lo=function(){function t(t,e,r){var i=this;this.view=t;this.onChange=e;this.onScrollChanged=r;this.active=false;this.ignoreSelection=new Qr;this.delayedFlush=-1;this.queue=[];this.scrollTargets=[];this.intersection=null;this.intersecting=false;this.parentCheck=-1;this.dom=t.contentDOM;this.observer=new MutationObserver((function(t){for(var e=0,r=t;e<r.length;e++){var n=r[e];i.queue.push(n)}if(hr.ie&&hr.ie_version<=11&&t.some((function(t){return t.type=="childList"&&t.removedNodes.length||t.type=="characterData"&&t.oldValue.length>t.target.nodeValue.length})))i.flushSoon();else i.flush()}));if(Po)this.onCharData=function(t){i.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue});i.flushSoon()};this.onSelectionChange=function(){if(i.view.root.activeElement!=i.dom)return;if(hr.ie&&hr.ie_version<=11&&!i.view.state.selection.primary.empty){var t=dr(i.view.root);if(t.focusNode&&mr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return i.flushSoon()}i.flush()};this.start();this.onScroll=this.onScroll.bind(this);window.addEventListener("scroll",this.onScroll);if(typeof IntersectionObserver=="function"){this.intersection=new IntersectionObserver((function(t){if(i.parentCheck<0)i.parentCheck=setTimeout(i.listenForScroll.bind(i),1e3);if(t[t.length-1].intersectionRatio>0!=i.intersecting){i.intersecting=!i.intersecting;i.onScrollChanged(document.createEvent("Event"))}}),{});this.intersection.observe(this.dom)}this.listenForScroll()}t.prototype.onScroll=function(t){if(this.intersecting){this.flush();this.onScrollChanged(t)}};t.prototype.listenForScroll=function(){this.parentCheck=-1;var t=0,e=null;for(var r=this.dom;r;){if(r.nodeType==1){if(!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==r)t++;else if(!e)e=this.scrollTargets.slice(0,t);if(e)e.push(r);r=r.parentNode}else if(r.nodeType==11){r=r.host}else{break}}if(t<this.scrollTargets.length&&!e)e=this.scrollTargets.slice(0,t);if(e){for(var i=0,n=this.scrollTargets;i<n.length;i++){var r=n[i];r.removeEventListener("scroll",this.onScroll)}for(var o=0,a=this.scrollTargets=e;o<a.length;o++){var r=a[o];r.addEventListener("scroll",this.onScroll)}}};t.prototype.ignore=function(t){if(!this.active)return t();try{this.stop();return t()}finally{this.start();this.clear()}};t.prototype.start=function(){if(this.active)return;this.observer.observe(this.dom,Qo);this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange);if(Po)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=true};t.prototype.stop=function(){if(!this.active)return;this.active=false;this.observer.disconnect();this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange);if(Po)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)};t.prototype.clearSelection=function(){this.ignoreSelection.set(dr(this.view.root))};t.prototype.clear=function(){this.observer.takeRecords();this.queue.length=0;this.clearSelection()};t.prototype.flushSoon=function(){var t=this;if(this.delayedFlush<0)this.delayedFlush=window.setTimeout((function(){t.delayedFlush=-1;t.flush()}),20)};t.prototype.forceFlush=function(){if(this.delayedFlush>=0){window.clearTimeout(this.delayedFlush);this.delayedFlush=-1;this.flush()}};t.prototype.flush=function(){var t=this;if(this.delayedFlush>=0)return;var e=this.queue;for(var r=0,i=this.observer.takeRecords();r<i.length;r++){var n=i[r];e.push(n)}if(e.length)this.queue=[];var o=dr(this.view.root);var a=!this.ignoreSelection.eq(o)&&vr(this.dom,o);if(e.length==0&&!a)return;var s=-1,l=-1,c=false;for(var u=0,f=e;u<f.length;u++){var h=f[u];var d=this.readMutation(h);if(!d)continue;if(d.typeOver)c=true;if(s==-1){s=d.from,l=d.to}else{s=Math.min(d.from,s);l=Math.max(d.to,l)}}var p=this.view.state;if(s>-1||a)this.onChange(s,l,c);if(this.view.state==p){if(this.view.docView.dirty){this.ignore((function(){return t.view.docView.sync()}));this.view.docView.dirty=0}this.view.docView.updateSelection()}this.clearSelection()};t.prototype.readMutation=function(t){var e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;e.markDirty();if(t.type=="childList"){var r=$o(e,t.previousSibling||t.target.previousSibling,-1);var i=$o(e,t.nextSibling||t.target.nextSibling,1);return{from:r?e.posAfter(r):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:false}}else{return{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}};t.prototype.destroy=function(){this.stop();if(this.intersection)this.intersection.disconnect();for(var t=0,e=this.scrollTargets;t<e.length;t++){var r=e[t];r.removeEventListener("scroll",this.onScroll)}window.removeEventListener("scroll",this.onScroll);clearTimeout(this.parentCheck)};return t}();function $o(t,e,r){while(e){var i=Cr.get(e);if(i&&i.parent==t)return i;var n=e.parentNode;e=n!=t.dom?n:r>0?e.nextSibling:e.previousSibling}return null}function Ro(t,e,r,i){var n,o;var a=t.state.selection.primary,s;if(e>-1&&(s=t.docView.domBoundsAround(e,r,0))){var l=s.from,c=s.to;var u=t.docView.impreciseHead||t.docView.impreciseAnchor?[]:Uo(t.contentDOM,t.root);var f=new To(u,t.state.lineBreak);f.readRange(s.startDOM,s.endDOM);o=Io(u,l);var h=a.from,d=null;if(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100){h=a.to;d="end"}var p=Ao(t.state.sliceDoc(l,c),f.text,h-l,d);if(p)n={from:l+p.from,to:l+p.toA,insert:t.state.toText(f.text.slice(p.from,p.toB))}}else if(t.hasFocus){var v=dr(t.root);var g=t.docView,m=g.impreciseHead,O=g.impreciseAnchor;var y=m&&m.node==v.focusNode&&m.offset==v.focusOffset?t.state.selection.primary.head:t.docView.posFromDOM(v.focusNode,v.focusOffset);var b=O&&O.node==v.anchorNode&&O.offset==v.anchorOffset?t.state.selection.primary.anchor:pr(v)?y:t.docView.posFromDOM(v.anchorNode,v.anchorOffset);if(y!=a.head||b!=a.anchor)o=Pt.single(b,y)}if(!n&&!o)return;if(!n&&i&&!a.empty&&o&&o.primary.empty)n={from:a.from,to:a.to,insert:t.state.doc.slice(a.from,a.to)};if(n){var w=t.state;if(hr.android&&(n.from==a.from&&n.to==a.to&&n.insert.length==1&&n.insert.lines==2&&qo(t,"Enter",10)||n.from==a.from-1&&n.to==a.to&&n.insert.length==0&&qo(t,"Backspace",8)||n.from==a.from&&n.to==a.to+1&&n.insert.length==0&&qo(t,"Delete",46)))return;var x=n.insert.toString();if(t.state.facet(nn).some((function(e){return e(t,n.from,n.to,x)})))return;var S=void 0;if(n.from>=a.from&&n.to<=a.to&&n.to-n.from>=(a.to-a.from)/3){var k=a.from<n.from?w.sliceDoc(a.from,n.from):"";var Q=a.to>n.to?w.sliceDoc(n.to,a.to):"";S=w.replaceSelection(t.state.toText(k+n.insert.sliceString(0,undefined,t.state.lineBreak)+Q))}else{var P=w.changes(n);S={changes:P,selection:o&&!w.selection.primary.eq(o.primary)&&o.primary.to<=P.newLength?w.selection.replaceRange(o.primary):undefined}}t.dispatch(S,{scrollIntoView:true,annotations:oe.userEvent.of("input")})}else if(o&&!o.primary.eq(a)){var L=false,$=void 0;if(t.inputState.lastSelectionTime>Date.now()-50){if(t.inputState.lastSelectionOrigin=="keyboardselection")L=true;else $=oe.userEvent.of(t.inputState.lastSelectionOrigin)}t.dispatch({selection:o,scrollIntoView:L,annotations:$})}}function Ao(t,e,r,i){var n=Math.min(t.length,e.length);var o=0;while(o<n&&t.charCodeAt(o)==e.charCodeAt(o))o++;if(o==n&&t.length==e.length)return null;var a=t.length,s=e.length;while(a>0&&s>0&&t.charCodeAt(a-1)==e.charCodeAt(s-1)){a--;s--}if(i=="end"){var l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&t.length<e.length){var c=r<=o&&r>=a?o-r:0;o-=c;s=o+(s-a);a=o}else if(s<o){var c=r<=o&&r>=s?o-r:0;o-=c;a=o+(a-s);s=o}return{from:o,toA:a,toB:s}}var To=function(){function t(t,e){this.points=t;this.lineSep=e;this.text=""}t.prototype.readRange=function(t,e){if(!t)return;var r=t.parentNode;for(var i=t;;){this.findPointBefore(r,i);this.readNode(i);var n=i.nextSibling;if(n==e)break;var o=Cr.get(i),a=Cr.get(n);if((o?o.breakAfter:Co(i))||(a?a.breakAfter:Co(n))&&!(i.nodeName=="BR"&&!i.cmIgnore))this.text+=this.lineSep;i=n}this.findPointBefore(r,e)};t.prototype.readNode=function(t){if(t.cmIgnore)return;var e=Cr.get(t);var r=e&&e.overrideDOMText;var i;if(r!=null)i=r.sliceString(0,undefined,this.lineSep);else if(t.nodeType==3)i=t.nodeValue;else if(t.nodeName=="BR")i=t.nextSibling?this.lineSep:"";else if(t.nodeType==1)this.readRange(t.firstChild,null);if(i!=null){this.findPointIn(t,i.length);this.text+=i}};t.prototype.findPointBefore=function(t,e){for(var r=0,i=this.points;r<i.length;r++){var n=i[r];if(n.node==t&&t.childNodes[n.offset]==e)n.pos=this.text.length}};t.prototype.findPointIn=function(t,e){for(var r=0,i=this.points;r<i.length;r++){var n=i[r];if(n.node==t)n.pos=this.text.length+Math.min(n.offset,e)}};return t}();function Co(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}var Mo=function(){function t(t,e){this.node=t;this.offset=e;this.pos=-1}return t}();function Uo(t,e){var r=[];if(e.activeElement!=t)return r;var i=dr(e),n=i.anchorNode,o=i.anchorOffset,a=i.focusNode,s=i.focusOffset;if(n){r.push(new Mo(n,o));if(a!=n||s!=o)r.push(new Mo(a,s))}return r}function Io(t,e){if(t.length==0)return null;var r=t[0].pos,i=t.length==2?t[1].pos:r;return r>-1&&i>-1?Pt.single(r+e,i+e):null}function qo(t,e,r){var i={key:e,code:e,keyCode:r,which:r,cancelable:true};var n=new KeyboardEvent("keydown",i);t.contentDOM.dispatchEvent(n);var o=new KeyboardEvent("keyup",i);t.contentDOM.dispatchEvent(o);return n.defaultPrevented||o.defaultPrevented}var Xo=function(){function t(t){var e=this;if(t===void 0){t={}}this.plugins=[];this.editorAttrs={};this.contentAttrs={};this.bidiCache=[];this.updateState=2;this.measureScheduled=-1;this.measureRequests=[];this.contentDOM=document.createElement("div");this.scrollDOM=document.createElement("div");this.scrollDOM.className=di("scroller");this.scrollDOM.appendChild(this.contentDOM);this.dom=document.createElement("div");this.dom.appendChild(this.scrollDOM);this._dispatch=t.dispatch||function(t){return e.update([t])};this.dispatch=this.dispatch.bind(this);this.root=t.root||document;this.viewState=new kn(t.state||me.create());this.plugins=this.state.facet(un).map((function(t){return pn.create(t,e)}));this.observer=new Lo(this,(function(t,r,i){return Ro(e,t,r,i)}),(function(t){e.inputState.runScrollHandlers(e,t);e.measure()}));this.docView=new Tn(this);this.inputState=new Jn(this);this.mountStyles();this.updateAttrs();this.updateState=0;Do();this.requestMeasure();if(t.parent)t.parent.appendChild(this.dom)}Object.defineProperty(t.prototype,"state",{get:function(){return this.viewState.state},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"viewport",{get:function(){return this.viewState.viewport},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"visibleRanges",{get:function(){return this.viewState.visibleRanges},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"inView",{get:function(){return this.viewState.inView},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"composing",{get:function(){return this.inputState.composing},enumerable:false,configurable:true});t.prototype.dispatch=function(){var t;var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}this._dispatch(e.length==1&&e[0]instanceof oe?e[0]:(t=this.state).update.apply(t,e))};t.prototype.update=function(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");this.updateState=2;var e=this.state;for(var r=0,i=t;r<i.length;r++){var n=i[r];if(n.startState!=e)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");e=n.state}var o=new bn(this,e,t);var a=t.some((function(t){return t.scrollIntoView}))?e.selection.primary:null;this.viewState.update(o,a);this.bidiCache=Bo.update(this.bidiCache,o.changes);if(!o.empty)this.updatePlugins(o);var s=this.docView.update(o);if(this.state.facet(On)!=this.styleModules)this.mountStyles();this.updateAttrs();this.updateState=0;if(s||a||this.viewState.mustEnforceCursorAssoc)this.requestMeasure();for(var l=0,c=this.state.facet(rn);l<c.length;l++){var u=c[l];u(o)}};t.prototype.setState=function(t){var e=this;if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");this.updateState=2;for(var r=0,i=this.plugins;r<i.length;r++){var n=i[r];n.destroy(this)}this.viewState=new kn(t);this.plugins=t.facet(un).map((function(t){return pn.create(t,e)}));this.docView=new Tn(this);this.inputState.ensureHandlers(this);this.mountStyles();this.updateAttrs();this.bidiCache=[];this.updateState=0;this.requestMeasure()};t.prototype.updatePlugins=function(t){var e=t.prevState.facet(un),r=t.state.facet(un);if(e!=r){var i=[],n=[];for(var o=0,a=r;o<a.length;o++){var s=a[o];var l=e.indexOf(s);if(l<0){i.push(pn.create(s,this))}else{var c=this.plugins[l].update(t);n.push(c);i.push(c)}}for(var u=0,f=this.plugins;u<f.length;u++){var c=f[u];if(n.indexOf(c)<0)c.destroy(this)}this.plugins=i;this.inputState.ensureHandlers(this)}else{for(var h=0;h<this.plugins.length;h++)this.plugins[h]=this.plugins[h].update(t)}};t.prototype.measure=function(){var t=this;if(this.measureScheduled>-1)cancelAnimationFrame(this.measureScheduled);this.measureScheduled=-1;var e=null;for(var r=0;;r++){this.updateState=1;var i=this.viewState.measure(this.docView,r>0);var n=this.measureRequests;if(!i&&!n.length&&this.viewState.scrollTo==null)break;this.measureRequests=[];if(r>5){console.warn("Viewport failed to stabilize");break}var o=n.map((function(e){try{return e.read(t)}catch(r){on(t.state,r);return Vo}}));var a=new bn(this,this.state);a.flags|=i;if(!e)e=a;else e.flags|=i;this.updateState=2;this.updatePlugins(a);this.updateAttrs();if(i)this.docView.update(a);for(var s=0;s<n.length;s++)if(o[s]!=Vo){try{n[s].write(o[s],this)}catch(f){on(this.state,f)}}if(this.viewState.scrollTo){this.docView.scrollPosIntoView(this.viewState.scrollTo.head,this.viewState.scrollTo.assoc);this.viewState.scrollTo=null}if(!(i&4)&&this.measureRequests.length==0)break}this.updateState=0;this.measureScheduled=-1;if(e)for(var l=0,c=this.state.facet(rn);l<c.length;l++){var u=c[l];u(e)}};Object.defineProperty(t.prototype,"themeClasses",{get:function(){return ui+" "+(this.state.facet(ci)?"cm-dark":"cm-light")+" "+this.state.facet(li)},enumerable:false,configurable:true});t.prototype.updateAttrs=function(){var t=Yr(this.state.facet(vn),{class:di("wrap")+(this.hasFocus?" cm-focused ":" ")+this.themeClasses});Zr(this.dom,this.editorAttrs,t);this.editorAttrs=t;var e=Yr(this.state.facet(gn),{spellcheck:"false",contenteditable:String(this.state.facet(an)),class:di("content"),style:hr.tabSize+": "+this.state.tabSize,role:"textbox","aria-multiline":"true"});Zr(this.contentDOM,this.contentAttrs,e);this.contentAttrs=e};t.prototype.mountStyles=function(){this.styleModules=this.state.facet(On);Se.mount(this.root,this.styleModules.concat(pi).reverse())};t.prototype.domAtPos=function(t){return this.docView.domAtPos(t)};t.prototype.posAtDOM=function(t,e){if(e===void 0){e=0}return this.docView.posFromDOM(t,e)};t.prototype.readMeasured=function(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure()};t.prototype.requestMeasure=function(t){var e=this;if(this.measureScheduled<0)this.measureScheduled=requestAnimationFrame((function(){return e.measure()}));if(t){if(t.key!=null)for(var r=0;r<this.measureRequests.length;r++){if(this.measureRequests[r].key===t.key){this.measureRequests[r]=t;return}}this.measureRequests.push(t)}};t.prototype.pluginField=function(t){var e=[];for(var r=0,i=this.plugins;r<i.length;r++){var n=i[r];n.takeField(t,e)}return e};t.prototype.plugin=function(t){for(var e=0,r=this.plugins;e<r.length;e++){var i=r[e];if(i.spec==t)return i.value}return null};t.prototype.blockAtHeight=function(t,e){this.readMeasured();return this.viewState.blockAtHeight(t,jo(e,this.contentDOM))};t.prototype.visualLineAtHeight=function(t,e){this.readMeasured();return this.viewState.lineAtHeight(t,jo(e,this.contentDOM))};t.prototype.visualLineAt=function(t,e){if(e===void 0){e=0}return this.viewState.lineAt(t,e)};t.prototype.viewportLines=function(t,e){var r=this.viewport,i=r.from,n=r.to;this.viewState.forEachLine(i,n,t,jo(e,this.contentDOM))};Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this.viewState.heightMap.height+this.viewState.paddingTop+this.viewState.paddingBottom},enumerable:false,configurable:true});t.prototype.moveByChar=function(t,e,r){return Hn(this,t,e,r)};t.prototype.moveByGroup=function(t,e){var r=this;return Hn(this,t,e,(function(e){return Zn(r,t.head,e)}))};t.prototype.moveToLineBoundary=function(t,e,r){if(r===void 0){r=true}return Yn(this,t,e,r)};t.prototype.moveVertically=function(t,e,r){return Kn(this,t,e,r)};t.prototype.scrollPosIntoView=function(t){this.viewState.scrollTo=Pt.cursor(t);this.requestMeasure()};t.prototype.posAtCoords=function(t){this.readMeasured();return Gn(this,t)};t.prototype.coordsAtPos=function(t,e){if(e===void 0){e=1}this.readMeasured();var r=this.docView.coordsAt(t,e);if(!r||r.left==r.right)return r;var i=this.state.doc.lineAt(t),n=this.bidiSpans(i);var o=n[Ri.find(n,t-i.from,-1,e)];return wr(r,o.dir==wi.LTR==e>0)};Object.defineProperty(t.prototype,"defaultCharacterWidth",{get:function(){return this.viewState.heightOracle.charWidth},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"defaultLineHeight",{get:function(){return this.viewState.heightOracle.lineHeight},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"textDirection",{get:function(){return this.viewState.heightOracle.direction},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"lineWrapping",{get:function(){return this.viewState.heightOracle.lineWrapping},enumerable:false,configurable:true});t.prototype.bidiSpans=function(t){if(t.length>Eo)return Ci(t.length);var e=this.textDirection;for(var r=0,i=this.bidiCache;r<i.length;r++){var n=i[r];if(n.from==t.from&&n.dir==e)return n.order}var o=Ti(t.slice(),this.textDirection);this.bidiCache.push(new Bo(t.from,t.to,e,o));return o};Object.defineProperty(t.prototype,"hasFocus",{get:function(){return this.root.activeElement==this.contentDOM},enumerable:false,configurable:true});t.prototype.focus=function(){var t=this;this.observer.ignore((function(){Lr(t.contentDOM);t.docView.updateSelection()}))};t.prototype.destroy=function(){for(var t=0,e=this.plugins;t<e.length;t++){var r=e[t];r.destroy(this)}this.inputState.destroy();this.dom.remove();this.observer.destroy();if(this.measureScheduled>-1)cancelAnimationFrame(this.measureScheduled)};t.domEventHandlers=function(t){return fn.define((function(){return{}}),{eventHandlers:t})};t.theme=function(t,e){var r=Se.newName();var i=[li.of(r),On.of(hi("."+ui+"."+r,t))];if(e&&e.dark)i.push(ci.of(true));return i};t.baseTheme=function(t){return Et(On.of(hi("."+ui,t)),"fallback")};return t}();Xo.styleModule=On;Xo.inputHandler=nn;Xo.exceptionSink=en;Xo.updateListener=rn;Xo.editable=an;Xo.dragMovesSelection=Ji;Xo.clickAddsSelectionRange=Ki;Xo.mouseSelectionStyle=tn;Xo.decorations=mn;Xo.lineWrapping=Xo.theme({$content:{whiteSpace:"pre-wrap"}});Xo.contentAttributes=gn;Xo.editorAttributes=vn;var Eo=4096;function jo(t,e){return t==null?e.getBoundingClientRect().top:t}var Wo=-1;function Do(){window.addEventListener("resize",(function(){if(Wo==-1)Wo=setTimeout(_o,50)}))}function _o(){Wo=-1;var t=document.querySelectorAll(".cm-content");for(var e=0;e<t.length;e++){var r=Cr.get(t[e]);if(r)r.editorView.requestMeasure()}}var Vo={};var Bo=function(){function t(t,e,r,i){this.from=t;this.to=e;this.dir=r;this.order=i}t.update=function(e,r){if(r.empty)return e;var i=[],n=e.length?e[e.length-1].dir:wi.LTR;for(var o=Math.max(0,e.length-10);o<e.length;o++){var a=e[o];if(a.dir==n&&!r.touchesRange(a.from,a.to))i.push(new t(r.mapPos(a.from,1),r.mapPos(a.to,-1),a.dir,a.order))}return i};return t}();var zo=typeof navigator=="undefined"?"key":/Mac/.test(navigator.platform)?"mac":/Win/.test(navigator.platform)?"win":/Linux|X11/.test(navigator.platform)?"linux":"key";function No(t,e){var r=t.split(/-(?!$)/);var i=r[r.length-1];if(i=="Space")i=" ";var n,o,a,s;for(var l=0;l<r.length-1;++l){var c=r[l];if(/^(cmd|meta|m)$/i.test(c))s=true;else if(/^a(lt)?$/i.test(c))n=true;else if(/^(c|ctrl|control)$/i.test(c))o=true;else if(/^s(hift)?$/i.test(c))a=true;else if(/^mod$/i.test(c)){if(e=="mac")s=true;else o=true}else throw new Error("Unrecognized modifier name: "+c)}if(n)i="Alt-"+i;if(o)i="Ctrl-"+i;if(s)i="Meta-"+i;if(a)i="Shift-"+i;return i}function Fo(t,e,r){if(e.altKey)t="Alt-"+t;if(e.ctrlKey)t="Ctrl-"+t;if(e.metaKey)t="Meta-"+t;if(r!==false&&e.shiftKey)t="Shift-"+t;return t}var Go=At.define();var Yo=Xo.domEventHandlers({keydown:function(t,e){return ta(e.state.facet(Go),t,e,"editor")}});function Ho(t,e){return[Yo,Go.of(Jo(t,e))]}var Zo=null;var Ko=4e3;function Jo(t,e){if(e===void 0){e=zo}var r=Object.create(null);var i=Object.create(null);var n=function(t,e){var r=i[t];if(r==null)i[t]=e;else if(r!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")};var o=function(t,i,o,a){var s=r[t]||(r[t]=Object.create(null));var l=i.split(/ (?!$)/).map((function(t){return No(t,e)}));var c=function(e){var r=l.slice(0,e).join(" ");n(r,true);if(!s[r])s[r]={preventDefault:true,commands:[function(e){var i=Zo={view:e,prefix:r,scope:t};setTimeout((function(){if(Zo==i)Zo=null}),Ko);return true}]}};for(var u=1;u<l.length;u++){c(u)}var f=l.join(" ");n(f,false);var h=s[f]||(s[f]={preventDefault:false,commands:[]});h.commands.push(o);if(a)h.preventDefault=true};for(var a=0,s=t;a<s.length;a++){var l=s[a];var c=l[e]||l.key;if(!c)continue;for(var u=0,f=l.scope?l.scope.split(" "):["editor"];u<f.length;u++){var h=f[u];o(h,c,l.run,l.preventDefault);if(l.shift)o(h,"Shift-"+c,l.shift,l.preventDefault)}}return r}function ta(t,e,r,i){var n=er(e),o=n.length==1&&n!=" ";var a="";if(Zo&&Zo.view==r&&Zo.scope==i){a=Zo.prefix+" ";Zo=null}var s=!!a;var l=function(t){if(t){for(var e=0,i=t.commands;e<i.length;e++){var n=i[e];if(n(r))return true}if(t.preventDefault)s=true}return false};for(var c=0,u=t;c<u.length;c++){var f=u[c];var h=f[i],d=void 0;if(!h)continue;if(l(h[a+Fo(n,e,!o)]))return true;if(o&&(e.shiftKey||e.altKey||e.metaKey)&&(d=ze[e.keyCode])&&d!=n){if(l(h[a+Fo(d,e,true)]))return true}else if(o&&e.shiftKey){if(l(h[a+Fo(n,e,true)]))return true}}return s}var ea=!hr.ios;var ra=At.define({combine:function(t){return Oe(t,{cursorBlinkRate:1200,drawRangeCursor:true},{cursorBlinkRate:function(t,e){return Math.min(t,e)},drawRangeCursor:function(t,e){return t||e}})}});function ia(t){if(t===void 0){t={}}return[ra.of(t),oa,sa]}var na=function(){function t(t,e,r,i,n){this.left=t;this.top=e;this.width=r;this.height=i;this.className=n}t.prototype.draw=function(){var t=document.createElement("div");t.className=this.className;t.style.left=this.left+"px";t.style.top=this.top+"px";if(this.width>=0)t.style.width=this.width+"px";t.style.height=this.height+"px";return t};t.prototype.eq=function(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className};return t}();var oa=fn.fromClass(function(){function t(t){this.view=t;this.rangePieces=[];this.cursors=[];this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)};this.selectionLayer=t.scrollDOM.appendChild(document.createElement("div"));this.selectionLayer.className=di("selectionLayer");this.selectionLayer.setAttribute("aria-hidden","true");this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div"));this.cursorLayer.className=di("cursorLayer");this.cursorLayer.setAttribute("aria-hidden","true");t.requestMeasure(this.measureReq);this.setBlinkRate()}t.prototype.setBlinkRate=function(){this.cursorLayer.style.animationDuration=this.view.state.facet(ra).cursorBlinkRate+"ms"};t.prototype.update=function(t){var e=t.prevState.facet(ra)!=t.state.facet(ra);if(e||t.selectionSet||t.geometryChanged||t.viewportChanged)this.view.requestMeasure(this.measureReq);if(t.transactions.some((function(t){return t.scrollIntoView})))this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";if(e)this.setBlinkRate()};t.prototype.readPos=function(){var t=this;var e=this.view.state,r=e.facet(ra);var i=e.selection.ranges.map((function(e){return e.empty?[]:ua(t.view,e)})).reduce((function(t,e){return t.concat(e)}));var n=[];for(var o=0,a=e.selection.ranges;o<a.length;o++){var s=a[o];var l=s==e.selection.primary;if(s.empty?!l||ea:r.drawRangeCursor){var c=da(this.view,s,l);if(c)n.push(c)}}return{rangePieces:i,cursors:n}};t.prototype.drawSel=function(t){var e=this;var r=t.rangePieces,i=t.cursors;if(r.length!=this.rangePieces.length||r.some((function(t,r){return!t.eq(e.rangePieces[r])}))){this.selectionLayer.textContent="";for(var n=0,o=r;n<o.length;n++){var a=o[n];this.selectionLayer.appendChild(a.draw())}this.rangePieces=r}if(i.length!=this.cursors.length||i.some((function(t,r){return!t.eq(e.cursors[r])}))){this.cursorLayer.textContent="";for(var s=0,l=i;s<l.length;s++){var c=l[s];this.cursorLayer.appendChild(c.draw())}this.cursors=i}};t.prototype.destroy=function(){this.selectionLayer.remove();this.cursorLayer.remove()};return t}());var aa={$content:{"& ::selection":{backgroundColor:"transparent !important"}}};if(ea)aa.$content.caretColor="transparent !important";var sa=Et(Xo.theme(aa),"override");var la=di("selectionBackground");function ca(t){var e=t.scrollDOM.getBoundingClientRect();return{left:e.left-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function ua(t,e){if(e.to<=t.viewport.from||e.from>=t.viewport.to)return[];var r=Math.max(e.from,t.viewport.from),i=Math.min(e.to,t.viewport.to);var n=t.textDirection==wi.LTR;var o=t.contentDOM,a=o.getBoundingClientRect(),s=ca(t);var l=window.getComputedStyle(o.firstChild);var c=a.left+parseInt(l.paddingLeft);var u=a.right-parseInt(l.paddingRight);var f=t.visualLineAt(r),h=t.visualLineAt(i);if(f.from==h.from){return m(O(e.from,e.to))}else{var d=O(e.from,null);var p=O(null,e.to);var v=[];if(f.to<h.from-1)v.push(g(c,d.bottom,u,p.top));else if(d.bottom<p.top&&p.top-d.bottom<4)d.bottom=p.top=(d.bottom+p.top)/2;return m(d).concat(v).concat(m(p))}function g(t,e,r,i){return new na(t-s.left,e-s.top,r-t,i-e,la)}function m(t){var e=t.top,r=t.bottom,i=t.horizontal;var n=[];for(var o=0;o<i.length;o+=2)n.push(g(i[o],e,i[o+1],r));return n}function O(e,r){var i=1e9,o=-1e9,a=[];function s(e,r,s,l,f){var h=t.coordsAtPos(e,1),d=t.coordsAtPos(s,-1);i=Math.min(h.top,d.top,i);o=Math.max(h.bottom,d.bottom,o);if(f==wi.LTR)a.push(n&&r?c:h.left,n&&l?u:d.right);else a.push(!n&&l?c:d.left,!n&&r?u:h.right)}var l=e!==null&&e!==void 0?e:t.moveToLineBoundary(Pt.cursor(r,1),false).head;var f=r!==null&&r!==void 0?r:t.moveToLineBoundary(Pt.cursor(e,-1),true).head;for(var h=0,d=t.visibleRanges;h<d.length;h++){var p=d[h];if(p.to>l&&p.from<f){for(var v=Math.max(p.from,l),g=Math.min(p.to,f);;){var m=t.state.doc.lineAt(v);for(var O=0,y=t.bidiSpans(m);O<y.length;O++){var b=y[O];var w=b.from+m.from,x=b.to+m.from;if(w>=g)break;if(x>v)s(Math.max(w,v),e==null&&w<=l,Math.min(x,g),r==null&&x>=f,b.dir)}v=m.to+1;if(v>=g)break}}}if(a.length==0){var S=t.coordsAtPos(l,-1);i=Math.min(S.top,i);o=Math.max(S.bottom,o)}return{top:i,bottom:o,horizontal:a}}}var fa=di("cursor.primary");var ha=di("cursor.secondary");function da(t,e,r){var i=t.coordsAtPos(e.head,e.assoc||1);if(!i)return null;var n=ca(t);return new na(i.left-n.left,i.top-n.top,-1,i.bottom-i.top,r?fa:ha)}var pa=/[\u0000-\u0008\u000a-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/gu;var va={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};var ga=null;function ma(){if(ga==null&&typeof document!="undefined"&&document.body){var t=document.body.style;ga=(t.tabSize||t.MozTabSize)!=null}return ga||false}var Oa=/x/.unicode!=null?"gu":"g";var ya=At.define({combine:function(t){var e=Oe(t,{render:null,specialChars:pa,addSpecialChars:null});if(e.replaceTabs=!ma())e.specialChars=new RegExp("\t|"+e.specialChars.source,Oa);if(e.addSpecialChars)e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Oa);return e}});function ba(t){if(t===void 0){t={}}var e=[ya.of(t),wa];if(!ma())e.push(La);return e}var wa=fn.fromClass(function(){function t(t){this.view=t;this.decorations=ti.none;this.decorationCache=Object.create(null);this.recompute()}t.prototype.update=function(t){var e=t.prevState.facet(ya)!=t.state.facet(ya);if(e)this.decorationCache=Object.create(null);if(e||t.changes.length||t.viewportChanged)this.recompute()};t.prototype.recompute=function(){var t=[];for(var e=0,r=this.view.visibleRanges;e<r.length;e++){var i=r[e],n=i.from,o=i.to;this.getDecorationsFor(n,o,t)}this.decorations=ti.set(t)};t.prototype.getDecorationsFor=function(t,e,r){var i=this.view.state.facet(ya);var n=this.view.state.doc;for(var o=t,a=n.iterRange(t,e),s=void 0;!a.next().done;){if(!a.lineBreak){while(s=i.specialChars.exec(a.value)){var l=$(s[0],0),c=void 0;if(l==null)continue;if(l==9){var u=n.lineAt(o+s.index);var f=this.view.state.tabSize,h=T(n.sliceString(u.from,o+s.index),0,f);c=ti.replace({widget:new Qa((f-h%f)*this.view.defaultCharacterWidth)})}else{c=this.decorationCache[l]||(this.decorationCache[l]=ti.replace({widget:new ka(i,l)}))}r.push(c.range(o+s.index,o+s.index+s[0].length))}}o+=a.value.length}};return t}(),{decorations:function(t){return t.decorations}});function xa(t){if(t>=32)return null;if(t==10)return"";return String.fromCharCode(9216+t)}var Sa="";var ka=function(t){mf(e,t);function e(e,r){var i=t.call(this)||this;i.options=e;i.code=r;return i}e.prototype.eq=function(t){return t.code==this.code};e.prototype.toDOM=function(){var t=xa(this.code)||Sa;var e="Control character "+(va[this.code]||this.code);var r=this.options.render&&this.options.render(this.code,e,t);if(r)return r;var i=document.createElement("span");i.textContent=t;i.title=e;i.setAttribute("aria-label",e);i.style.color="red";return i};e.prototype.ignoreEvent=function(){return false};return e}(Kr);var Qa=function(t){mf(e,t);function e(e){var r=t.call(this)||this;r.width=e;return r}e.prototype.eq=function(t){return t.width==this.width};e.prototype.toDOM=function(){var t=document.createElement("span");t.textContent="\t";t.className=Pa;t.style.width=this.width+"px";return t};e.prototype.ignoreEvent=function(){return false};return e}(Kr);var Pa=Se.newName(),La=Xo.styleModule.of(new Se((f={},f["."+Pa]={display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},f)));var $a="-10000px";var Ra=fn.fromClass(function(){function t(t){var e=this;this.view=t;this.inView=true;this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this};this.tooltips=t.state.facet(Ca);this.tooltipViews=this.tooltips.map((function(t){return e.createTooltip(t)}))}t.prototype.update=function(t){var e=t.state.facet(Ca);if(e==this.tooltips){for(var r=0,i=this.tooltipViews;r<i.length;r++){var n=i[r];if(n.update)n.update(t)}}else{var o=[];for(var a=0;a<e.length;a++){var s=e[a],l=-1;for(var c=0;c<this.tooltips.length;c++)if(this.tooltips[c].create==s.create)l=c;if(l<0){o[a]=this.createTooltip(s)}else{var u=o[a]=this.tooltipViews[l];if(u.update)u.update(t)}}for(var f=0,h=this.tooltipViews;f<h.length;f++){var n=h[f];if(o.indexOf(n)<0)n.dom.remove()}this.tooltips=e;this.tooltipViews=o;this.maybeMeasure()}};t.prototype.createTooltip=function(t){var e=t.create(this.view);e.dom.className=di("tooltip"+(t.style?"."+t.style:""));this.view.dom.appendChild(e.dom);if(e.mount)e.mount(this.view);return e};t.prototype.destroy=function(){for(var t=0,e=this.tooltipViews;t<e.length;t++){var r=e[t].dom;r.remove()}};t.prototype.readMeasure=function(){var t=this;return{editor:this.view.dom.getBoundingClientRect(),pos:this.tooltips.map((function(e){return t.view.coordsAtPos(e.pos)})),size:this.tooltipViews.map((function(t){var e=t.dom;return e.getBoundingClientRect()})),innerWidth:window.innerWidth,innerHeight:window.innerHeight}};t.prototype.writeMeasure=function(t){var e=t.editor;for(var r=0;r<this.tooltipViews.length;r++){var i=this.tooltips[r],n=this.tooltipViews[r],o=n.dom;var a=t.pos[r],s=t.size[r];if(!a||a.bottom<=e.top||a.top>=e.bottom||a.right<=e.left||a.left>=e.right){o.style.top=$a;continue}var l=s.right-s.left,c=s.bottom-s.top;var u=this.view.textDirection==wi.LTR?Math.min(a.left,t.innerWidth-l):Math.max(0,a.left-l);var f=!!i.above;if(!i.strictSide&&(f?a.top-(s.bottom-s.top)<0:a.bottom+(s.bottom-s.top)>t.innerHeight))f=!f;o.style.top=(f?a.top-c:a.bottom)+"px";o.style.left=u+"px";o.classList.toggle("cm-tooltip-above",f);o.classList.toggle("cm-tooltip-below",!f);if(n.positioned)n.positioned()}};t.prototype.maybeMeasure=function(){if(this.tooltips.length){if(this.view.inView||this.inView)this.view.requestMeasure(this.measureReq);this.inView=this.view.inView}};return t}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}});var Aa=Xo.baseTheme({$tooltip:{position:"fixed",border:"1px solid #ddd",backgroundColor:"#f5f5f5",zIndex:100}});function Ta(){return[Ra,Aa]}var Ca=At.define();var Ma=function(){function t(t,e,r){this.state=t;this.pos=e;this.explicit=r;this.abortListeners=[]}t.prototype.tokenBefore=function(t){var e=this.state.tree.resolve(this.pos,-1);while(e&&t.indexOf(e.name)<0)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null};t.prototype.matchBefore=function(t){var e=this.state.doc.lineAt(this.pos);var r=Math.max(e.from,this.pos-250);var i=e.slice(r-e.from,this.pos-e.from);var n=i.search(qa(t,false));return n<0?null:{from:r+n,to:this.pos,text:i.slice(n)}};Object.defineProperty(t.prototype,"aborted",{get:function(){return this.abortListeners==null},enumerable:false,configurable:true});t.prototype.addEventListener=function(t,e){if(this.abortListeners)this.abortListeners.push(e)};return t}();var Ua=function(){function t(t,e,r){this.completion=t;this.source=e;this.match=r}return t}();function Ia(t){return t.selection.primary.head}function qa(t,e){var r;var i=t.source;var n=e&&i[0]!="^",o=i[i.length-1]!="$";if(!n&&!o)return t;return new RegExp((n?"^":"")+"(?:"+i+")"+(o?"$":""),(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}function Xa(t,e){var r=e.completion.apply||e.completion.label;var i=e.source;if(typeof r=="string"){t.dispatch({changes:{from:i.from,to:i.to,insert:r},selection:{anchor:i.from+r.length}})}else{r(t,e.completion,i.from,i.to)}}var Ea=function(){function t(t){this.pattern=t;this.chars=[];this.folded=[];this.any=[];this.precise=[];this.byWord=[];for(var e=0;e<t.length;){var r=$(t,e),i=A(r);this.chars.push(r);var n=t.slice(e,e+i),o=n.toUpperCase();this.folded.push($(o==n?n.toLowerCase():o,0));e+=i}this.astral=t.length!=this.chars.length}t.prototype.match=function(t){if(this.pattern.length==0)return[0];if(t.length<this.pattern.length)return null;var e=this,r=e.chars,i=e.folded,n=e.any,o=e.precise,a=e.byWord;if(r.length==1){var s=$(t,0);return s==r[0]?[0,0,A(s)]:s==i[0]?[-200,0,A(s)]:null}var l=t.indexOf(this.pattern);if(l==0)return[0,0,this.pattern.length];var c=r.length,u=0;if(l<0){for(var f=0,h=Math.min(t.length,200);f<h&&u<c;){var d=$(t,f);if(d==r[u]||d==i[u])n[u++]=f;f+=A(d)}if(u<c)return null}var p=0;var v=0,g=false;var m=0,O=-1,y=-1;for(var b=0,h=Math.min(t.length,200),w=0;b<h&&v<c;){var d=$(t,b);if(l<0){if(p<c&&d==r[p])o[p++]=b;if(m<c){if(d==r[m]||d==i[m]){if(m==0)O=b;y=b;m++}else{m=0}}}var x=void 0,S=d<255?d>=48&&d<=57||d>=97&&d<=122?2:d>=65&&d<=90?1:0:(x=R(d))!=x.toLowerCase()?1:x!=x.toUpperCase()?2:0;if(S==1||w==0&&S!=0&&(this.chars[v]==d||this.folded[v]==d&&(g=true)))a[v++]=b;w=S;b+=A(d)}if(v==c&&a[0]==0)return this.result(-100+(g?-200:0),a,t);if(m==c&&O==0)return[-200,0,y];if(l>-1)return[-700,l,l+this.pattern.length];if(m==c)return[-200+-700,O,y];if(v==c)return this.result(-100+(g?-200:0)+-700,a,t);return r.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,t)};t.prototype.result=function(t,e,r){var i=[t],n=1;for(var o=0,a=e;o<a.length;o++){var s=a[o];var l=s+(this.astral?A($(r,s)):1);if(n>1&&i[n-1]==s)i[n-1]=l;else{i[n++]=s;i[n++]=l}}return i};return t}();var ja=At.define({combine:function(t){return Oe(t,{activateOnTyping:true,override:null,maxRenderedOptions:100})}});var Wa=300;var Da=Xo.baseTheme({"$tooltip.autocomplete":{"& > ul":{fontFamily:"monospace",overflowY:"auto",whiteSpace:"nowrap",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{cursor:"pointer",padding:"1px 1em 1px 3px",lineHeight:1.2},"& > li[aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"}}},"$completionListIncompleteTop:before, $completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},"$tooltip.completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:Wa+"px"},"$tooltip.completionInfo.left":{right:"100%"},"$tooltip.completionInfo.right":{left:"100%"},"$$light $snippetField":{backgroundColor:"#ddd"},"$$dark $snippetField":{backgroundColor:"#333"},$snippetFieldPosition:{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},$completionMatchedText:{textDecoration:"underline"},$completionDetail:{marginLeft:"0.5em",fontStyle:"italic"},$completionIcon:{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},"$completionIcon.function, $completionIcon.method":{"&:after":{content:"''"}},"$completionIcon.class":{"&:after":{content:"''"}},"$completionIcon.interface":{"&:after":{content:"''"}},"$completionIcon.variable":{"&:after":{content:"''"}},"$completionIcon.constant":{"&:after":{content:"''"}},"$completionIcon.type":{"&:after":{content:"''"}},"$completionIcon.enum":{"&:after":{content:"''"}},"$completionIcon.property":{"&:after":{content:"''"}},"$completionIcon.keyword":{"&:after":{content:"''"}},"$completionIcon.namespace":{"&:after":{content:"''"}},"$completionIcon.text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function _a(t,e,r){var i=document.createElement("ul");i.id=e;i.setAttribute("role","listbox");i.setAttribute("aria-expanded","true");for(var n=r.from;n<r.to;n++){var o=t[n],a=o.completion,s=o.match;var l=i.appendChild(document.createElement("li"));l.id=e+"-"+n;var c=l.appendChild(document.createElement("div"));c.className=di("completionIcon"+(a.type?"."+a.type:""));c.setAttribute("aria-hidden","true");var u=l.appendChild(document.createElement("span"));u.className=di("completionLabel");var f=a.label,h=a.detail,d=0;for(var p=1;p<s.length;){var v=s[p++],g=s[p++];if(v>d)u.appendChild(document.createTextNode(f.slice(d,v)));var m=u.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(f.slice(v,g)));m.className=di("completionMatchedText");d=g}if(d<f.length)u.appendChild(document.createTextNode(f.slice(d)));if(h){var O=l.appendChild(document.createElement("span"));O.className=di("completionDetail");O.textContent=h}l.setAttribute("role","option")}if(r.from)i.classList.add(di("completionListIncompleteTop"));if(r.to<t.length)i.classList.add(di("completionListIncompleteBottom"));return i}function Va(t){var e=document.createElement("div");e.className=di("tooltip.completionInfo");var r=t.completion.info;if(typeof r=="string")e.textContent=r;else e.appendChild(r(t.completion));return e}function Ba(t,e,r){if(t<=r)return{from:0,to:t};if(e<=t>>1){var i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}var n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}var za=function(){function t(t,e){var r=this;this.view=t;this.stateField=e;this.info=null;this.placeInfo={read:function(){return r.measureInfo()},write:function(t){return r.positionInfo(t)},key:this};var i=t.state.field(e);var n=i.open,o=n.options,a=n.selected;var s=t.state.facet(ja);this.range=Ba(o.length,a,s.maxRenderedOptions);this.dom=document.createElement("div");this.dom.addEventListener("mousedown",(function(e){for(var i=e.target,n=void 0;i&&i!=r.dom;i=i.parentNode){if(i.nodeName=="LI"&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<o.length){Xa(t,o[+n[1]]);e.preventDefault();return}}}));this.list=this.dom.appendChild(_a(o,i.id,this.range));this.list.addEventListener("scroll",(function(){if(r.info)r.view.requestMeasure(r.placeInfo)}))}t.prototype.mount=function(){this.updateSel()};t.prototype.update=function(t){if(t.state.field(this.stateField)!=t.prevState.field(this.stateField))this.updateSel()};t.prototype.positioned=function(){if(this.info)this.view.requestMeasure(this.placeInfo)};t.prototype.updateSel=function(){var t=this;var e=this.view.state.field(this.stateField),r=e.open;if(r.selected<this.range.from||r.selected>=this.range.to){this.range=Ba(r.options.length,r.selected,this.view.state.facet(ja).maxRenderedOptions);this.list.remove();this.list=this.dom.appendChild(_a(r.options,e.id,this.range));this.list.addEventListener("scroll",(function(){if(t.info)t.view.requestMeasure(t.placeInfo)}))}if(this.updateSelectedOption(r.selected)){if(this.info){this.info.remove();this.info=null}var i=r.options[r.selected];if(i.completion.info){this.info=this.dom.appendChild(Va(i));this.view.requestMeasure(this.placeInfo)}}};t.prototype.updateSelectedOption=function(t){var e=null;for(var r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++){if(i==t){if(!r.hasAttribute("aria-selected")){r.setAttribute("aria-selected","true");e=r}}else{if(r.hasAttribute("aria-selected"))r.removeAttribute("aria-selected")}}if(e)Fa(this.list,e);return e};t.prototype.measureInfo=function(){var t=this.dom.querySelector("[aria-selected]");if(!t)return null;var e=this.dom.getBoundingClientRect();var r=t.getBoundingClientRect().top-e.top;if(r<0||r>this.list.clientHeight-10)return null;var i=this.view.textDirection==wi.RTL;var n=e.left,o=innerWidth-e.right;if(i&&n<Math.min(Wa,o))i=false;else if(!i&&o<Math.min(Wa,n))i=true;return{top:r,left:i}};t.prototype.positionInfo=function(t){if(this.info&&t){this.info.style.top=t.top+"px";this.info.classList.toggle("cm-tooltip-completionInfo-left",t.left);this.info.classList.toggle("cm-tooltip-completionInfo-right",!t.left)}};return t}();function Na(t){return function(e){return new za(e,t)}}function Fa(t,e){var r=t.getBoundingClientRect();var i=e.getBoundingClientRect();if(i.top<r.top)t.scrollTop-=r.top-i.top;else if(i.bottom>r.bottom)t.scrollTop+=i.bottom-r.bottom}var Ga=300;function Ya(t,e){var r=[];for(var i=0,n=t;i<n.length;i++){var o=n[i];if(o.hasResult()){var a=new Ea(e.sliceDoc(o.from,o.to)),s=void 0;for(var l=0,c=o.result.options;l<c.length;l++){var u=c[l];if(s=a.match(u.label)){if(u.boost!=null)s[0]+=u.boost;r.push(new Ua(u,o,s))}}}}r.sort(rs);return r.length>Ga?r.slice(0,Ga):r}var Ha=function(){function t(t,e,r,i,n){this.options=t;this.attrs=e;this.tooltip=r;this.timestamp=i;this.selected=n}t.prototype.setSelected=function(e,r){return e==this.selected||e>=this.options.length?this:new t(this.options,Ja(r,e),this.tooltip,this.timestamp,e)};t.build=function(e,r,i,n){var o=Ya(e,r);if(!o.length)return null;var a=0;if(n){var s=n.options[n.selected].completion;for(var l=0;l<o.length&&!a;l++){if(o[l].completion==s)a=l}}return new t(o,Ja(i,a),[{pos:e.reduce((function(t,e){return e.hasResult()?Math.min(t,e.from):t}),1e8),style:"autocomplete",create:Na(ls)}],n?n.timestamp:Date.now(),a)};t.prototype.map=function(e){return new t(this.options,this.attrs,[Object.assign(Object.assign({},this.tooltip[0]),{pos:e.mapPos(this.tooltip[0].pos)})],this.timestamp,this.selected)};return t}();var Za=function(){function t(t,e,r){this.active=t;this.id=e;this.open=r}t.start=function(){return new t(es,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)};t.prototype.update=function(e){var r=this;var i=e.state,n=i.facet(ja);var o=n.override||i.languageDataAt("autocomplete",Ia(i));var a=o.map((function(t){var i=r.active.find((function(e){return e.source==t}))||new is(t,0,false);return i.update(e,n)}));if(a.length==this.active.length&&a.every((function(t,e){return t==r.active[e]})))a=this.active;var s=e.selection||a.some((function(t){return t.hasResult()&&e.changes.touchesRange(t.from,t.to)}))||!Ka(a,this.active)?Ha.build(a,i,this.id,this.open):this.open&&e.docChanged?this.open.map(e.changes):this.open;for(var l=0,c=e.effects;l<c.length;l++){var u=c[l];if(u.is(ss))s=s&&s.setSelected(u.value,this.id)}return a==this.active&&s==this.open?this:new t(a,this.id,s)};Object.defineProperty(t.prototype,"tooltip",{get:function(){return this.open?this.open.tooltip:es},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"attrs",{get:function(){return this.open?this.open.attrs:ts},enumerable:false,configurable:true});return t}();function Ka(t,e){if(t==e)return true;for(var r=0,i=0;;){while(r<t.length&&!t[r].hasResult)r++;while(i<e.length&&!e[i].hasResult)i++;var n=r==t.length,o=i==e.length;if(n||o)return n==o;if(t[r++].result!=e[i++].result)return false}}function Ja(t,e){return{"aria-autocomplete":"list","aria-activedescendant":t+"-"+e,"aria-owns":t}}var ts={"aria-autocomplete":"list"},es=[];function rs(t,e){var r=e.match[0]-t.match[0];if(r)return r;var i=t.completion.label,n=e.completion.label;return i<n?-1:i==n?0:1}var is=function(){function t(t,e,r){this.source=t;this.state=e;this.explicit=r}t.prototype.hasResult=function(){return false};t.prototype.update=function(e,r){var i=e.annotation(oe.userEvent),n=this;if(i=="input"||i=="delete")n=n.handleUserEvent(e,i,r);else if(e.docChanged)n=n.handleChange(e);else if(e.selection&&n.state!=0)n=new t(n.source,0,false);for(var o=0,a=e.effects;o<a.length;o++){var s=a[o];if(s.is(os)){n=s.value?new t(n.source,1,true):new t(n.source,0,false)}else if(s.is(as)){for(var l=0,c=s.value;l<c.length;l++){var u=c[l];if(u.source==n.source)n=u}}}return n};t.prototype.handleUserEvent=function(e,r,i){return r=="delete"||!i.activateOnTyping?this:new t(this.source,1,false)};t.prototype.handleChange=function(e){return e.changes.touchesRange(Ia(e.startState))?new t(this.source,0,false):this};return t}();var ns=function(t){mf(e,t);function e(e,r,i,n,o,a){var s=t.call(this,e,2,r)||this;s.result=i;s.from=n;s.to=o;s.span=a;return s}e.prototype.hasResult=function(){return true};e.prototype.handleUserEvent=function(t,r,i){var n=t.changes.mapPos(this.from),o=t.changes.mapPos(this.to,1);var a=Ia(t.state);if((this.explicit?a<n:a<=n)||a>o)return new is(this.source,r=="input"&&i.activateOnTyping?1:0,false);if(this.span&&(n==o||this.span.test(t.state.sliceDoc(n,o))))return new e(this.source,this.explicit,this.result,n,o,this.span);return new is(this.source,1,this.explicit)};e.prototype.handleChange=function(t){return t.changes.touchesRange(this.from,this.to)?new is(this.source,0,false):new e(this.source,this.explicit,this.result,t.changes.mapPos(this.from),t.changes.mapPos(this.to,1),this.span)};e.prototype.map=function(t){return new e(this.source,this.explicit,this.result,t.mapPos(this.from),t.mapPos(this.to,1),this.span)};return e}(is);var os=ie.define();var as=ie.define({map:function(t,e){return t.map((function(t){return t.hasResult()&&!e.empty?t.map(e):t}))}});var ss=ie.define();var ls=qt.define({create:function(){return Za.start()},update:function(t,e){return t.update(e)},provide:[Ca.nFrom((function(t){return t.tooltip})),Xo.contentAttributes.from((function(t){return t.attrs}))]});var cs=75;function us(t,e){if(e===void 0){e="option"}return function(r){var i=r.state.field(ls,false);if(!i||!i.open||Date.now()-i.open.timestamp<cs)return false;var n=1,o;if(e=="page"&&(o=r.dom.querySelector(".cm-tooltip-autocomplete")))n=Math.max(2,Math.floor(o.offsetHeight/o.firstChild.offsetHeight));var a=i.open.selected+n*(t?1:-1),s=i.open.options.length;if(a<0)a=e=="page"?0:s-1;else if(a>=s)a=e=="page"?s-1:0;r.dispatch({effects:ss.of(a)});return true}}var fs=function(t){var e=t.state.field(ls,false);if(!e||!e.open||Date.now()-e.open.timestamp<cs)return false;Xa(t,e.open.options[e.open.selected]);return true};var hs=function(t){var e=t.state.field(ls,false);if(!e)return false;t.dispatch({effects:os.of(true)});return true};var ds=function(){function t(t,e){this.source=t;this.context=e;this.time=Date.now();this.updates=[];this.done=undefined}return t}();var ps=50,vs=50,gs=1e3;var ms=fn.fromClass(function(){function t(t){this.view=t;this.debounceUpdate=-1;this.running=[];this.debounceAccept=-1;for(var e=0,r=t.state.field(ls).active;e<r.length;e++){var i=r[e];if(i.state==1)this.startQuery(i)}}t.prototype.update=function(t){var e;var r=this;var i=t.state.field(ls);if(!t.selectionSet&&!t.docChanged&&t.prevState.field(ls)==i)return;var n=t.transactions.some((function(t){var e=t.annotation(oe.userEvent);return(t.selection||t.docChanged)&&e!="input"&&e!="delete"}));for(var o=0;o<this.running.length;o++){var a=this.running[o];if(n||a.updates.length+t.transactions.length>vs&&a.time-Date.now()>gs){for(var s=0,l=a.context.abortListeners;s<l.length;s++){var c=l[s];try{c()}catch(u){on(this.view.state,u)}}a.context.abortListeners=null;this.running.splice(o--,1)}else{(e=a.updates).push.apply(e,t.transactions)}}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);this.debounceUpdate=i.active.some((function(t){return t.state==1&&!r.running.some((function(e){return e.source==t.source}))}))?setTimeout((function(){return r.startUpdate()}),ps):-1};t.prototype.startUpdate=function(){this.debounceUpdate=-1;var t=this.view.state,e=t.field(ls);var r=function(t){if(t.state==1&&!i.running.some((function(e){return e.source==t.source})))i.startQuery(t)};var i=this;for(var n=0,o=e.active;n<o.length;n++){var a=o[n];r(a)}};t.prototype.startQuery=function(t){var e=this;var r=this.view.state,i=Ia(r);var n=new Ma(r,i,t.explicit);var o=new ds(t.source,n);this.running.push(o);Promise.resolve(t.source(n)).then((function(t){if(!o.context.aborted){o.done=t||null;e.scheduleAccept()}}),(function(t){e.view.dispatch({effects:os.of(false)});on(e.view.state,t)}))};t.prototype.scheduleAccept=function(){var t=this;if(this.running.every((function(t){return t.done!==undefined})))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout((function(){return t.accept()}),ps)};t.prototype.accept=function(){var t;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;var e=[];var r=this.view.state.facet(ja);var i=function(i){var a=n.running[i];if(a.done===undefined)return o=i,"continue";n.running.splice(i--,1);if(a.done){var s=new ns(a.source,a.context.explicit,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:Ia(a.updates.length?a.updates[0].startState:n.view.state),a.done.span?qa(a.done.span,true):null);for(var l=0,c=a.updates;l<c.length;l++){var u=c[l];s=s.update(u,r)}if(s.hasResult()){e.push(s);return o=i,"continue"}}var f=n.view.state.field(ls).active.find((function(t){return t.source==a.source}));if(f&&f.state==1){if(a.done==null){var s=new is(a.source,0,false);for(var h=0,d=a.updates;h<d.length;h++){var u=d[h];s=s.update(u,r)}if(s.state!=1)e.push(s)}else{n.startQuery(f)}}o=i};var n=this,o;for(var a=0;a<this.running.length;a++){i(a);a=o}if(e.length)this.view.dispatch({effects:as.of(e)})};return t}());var Os=ti.widget({widget:new(function(t){mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.toDOM=function(){var t=document.createElement("span");t.className=di("snippetFieldPosition");return t};e.prototype.ignoreEvent=function(){return false};return e}(Kr))});var ys=ti.mark({class:di("snippetField")});var bs=function(){function t(t,e){this.ranges=t;this.active=e;this.deco=ti.set(t.map((function(t){return(t.from==t.to?Os:ys).range(t.from,t.to)})))}t.prototype.map=function(e){return new t(this.ranges.map((function(t){return t.map(e)})),this.active)};t.prototype.selectionInsideField=function(t){var e=this;return t.ranges.every((function(t){return e.ranges.some((function(r){return r.field==e.active&&r.from<=t.from&&r.to>=t.to}))}))};return t}();var ws=ie.define({map:function(t,e){return t&&t.map(e)}});var xs=ie.define();var Ss=qt.define({create:function(){return null},update:function(t,e){for(var r=0,i=e.effects;r<i.length;r++){var n=i[r];if(n.is(ws))return n.value;if(n.is(xs)&&t)return new bs(t.ranges,n.value)}if(t&&e.docChanged)t=t.map(e.changes);if(t&&e.selection&&!t.selectionInsideField(e.selection))t=null;return t},provide:[Xo.decorations.from((function(t){return t?t.deco:ti.none}))]});function ks(t,e){return Pt.create(t.filter((function(t){return t.field==e})).map((function(t){return Pt.range(t.from,t.to)})))}function Qs(t){return function(e){var r=e.state,i=e.dispatch;var n=r.field(Ss,false);if(!n||t<0&&n.active==0)return false;var o=n.active+t,a=t>0&&!n.ranges.some((function(e){return e.field==o+t}));i(r.update({selection:ks(n.ranges,o),effects:ws.of(a?null:new bs(n.ranges,o))}));return true}}var Ps=function(t){var e=t.state,r=t.dispatch;var i=e.field(Ss,false);if(!i)return false;r(e.update({effects:ws.of(null)}));return true};var Ls=Et(Ho([{key:"Tab",run:Qs(1),shift:Qs(-1)},{key:"Escape",run:Ps}]),"override");function $s(t){if(t===void 0){t={}}return[ls,ja.of(t),ms,Da,Ta(),Et(Ho([{key:"ArrowDown",run:us(true)},{key:"ArrowUp",run:us(false)},{key:"PageDown",run:us(true,"page")},{key:"PageUp",run:us(false,"page")},{key:"Enter",run:fs}]),"override")]}var Rs={brackets:["(","[","{","'",'"'],before:")]}'\":;>"};function As(){return Xo.inputHandler.of(Us)}var Ts="()[]{}<>";function Cs(t){for(var e=0;e<Ts.length;e+=2)if(Ts.charCodeAt(e)==t)return Ts.charAt(e+1);return R(t<128?t:t+1)}function Ms(t,e){return t.languageDataAt("closeBrackets",e)[0]||Rs}function Us(t,e,r,i){if(t.composing)return false;var n=t.state.selection.primary;if(i.length>2||i.length==2&&A($(i,0))==1||e!=n.from||r!=n.to)return false;var o=Xs(t.state,i);if(!o)return false;t.dispatch(o);return true}var Is=function(t){var e=t.state,r=t.dispatch;var i=Ms(e,e.selection.primary.head);var n=i.brackets||Rs.brackets;var o=null,a=e.changeByRange((function(t){if(t.empty){var r=js(e.doc,t.head);for(var i=0,a=n;i<a.length;i++){var s=a[i];if(s==r&&Es(e.doc,t.head)==Cs($(s,0)))return{changes:{from:t.head-s.length,to:t.head+s.length},range:Pt.cursor(t.head-s.length),annotations:oe.userEvent.of("delete")}}}return{range:o=t}}));if(!o)r(e.update(a,{scrollIntoView:true}));return!o};var qs=[{key:"Backspace",run:Is}];function Xs(t,e){var r=Ms(t,t.selection.primary.head);var i=r.brackets||Rs.brackets;for(var n=0,o=i;n<o.length;n++){var a=o[n];var s=Cs($(a,0));if(e==a)return s==a?_s(t,a,i.indexOf(a+a+a)>-1):Ws(t,a,s,r.before||Rs.before);if(e==s)return Ds(t,a,s)}return null}function Es(t,e){var r=t.sliceString(e,e+2);return r.slice(0,A($(r,0)))}function js(t,e){var r=t.sliceString(e-2,e);return A($(r,0))==r.length?r:r.slice(1)}function Ws(t,e,r,i){var n=null,o=t.changeByRange((function(o){if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:r,from:o.to}],range:Pt.range(o.anchor+e.length,o.head+e.length)};var a=Es(t.doc,o.head);if(!a||/\s/.test(a)||i.indexOf(a)>-1)return{changes:{insert:e+r,from:o.head},range:Pt.cursor(o.head+e.length)};return{range:n=o}}));return n?null:t.update(o,{scrollIntoView:true,annotations:oe.userEvent.of("input")})}function Ds(t,e,r){var i=null,n=t.selection.ranges.map((function(e){if(e.empty&&Es(t.doc,e.head)==r)return Pt.cursor(e.head+r.length);return i=e}));return i?null:t.update({selection:Pt.create(n,t.selection.primaryIndex),scrollIntoView:true})}function _s(t,e,r){var i=null,n=t.changeByRange((function(n){if(!n.empty)return{changes:[{insert:e,from:n.from},{insert:e,from:n.to}],range:Pt.range(n.anchor+e.length,n.head+e.length)};var o=n.head,a=Es(t.doc,o);if(a==e){if(Vs(t,o)){return{changes:{insert:e+e,from:o},range:Pt.cursor(o+e.length)}}else{var s=r&&t.sliceDoc(o,o+e.length*3)==e+e+e;return{range:Pt.cursor(o+e.length*(s?3:1))}}}else if(r&&t.sliceDoc(o-2*e.length,o)==e+e&&Vs(t,o-2*e.length)){return{changes:{insert:e+e+e+e,from:o},range:Pt.cursor(o+e.length)}}else if(t.charCategorizer(o)(a)!=he.Word){var l=t.sliceDoc(o-1,o);if(l!=e&&t.charCategorizer(o)(l)!=he.Word)return{changes:{insert:e+e,from:o},range:Pt.cursor(o+e.length)}}return{range:i=n}}));return i?null:t.update(n,{scrollIntoView:true,annotations:oe.userEvent.of("input")})}function Vs(t,e){var r=t.tree.resolve(e+1);return r.parent&&r.from==e}var Bs=Xo.baseTheme({$matchingBracket:{color:"#0b0"},$nonmatchingBracket:{color:"#a22"}});var zs=1e4,Ns="()[]{}";var Fs=At.define({combine:function(t){return Oe(t,{afterCursor:true,brackets:Ns,maxScanDistance:zs})}});var Gs=ti.mark({class:di("matchingBracket")}),Ys=ti.mark({class:di("nonmatchingBracket")});var Hs=qt.define({create:function(){return ti.none},update:function(t,e){if(!e.docChanged&&!e.selection)return t;var r=[];var i=e.state.facet(Fs);for(var n=0,o=e.state.selection.ranges;n<o.length;n++){var a=o[n];if(!a.empty)continue;var s=tl(e.state,a.head,-1,i)||a.head>0&&tl(e.state,a.head-1,1,i)||i.afterCursor&&(tl(e.state,a.head,1,i)||a.head<e.state.doc.length&&tl(e.state,a.head+1,-1,i));if(!s)continue;var l=s.matched?Gs:Ys;r.push(l.range(s.start.from,s.start.to));if(s.end)r.push(l.range(s.end.from,s.end.to))}return ti.set(r,true)},provide:[Xo.decorations]});var Zs=[Hs,Bs];function Ks(t){if(t===void 0){t={}}return[Fs.of(t),Zs]}function Js(t,e,r){var i=t.prop(e<0?K.openedBy:K.closedBy);if(i)return i;if(t.name.length==1){var n=r.indexOf(t.name);if(n>-1&&n%2==(e<0?1:0))return[r[n+e]]}return null}function tl(t,e,r,i){if(i===void 0){i={}}var n=i.maxScanDistance||zs,o=i.brackets||Ns;var a=t.tree,s=a.resolve(e,r),l;if(l=Js(s.type,r,o))return el(t,e,r,s,l,o);else return rl(t,e,r,a,s.type,n,o)}function el(t,e,r,i,n,o){var a=i.parent,s={from:i.from,to:i.to};var l=0,c=a===null||a===void 0?void 0:a.cursor;if(c&&(r<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(r<0?c.to<=i.from:c.from>=i.to){if(l==0&&n.indexOf(c.type.name)>-1){return{start:s,end:{from:c.from,to:c.to},matched:true}}else if(Js(c.type,r,o)){l++}else if(Js(c.type,-r,o)){l--;if(l==0)return{start:s,end:{from:c.from,to:c.to},matched:false}}}}while(r<0?c.prevSibling():c.nextSibling());return{start:s,matched:false}}function rl(t,e,r,i,n,o,a){var s=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1);var l=a.indexOf(s);if(l<0||l%2==0!=r>0)return null;var c={from:r<0?e-1:e,to:r>0?e+1:e};var u=t.doc.iterRange(e,r>0?t.doc.length:0),f=0;for(var h=0;!u.next().done&&h<=o;){var d=u.value;if(r<0)h+=d.length;var p=e+h*r;for(var v=r>0?0:d.length-1,g=r>0?d.length:-1;v!=g;v+=r){var m=a.indexOf(d[v]);if(m<0||i.resolve(p+v,1).type!=n)continue;if(m%2==0==r>0){f++}else if(f==1){return{start:c,end:{from:p+v,to:p+v+1},matched:m>>1==l>>1}}else{f--}}if(r>0)h+=d.length}return u.done?{start:c,matched:false}:null}function il(t,e){return Pt.create(t.ranges.map(e),t.primaryIndex)}function nl(t,e){return t.update({selection:e,scrollIntoView:true,annotations:oe.userEvent.of("keyboardselection")})}function ol(t,e){var r=t.state,i=t.dispatch;var n=il(r.selection,e);if(n.eq(r.selection))return false;i(nl(r,n));return true}function al(t,e){return Pt.cursor(e?t.to:t.from)}function sl(t,e){return ol(t,(function(r){return r.empty?t.moveByChar(r,e):al(r,e)}))}var ll=function(t){return sl(t,t.textDirection!=wi.LTR)};var cl=function(t){return sl(t,t.textDirection==wi.LTR)};function ul(t,e){return ol(t,(function(r){return r.empty?t.moveByGroup(r,e):al(r,e)}))}var fl=function(t){return ul(t,t.textDirection!=wi.LTR)};var hl=function(t){return ul(t,t.textDirection==wi.LTR)};var dl=function(t){return ul(t,true)};var pl=function(t){return ul(t,false)};function vl(t,e,r){if(e.type.prop(r))return true;var i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function gl(t,e,r){var i=t.tree.resolve(e.head);var n=r?K.closedBy:K.openedBy;for(var o=e.head;;){var a=r?i.childAfter(o):i.childBefore(o);if(!a)break;if(vl(t,a,n))i=a;else o=r?a.to:a.from}var s=i.type.prop(n),l,c;if(s&&(l=r?tl(t,i.from,1):tl(t,i.to,-1))&&l.matched)c=r?l.end.to:l.end.from;else c=r?i.to:i.from;return Pt.cursor(c,r?-1:1)}var ml=function(t){return ol(t,(function(e){return gl(t.state,e,t.textDirection!=wi.LTR)}))};var Ol=function(t){return ol(t,(function(e){return gl(t.state,e,t.textDirection==wi.LTR)}))};function yl(t,e){return ol(t,(function(r){return r.empty?t.moveVertically(r,e):al(r,e)}))}var bl=function(t){return yl(t,false)};var wl=function(t){return yl(t,true)};function xl(t,e){return ol(t,(function(r){return r.empty?t.moveVertically(r,e,t.dom.clientHeight):al(r,e)}))}var Sl=function(t){return xl(t,false)};var kl=function(t){return xl(t,true)};function Ql(t,e,r){var i=t.visualLineAt(e.head),n=t.moveToLineBoundary(e,r);if(n.head==e.head&&n.head!=(r?i.to:i.from))n=t.moveToLineBoundary(e,r,false);if(!r&&n.head==i.from&&i.length){var o=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;if(o&&e.head>i.from+o)n=Pt.cursor(i.from+o)}return n}var Pl=function(t){return ol(t,(function(e){return Ql(t,e,true)}))};var Ll=function(t){return ol(t,(function(e){return Ql(t,e,false)}))};var $l=function(t){return ol(t,(function(e){return Pt.cursor(t.visualLineAt(e.head).from,1)}))};var Rl=function(t){return ol(t,(function(e){return Pt.cursor(t.visualLineAt(e.head).to,-1)}))};function Al(t,e,r){var i=false,n=il(t.selection,(function(e){var n=tl(t,e.head,-1)||tl(t,e.head,1)||e.head>0&&tl(t,e.head-1,1)||e.head<t.doc.length&&tl(t,e.head+1,-1);if(!n||!n.end)return e;i=true;var o=n.start.from==e.head?n.end.to:n.end.from;return r?Pt.range(e.anchor,o):Pt.cursor(o)}));if(!i)return false;e(nl(t,n));return true}var Tl=function(t){var e=t.state,r=t.dispatch;return Al(e,r,false)};function Cl(t,e){var r=il(t.state.selection,(function(t){var r=e(t);return Pt.range(t.anchor,r.head,r.goalColumn)}));if(r.eq(t.state.selection))return false;t.dispatch(nl(t.state,r));return true}function Ml(t,e){return Cl(t,(function(r){return t.moveByChar(r,e)}))}var Ul=function(t){return Ml(t,t.textDirection!=wi.LTR)};var Il=function(t){return Ml(t,t.textDirection==wi.LTR)};function ql(t,e){return Cl(t,(function(r){return t.moveByGroup(r,e)}))}var Xl=function(t){return ql(t,t.textDirection!=wi.LTR)};var El=function(t){return ql(t,t.textDirection==wi.LTR)};var jl=function(t){return ql(t,true)};var Wl=function(t){return ql(t,false)};var Dl=function(t){return Cl(t,(function(e){return gl(t.state,e,t.textDirection!=wi.LTR)}))};var _l=function(t){return Cl(t,(function(e){return gl(t.state,e,t.textDirection==wi.LTR)}))};function Vl(t,e){return Cl(t,(function(r){return t.moveVertically(r,e)}))}var Bl=function(t){return Vl(t,false)};var zl=function(t){return Vl(t,true)};function Nl(t,e){return Cl(t,(function(r){return t.moveVertically(r,e,t.dom.clientHeight)}))}var Fl=function(t){return Nl(t,false)};var Gl=function(t){return Nl(t,true)};var Yl=function(t){return Cl(t,(function(e){return Ql(t,e,true)}))};var Hl=function(t){return Cl(t,(function(e){return Ql(t,e,false)}))};var Zl=function(t){return Cl(t,(function(e){return Pt.cursor(t.visualLineAt(e.head).from)}))};var Kl=function(t){return Cl(t,(function(e){return Pt.cursor(t.visualLineAt(e.head).to)}))};var Jl=function(t){var e=t.state,r=t.dispatch;r(nl(e,{anchor:0}));return true};var tc=function(t){var e=t.state,r=t.dispatch;r(nl(e,{anchor:e.doc.length}));return true};var ec=function(t){var e=t.state,r=t.dispatch;r(nl(e,{anchor:e.selection.primary.anchor,head:0}));return true};var rc=function(t){var e=t.state,r=t.dispatch;r(nl(e,{anchor:e.selection.primary.anchor,head:e.doc.length}));return true};var ic=function(t){var e=t.state,r=t.dispatch;r(e.update({selection:{anchor:0,head:e.doc.length},annotations:oe.userEvent.of("keyboardselection")}));return true};var nc=function(t){var e=t.state,r=t.dispatch;var i=Oc(e).map((function(t){var r=t.from,i=t.to;return Pt.range(r,Math.min(i+1,e.doc.length))}));r(e.update({selection:new Pt(i),annotations:oe.userEvent.of("keyboardselection")}));return true};var oc=function(t){var e=t.state,r=t.dispatch;var i=il(e.selection,(function(t){var r;var i=e.tree.resolve(t.head,1);while(!(i.from<t.from&&i.to>=t.to||i.to>t.to&&i.from<=t.from||!((r=i.parent)===null||r===void 0?void 0:r.parent)))i=i.parent;return Pt.range(i.to,i.from)}));r(nl(e,i));return true};var ac=function(t){var e=t.state,r=t.dispatch;var i=e.selection,n=null;if(i.ranges.length>1)n=new Pt([i.primary]);else if(!i.primary.empty)n=new Pt([Pt.cursor(i.primary.head)]);if(!n)return false;r(nl(e,n));return true};function sc(t,e){var r=t.state,i=r.changeByRange((function(t){var r=t.from,i=t.to;if(r==i){var n=e(r);r=Math.min(r,n);i=Math.max(i,n)}return r==i?{range:t}:{changes:{from:r,to:i},range:Pt.cursor(r)}}));if(i.changes.empty)return false;t.dispatch(i,{scrollIntoView:true,annotations:oe.userEvent.of("delete")});return true}var lc=function(t,e,r){return sc(t,(function(i){var n=t.state,o=n.doc.lineAt(i),a;if(!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.slice(0,i-o.from))){if(a[a.length-1]=="\t")return i-1;var s=T(a,0,n.tabSize),l=s%n.indentUnit||n.indentUnit;for(var c=0;c<l&&a[a.length-1-c]==" ";c++)i--;return i}var u;if(r){var f=o.slice(i-o.from+(e?0:-2),i-o.from+(e?2:0));var h=f?A($(f,0)):1;u=e?Math.min(n.doc.length,i+h):Math.max(0,i-h)}else{u=o.findClusterBreak(i-o.from,e)+o.from}if(u==i&&o.number!=(e?n.doc.lines:1))u+=e?1:-1;return u}))};var cc=function(t){return lc(t,false,true)};var uc=function(t){return lc(t,false,false)};var fc=function(t){return lc(t,true,false)};var hc=function(t,e){return sc(t,(function(r){var i=t.state,n=i.doc.lineAt(r),o=i.charCategorizer(r);for(var a=null;;){var s=void 0,l=void 0;if(r==(e?n.to:n.from)){if(n.number==(e?i.doc.lines:1))break;n=i.doc.line(n.number+(e?1:-1));s=e?n.from:n.to;l="\n"}else{s=n.findClusterBreak(r-n.from,e)+n.from;l=n.slice(Math.min(r,s)-n.from,Math.max(r,s)-n.from)}var c=o(l);if(a!=null&&c!=a)break;if(c!=he.Space)a=c;r=s}return r}))};var dc=function(t){return hc(t,false)};var pc=function(t){return hc(t,true)};var vc=function(t){return sc(t,(function(e){var r=t.visualLineAt(e).to;if(e<r)return r;return Math.max(t.state.doc.length,e+1)}))};var gc=function(t){var e=t.state,r=t.dispatch;var i=e.changeByRange((function(t){return{changes:{from:t.from,to:t.to,insert:M.of(["",""])},range:Pt.cursor(t.from)}}));r(e.update(i,{scrollIntoView:true,annotations:oe.userEvent.of("input")}));return true};var mc=function(t){var e=t.state,r=t.dispatch;var i=e.changeByRange((function(t){if(!t.empty||t.from==0||t.from==e.doc.length)return{range:t};var r=t.from,i=e.doc.lineAt(r);var n=r==i.from?r-1:i.findClusterBreak(r-i.from,false)+i.from;var o=r==i.to?r+1:i.findClusterBreak(r-i.from,true)+i.from;return{changes:{from:n,to:o,insert:e.doc.slice(r,o).append(e.doc.slice(n,r))},range:Pt.cursor(o)}}));if(i.changes.empty)return false;r(e.update(i,{scrollIntoView:true}));return true};function Oc(t){var e=[],r=-1;for(var i=0,n=t.selection.ranges;i<n.length;i++){var o=n[i];var a=t.doc.lineAt(o.from),s=t.doc.lineAt(o.to);if(r==a.number)e[e.length-1].to=s.to;else e.push({from:a.from,to:s.to});r=s.number}return e}function yc(t,e,r){var i=[];for(var n=0,o=Oc(t);n<o.length;n++){var a=o[n];if(r?a.to==t.doc.length:a.from==0)continue;var s=t.doc.lineAt(r?a.to+1:a.from-1);if(r)i.push({from:a.to,to:s.to},{from:a.from,insert:s.slice()+t.lineBreak});else i.push({from:s.from,to:a.from},{from:a.to,insert:t.lineBreak+s.slice()})}if(!i.length)return false;e(t.update({changes:i,scrollIntoView:true}));return true}var bc=function(t){var e=t.state,r=t.dispatch;return yc(e,r,false)};var wc=function(t){var e=t.state,r=t.dispatch;return yc(e,r,true)};function xc(t,e,r){var i=[];for(var n=0,o=Oc(t);n<o.length;n++){var a=o[n];if(r)i.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak});else i.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)})}e(t.update({changes:i,scrollIntoView:true}));return true}var Sc=function(t){var e=t.state,r=t.dispatch;return xc(e,r,false)};var kc=function(t){var e=t.state,r=t.dispatch;return xc(e,r,true)};var Qc=function(t){var e=t.state,r=e.changes(Oc(e).map((function(t){var r=t.from,i=t.to;if(r>0)r--;else if(i<e.doc.length)i++;return{from:r,to:i}})));var i=il(e.selection,(function(e){return t.moveVertically(e,true)})).map(r);t.dispatch({changes:r,selection:i,scrollIntoView:true});return true};function Pc(t,e){for(var r=0,i=t.state.facet(me.indentation);r<i.length;r++){var n=i[r];var o=n(t,e);if(o>-1)return o}return-1}function Lc(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};var r=t.tree.resolve(e);var i=r.childBefore(e),n=r.childAfter(e),o;if(i&&n&&i.to<=e&&n.from>=e&&(o=i.type.prop(K.closedBy))&&o.indexOf(n.name)>-1)return{from:i.to,to:n.from};return null}var $c=function(t){var e=t.state,r=t.dispatch;var i=e.changeByRange((function(t){var r=t.from,i=t.to;var n=r==i&&Lc(e,r);var o=new te(e,{simulateBreak:r,simulateDoubleBreak:!!n});var a=Pc(o,r);if(a<0)a=/^\s*/.exec(e.doc.lineAt(r).slice(0,50))[0].length;var s=e.doc.lineAt(r);while(i<s.to&&/\s/.test(s.slice(i-s.from,i+1-s.from)))i++;if(n)r=n.from,i=n.to;else if(r>s.from&&r<s.from+100&&!/\S/.test(s.slice(0,r)))r=s.from;var l=["",e.indentString(a)];if(n)l.push(e.indentString(o.lineIndent(s)));return{changes:{from:r,to:i,insert:M.of(l)},range:Pt.cursor(r+1+a)}}));r(e.update(i,{scrollIntoView:true}));return true};function Rc(t,e){var r=-1;return t.changeByRange((function(i){var n=[];for(var o=t.doc.lineAt(i.from);;){if(o.number>r){e(o,n,i);r=o.number}if(i.to<=o.to)break;o=t.doc.lineAt(o.to+1)}var a=t.changes(n);return{changes:n,range:Pt.range(a.mapPos(i.anchor,1),a.mapPos(i.head,1))}}))}var Ac=function(t){var e=t.state,r=t.dispatch;var i=Object.create(null);var n=new te(e,{overrideIndentation:function(t){var e=i[t];return e==null?-1:e}});var o=Rc(e,(function(t,r,o){var a=Pc(n,t.from);if(a<0)return;var s=/^\s*/.exec(t.slice(0,Math.min(t.length,200)))[0];var l=e.indentString(a);if(s!=l||o.from<t.from+s.length){i[t.from]=a;r.push({from:t.from,to:t.from+s.length,insert:l})}}));if(!o.changes.empty)r(e.update(o));return true};var Tc=function(t){var e=t.state,r=t.dispatch;r(e.update(Rc(e,(function(t,r){r.push({from:t.from,insert:e.facet(me.indentUnit)})}))));return true};var Cc=function(t){var e=t.state,r=t.dispatch;r(e.update(Rc(e,(function(t,r){var i=t.slice(0,Math.min(t.length,200));var n=/^\s*/.exec(i)[0];if(!n)return;var o=T(n,0,e.tabSize),a=e.indentString(Math.max(0,o-e.indentUnit)),s=0;while(s<n.length&&s<a.length&&n.charCodeAt(s)==a.charCodeAt(s))s++;r.push({from:t.from+s,to:t.from+n.length,insert:a.slice(s)})}))));return true};var Mc=[{key:"Ctrl-b",run:ll,shift:Ul},{key:"Ctrl-f",run:cl,shift:Il},{key:"Ctrl-p",run:bl,shift:Bl},{key:"Ctrl-n",run:wl,shift:zl},{key:"Ctrl-a",run:$l,shift:Zl},{key:"Ctrl-e",run:Rl,shift:Kl},{key:"Ctrl-d",run:fc},{key:"Ctrl-h",run:uc},{key:"Ctrl-k",run:vc},{key:"Alt-d",run:pc},{key:"Ctrl-Alt-h",run:dc},{key:"Ctrl-o",run:gc},{key:"Ctrl-t",run:mc},{key:"Alt-f",run:dl,shift:jl},{key:"Alt-b",run:pl,shift:Wl},{key:"Alt-<",run:Jl},{key:"Alt->",run:tc},{key:"Ctrl-v",run:kl},{key:"Alt-v",run:Sl}];var Uc=[{key:"ArrowLeft",run:ll,shift:Ul},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:fl,shift:Xl},{mac:"Cmd-ArrowLeft",run:$l,shift:Zl},{key:"ArrowRight",run:cl,shift:Il},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:hl,shift:El},{mac:"Cmd-ArrowRight",run:Rl,shift:Kl},{key:"ArrowUp",run:bl,shift:Bl},{mac:"Cmd-ArrowUp",run:Jl,shift:ec},{mac:"Ctrl-ArrowUp",run:Sl,shift:Fl},{key:"ArrowDown",run:wl,shift:zl},{mac:"Cmd-ArrowDown",run:tc,shift:rc},{mac:"Ctrl-ArrowDown",run:kl,shift:Gl},{key:"PageUp",run:Sl,shift:Fl},{key:"PageDown",run:kl,shift:Gl},{key:"Home",run:Ll,shift:Hl},{key:"Mod-Home",run:Jl,shift:ec},{key:"End",run:Pl,shift:Yl},{key:"Mod-End",run:tc,shift:rc},{key:"Enter",run:$c},{key:"Mod-a",run:ic},{key:"Backspace",run:cc},{key:"Delete",run:fc},{key:"Mod-Backspace",mac:"Alt-Backspace",run:dc},{key:"Mod-Delete",mac:"Alt-Delete",run:pc}].concat(Mc.map((function(t){return{mac:t.key,run:t.run,shift:t.shift}})));var Ic=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:ml,shift:Dl},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Ol,shift:_l},{key:"Alt-ArrowUp",run:bc},{key:"Shift-Alt-ArrowUp",run:Sc},{key:"Alt-ArrowDown",run:wc},{key:"Shift-Alt-ArrowDown",run:kc},{key:"Escape",run:ac},{key:"Mod-l",run:nc},{key:"Mod-i",run:oc},{key:"Mod-[",run:Cc},{key:"Mod-]",run:Tc},{key:"Mod-Alt-\\",run:Ac},{key:"Shift-Mod-k",run:Qc},{key:"Shift-Mod-\\",run:Tl}].concat(Uc);var qc=function(t){return jc(Vc(Wc.Toggle),t)};var Xc=function(t){return jc(_c(Wc.Toggle),t)};var Ec=[{key:"Mod-/",run:qc},{key:"Alt-A",run:Xc}];function jc(t,e){var r=t(e.state);if(!r)return false;e.dispatch(r);return true}var Wc;(function(t){t[t["Toggle"]=0]="Toggle";t[t["OnlyComment"]=1]="OnlyComment";t[t["OnlyUncomment"]=2]="OnlyUncomment"})(Wc||(Wc={}));function Dc(t,e){if(e===void 0){e=t.selection.primary.head}return t.languageDataAt("commentTokens",e)[0]||{}}var _c=function(t){return function(e){var r=Dc(e);return r.block?new Bc(r.block.open,r.block.close).toggle(t,e):null}};var Vc=function(t){return function(e){var r=Dc(e);return r.line?new Nc(r.line).toggle(t,e):null}};var Bc=function(){function t(t,e,r){if(r===void 0){r=" "}this.open=t;this.close=e;this.margin=r}t.prototype.toggle=function(t,e){var r=this;var i=this.isSelectionCommented(e);if(i!==null){if(t!==Wc.OnlyComment){return e.update({changes:i.map((function(t){var e=t.open,i=t.close;return[{from:e.pos-r.open.length,to:e.pos+e.margin},{from:i.pos-i.margin,to:i.pos+r.close.length}]}))})}}else{if(t!==Wc.OnlyUncomment){return e.update(e.changeByRange((function(t){var e=(r.open+r.margin).length;return{changes:[{from:t.from,insert:r.open+r.margin},{from:t.to,insert:r.margin+r.close}],range:Pt.range(t.anchor+e,t.head+e)}})))}}return null};t.prototype.isSelectionCommented=function(t){var e=[];for(var r=0,i=t.selection.ranges;r<i.length;r++){var n=i[r];var o=this.isRangeCommented(t,n);if(o===null)return null;e.push(o)}return e};t.prototype.isRangeCommented=function(t,e){var r=t.sliceDoc(e.from-zc,e.from);var i=t.sliceDoc(e.to,e.to+zc);var n=/\s*$/.exec(r)[0].length,o=/^\s*/.exec(i)[0].length;var a=r.length-n;if(r.slice(a-this.open.length,a)==this.open&&i.slice(o,o+this.close.length)==this.close){return{open:{pos:e.from-n,margin:n&&1},close:{pos:e.to+o,margin:o&&1}}}var s,l;if(e.to-e.from<=2*zc){s=l=t.sliceDoc(e.from,e.to)}else{s=t.sliceDoc(e.from,e.from+zc);l=t.sliceDoc(e.to-zc,e.to)}var c=/^\s*/.exec(s)[0].length,u=/\s*$/.exec(l)[0].length;var f=l.length-u-this.close.length;if(s.slice(c,c+this.open.length)==this.open&&l.slice(f,f+this.close.length)==this.close){return{open:{pos:e.from+c+this.open.length,margin:/\s/.test(s.charAt(c+this.open.length))?1:0},close:{pos:e.to-u-this.close.length,margin:/\s/.test(l.charAt(f-1))?1:0}}}return null};return t}();var zc=50;var Nc=function(){function t(t,e){if(e===void 0){e=" "}this.lineCommentToken=t;this.margin=e}t.prototype.toggle=function(t,e){var r=[];var i={};for(var n=0;n<e.selection.ranges.length;n++){var o=Fc(e.doc,e.selection.ranges[n]);r.push.apply(r,o);i[n]=o}var a=this.isRangeCommented(e,r);if(a.isRangeLineSkipped){if(t!=Wc.OnlyComment){var s=[];for(var l=0;l<e.selection.ranges.length;l++){var o=i[l];for(var c=0,u=o;c<u.length;c++){var f=u[c];if(o.length>1&&a.isLineSkipped[f.number])continue;var h=f.from+a.minCol;var d=a.minCol+this.lineCommentToken.length;var p=f.slice(d,d+1)==" "?1:0;s.push({from:h,to:h+this.lineCommentToken.length+p})}}return e.update({changes:s})}}else{if(t!=Wc.OnlyUncomment){var s=[];for(var v=0;v<e.selection.ranges.length;v++){var o=i[v];for(var g=0,m=o;g<m.length;g++){var f=m[g];if(o.length<=1||!a.isLineSkipped[f.number])s.push({from:f.from+a.minCol,insert:this.lineCommentToken+this.margin})}}return e.update({changes:s})}}return null};t.prototype.isRangeCommented=function(t,e){var r=Infinity;var i=true;var n=[];for(var o=0,a=e;o<a.length;o++){var s=a[o];var l=s.slice(0,Math.min(s.length,zc));var c=/^\s*/.exec(l)[0].length;if((e.length==1||c<l.length)&&c<r){r=c}if(i&&(e.length==1||c<l.length)&&l.slice(c,c+this.lineCommentToken.length)!=this.lineCommentToken){i=false}n[s.number]=c==l.length}return{minCol:r,isRangeLineSkipped:i,isLineSkipped:n}};return t}();function Fc(t,e){var r=t.lineAt(e.from);var i=[];while(r.from+r.length<e.to||r.from<=e.to&&e.to<=r.to){i.push(r);if(r.number+1<=t.lines){r=t.line(r.number+1)}else{break}}return i}var Gc=function(t){mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.compare=function(t){return this==t||this.constructor==t.constructor&&this.eq(t)};e.prototype.toDOM=function(t){return null};e.prototype.at=function(t){return new Le(t,t,this)};return e}(Pe);Gc.prototype.elementClass="";Gc.prototype.mapMode=gt.TrackBefore;var Yc={style:"",renderEmptyElements:false,elementStyle:"",markers:function(){return Me.empty},lineMarker:function(){return null},initialSpacer:null,updateSpacer:null,domEventHandlers:{}};var Hc=At.define();function Zc(t){return[tu(),Hc.of(Object.assign(Object.assign({},Yc),t))]}var Kc=Xo.baseTheme({$gutters:{display:"flex",height:"100%",boxSizing:"border-box",left:0},"$$light $gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"$$dark $gutters":{backgroundColor:"#333338",color:"#ccc"},$gutter:{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},$gutterElement:{boxSizing:"border-box"},"$gutterElement.lineNumber":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"}});var Jc=At.define({combine:function(t){return t.some((function(t){return t}))}});function tu(t){var e=[eu,Kc];if(t&&t.fixed===false)e.push(Jc.of(true));return e}var eu=fn.fromClass(function(){function t(t){this.view=t;this.dom=document.createElement("div");this.dom.className=di("gutters");this.dom.setAttribute("aria-hidden","true");this.gutters=t.state.facet(Hc).map((function(e){return new iu(t,e)}));for(var e=0,r=this.gutters;e<r.length;e++){var i=r[e];this.dom.appendChild(i.dom)}this.fixed=!t.state.facet(Jc);if(this.fixed){this.dom.style.position="sticky"}t.scrollDOM.insertBefore(this.dom,t.contentDOM)}t.prototype.update=function(t){var e=this;if(!this.updateGutters(t))return;var r=this.gutters.map((function(t){return new ru(t,e.view.viewport)}));this.view.viewportLines((function(t){var i;if(Array.isArray(t.type)){for(var n=0,o=t.type;n<o.length;n++){var a=o[n];if(a.type==Jr.Text){i=a;break}}}else{i=t.type==Jr.Text?t:undefined}if(!i)return;for(var s=0,l=r;s<l.length;s++){var c=l[s];c.line(e.view,i)}}),0);for(var i=0,n=r;i<n.length;i++){var o=n[i];o.finish()}this.dom.style.minHeight=this.view.contentHeight+"px";if(t.state.facet(Jc)!=!this.fixed){this.fixed=!this.fixed;this.dom.style.position=this.fixed?"sticky":""}};t.prototype.updateGutters=function(t){var e=t.prevState.facet(Hc),r=t.state.facet(Hc);var i=t.docChanged||t.heightChanged||t.viewportChanged;if(e==r){for(var n=0,o=this.gutters;n<o.length;n++){var a=o[n];if(a.update(t))i=true}}else{i=true;var s=[];for(var l=0,c=r;l<c.length;l++){var u=c[l];var f=e.indexOf(u);if(f<0){s.push(new iu(this.view,u))}else{this.gutters[f].update(t);s.push(this.gutters[f])}}for(var h=0,d=this.gutters;h<d.length;h++){var p=d[h];p.dom.remove()}for(var v=0,g=s;v<g.length;v++){var p=g[v];this.dom.appendChild(p.dom)}this.gutters=s}return i};t.prototype.destroy=function(){this.dom.remove()};return t}(),{provide:ln.scrollMargins.from((function(t){if(t.gutters.length==0||!t.fixed)return null;return t.view.textDirection==wi.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}}))});var ru=function(){function t(t,e){this.gutter=t;this.localMarkers=[];this.i=0;this.height=0;this.cursor=Me.iter(Array.isArray(t.markers)?t.markers:[t.markers],e.from)}t.prototype.line=function(t,e){if(this.localMarkers.length)this.localMarkers=[];while(this.cursor.value&&this.cursor.from<=e.from){if(this.cursor.from==e.from)this.localMarkers.push(this.cursor.value);this.cursor.next()}var r=this.gutter.config.lineMarker(t,e,this.localMarkers);if(r)this.localMarkers.unshift(r);var i=this.gutter;if(this.localMarkers.length==0&&!i.config.renderEmptyElements)return;var n=e.top-this.height;if(this.i==i.elements.length){var o=new nu(t,e.height,n,this.localMarkers,i.elementClass);i.elements.push(o);i.dom.appendChild(o.dom)}else{var a=this.localMarkers,s=i.elements[this.i];if(ou(a,s.markers)){a=s.markers;this.localMarkers.length=0}s.update(t,e.height,n,a,i.elementClass)}this.height=e.bottom;this.i++};t.prototype.finish=function(){var t=this.gutter;while(t.elements.length>this.i)t.dom.removeChild(t.elements.pop().dom)};return t}();var iu=function(){function t(t,e){this.view=t;this.config=e;this.elements=[];this.spacer=null;this.dom=document.createElement("div");this.dom.className=di("gutter"+(this.config.style?"."+this.config.style:""));this.elementClass=di("gutterElement"+(this.config.style?"."+this.config.style:""));var r=function(r){i.dom.addEventListener(r,(function(i){var n=t.visualLineAtHeight(i.clientY,t.contentDOM.getBoundingClientRect().top);if(e.domEventHandlers[r](t,n,i))i.preventDefault()}))};var i=this;for(var n in e.domEventHandlers){r(n)}this.markers=e.markers(t.state);if(e.initialSpacer){this.spacer=new nu(t,0,0,[e.initialSpacer(t)],this.elementClass);this.dom.appendChild(this.spacer.dom);this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}}t.prototype.update=function(t){var e=this.markers;this.markers=this.config.markers(t.state);if(this.spacer&&this.config.updateSpacer){var r=this.config.updateSpacer(this.spacer.markers[0],t);if(r!=this.spacer.markers[0])this.spacer.update(t.view,0,0,[r],this.elementClass)}return this.markers!=e};return t}();var nu=function(){function t(t,e,r,i,n){this.height=-1;this.above=0;this.dom=document.createElement("div");this.update(t,e,r,i,n)}t.prototype.update=function(t,e,r,i,n){if(this.height!=e)this.dom.style.height=(this.height=e)+"px";if(this.above!=r)this.dom.style.marginTop=(this.above=r)?r+"px":"";if(this.markers!=i){this.markers=i;for(var o=void 0;o=this.dom.lastChild;)o.remove();var a=n;for(var s=0,l=i;s<l.length;s++){var c=l[s];var u=c.toDOM(t);if(u)this.dom.appendChild(u);var f=c.elementClass;if(f)a+=" "+f}this.dom.className=a}};return t}();function ou(t,e){if(t.length!=e.length)return false;for(var r=0;r<t.length;r++)if(!t[r].compare(e[r]))return false;return true}var au=At.define();var su=At.define({combine:function(t){return Oe(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(t,e){var r=Object.assign({},t);var i=function(t){var i=r[t],n=e[t];r[t]=i?function(t,e,r){return i(t,e,r)||n(t,e,r)}:n};for(var n in e){i(n)}return r}})}});var lu=function(t){mf(e,t);function e(e){var r=t.call(this)||this;r.number=e;return r}e.prototype.eq=function(t){return this.number==t.number};e.prototype.toDOM=function(t){var e=t.state.facet(su);return document.createTextNode(e.formatNumber(this.number))};return e}(Gc);var cu=Zc({style:"lineNumber",markers:function(t){return t.facet(au)},lineMarker:function(t,e,r){if(r.length)return null;return new lu(t.state.doc.lineAt(e.from).number)},initialSpacer:function(t){return new lu(fu(t.state.doc.lines))},updateSpacer:function(t,e){var r=fu(e.view.state.doc.lines);return r==t.number?t:new lu(r)}});function uu(t){if(t===void 0){t={}}return[su.of(t),cu]}function fu(t){var e=9;while(e<t)e=e*10+9;return e}function hu(t,e){var r=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return r>=i?undefined:{from:r,to:i}}var du=ie.define({map:hu});var pu=ie.define({map:hu});function vu(t){var e=[];var r=function(r){if(e.some((function(t){return t.from<=r&&t.to>=r})))return"continue";e.push(t.visualLineAt(r))};for(var i=0,n=t.state.selection.ranges;i<n.length;i++){var o=n[i].head;r(o)}return e}var gu=qt.define({create:function(){return ti.none},update:function(t,e){t=t.map(e.changes);var r=function(e){if(e.is(du)&&!Ou(t,e.value.from,e.value.to))t=t.update({add:[Ru.range(e.value.from,e.value.to)]});else if(e.is(pu)){t=t.update({filter:function(t,r){return e.value.from!=t||e.value.to!=r},filterFrom:e.value.from,filterTo:e.value.to})}};for(var i=0,n=e.effects;i<n.length;i++){var o=n[i];r(o)}if(e.selection){var a=false,s=e.selection.primary.head;t.between(s,s,(function(t,e){if(t<s&&e>s)a=true}));if(a)t=t.update({filterFrom:s,filterTo:s,filter:function(t,e){return e<=s||t>=s}})}return t},provide:[Xo.decorations]});function mu(t,e,r){var i;var n=null;(i=t.field(gu,false))===null||i===void 0?void 0:i.between(e,r,(function(t,e){if(!n||n.from>t)n={from:t,to:e}}));return n}function Ou(t,e,r){var i=false;t.between(e,e,(function(t,n){if(t==e&&n==r)i=true}));return i}function yu(t,e,r){return t.facet(me.foldable).reduce((function(i,n){return i||n(t,e,r)}),null)}function bu(t){return t.field(gu,false)?undefined:{append:$u()}}var wu=function(t){for(var e=0,r=vu(t);e<r.length;e++){var i=r[e];var n=yu(t.state,i.from,i.to);if(n){t.dispatch({effects:du.of(n),reconfigure:bu(t.state)});return true}}return false};var xu=function(t){if(!t.state.field(gu,false))return false;var e=[];for(var r=0,i=vu(t);r<i.length;r++){var n=i[r];var o=mu(t.state,n.from,n.to);if(o)e.push(pu.of(o))}if(e.length)t.dispatch({effects:e});return e.length>0};var Su=function(t){var e=t.state,r=[];for(var i=0;i<e.doc.length;){var n=t.visualLineAt(i),o=yu(e,n.from,n.to);if(o)r.push(du.of(o));i=(o?t.visualLineAt(o.to):n).to+1}if(r.length)t.dispatch({effects:r,reconfigure:bu(t.state)});return!!r.length};var ku=function(t){var e=t.state.field(gu,false);if(!e||!e.size)return false;var r=[];e.between(0,t.state.doc.length,(function(t,e){r.push(pu.of({from:t,to:e}))}));t.dispatch({effects:r});return true};var Qu=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:wu},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:xu},{key:"Ctrl-Alt-[",run:Su},{key:"Ctrl-Alt-]",run:ku}];var Pu={placeholderDOM:null,placeholderText:""};var Lu=At.define({combine:function(t){return Oe(t,Pu)}});function $u(t){var e=[gu,Mu];if(t)e.push(Lu.of(t));return e}var Ru=ti.replace({widget:new(function(t){mf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.ignoreEvents=function(){return false};e.prototype.toDOM=function(t){var e=t.state,r=e.facet(Lu);if(r.placeholderDOM)return r.placeholderDOM();var i=document.createElement("span");i.textContent=r.placeholderText;i.setAttribute("aria-label",e.phrase("folded code"));i.title=e.phrase("unfold");i.className=di("foldPlaceholder");i.onclick=function(e){var r=t.visualLineAt(t.posAtDOM(e.target));var i=mu(t.state,r.from,r.to);if(i)t.dispatch({effects:pu.of(i)});e.preventDefault()};return i};return e}(Kr))});var Au={openText:"",closedText:""};var Tu=function(t){mf(e,t);function e(e,r){var i=t.call(this)||this;i.config=e;i.open=r;return i}e.prototype.eq=function(t){return this.config==t.config&&this.open==t.open};e.prototype.toDOM=function(t){var e=document.createElement("span");e.textContent=this.open?this.config.openText:this.config.closedText;e.title=t.state.phrase(this.open?"Fold line":"Unfold line");return e};return e}(Gc);function Cu(t){if(t===void 0){t={}}var e=Object.assign(Object.assign({},Au),t);var r=new Tu(e,true),i=new Tu(e,false);return[Zc({style:"foldGutter",lineMarker:function(t,e){var n=mu(t.state,e.from,e.to);if(n)return i;if(yu(t.state,e.from,e.to))return r;return null},initialSpacer:function(){return new Tu(e,false)},domEventHandlers:{click:function(t,e){var r=mu(t.state,e.from,e.to);if(r){t.dispatch({effects:pu.of(r)});return true}var i=yu(t.state,e.from,e.to);if(i){t.dispatch({effects:du.of(i)});return true}return false}}}),$u()]}var Mu=Xo.baseTheme({$foldPlaceholder:{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},"$gutterElement.foldGutter":{padding:"0 1px",cursor:"pointer"}});var Uu=function(){function t(t){var e=this;this.typeNames=[""];this.typeIDs=Object.create(null);this.prop=new K;this.flags=t.flags;this.types=t.types;this.flagMask=Math.pow(2,this.flags.length)-1;this.typeShift=this.flags.length;var r=t.subtypes||0;var i=[undefined];this.typeIDs[""]=0;var n=1;for(var o=0,a=t.types;o<a.length;o++){var s=a[o];var l=/^([\w\-]+)(?:=([\w-]+))?$/.exec(s);if(!l)throw new RangeError("Invalid type name "+s);var c=n++;this.typeNames[c]=l[1];this.typeIDs[l[1]]=c;i[c]=l[2];for(var u=0;u<r;u++){var f=n++,h=l[1]+"#"+(u+1);this.typeNames[f]=h;this.typeIDs[h]=f;i[f]=l[1]}}this.parents=i.map((function(t){if(t==null)return 0;var r=e.typeIDs[t];if(r==null)throw new RangeError("Unknown parent type '"+t+"' specified");return r}));if(this.flags.length>30||this.typeNames.length>Math.pow(2,30-this.flags.length))throw new RangeError("Too many style tag flags to fit in a 30-bit integer")}t.prototype.get=function(t){var e=0;for(var r=0,i=t.split(" ");r<i.length;r++){var n=i[r];if(n){var o=this.flags.indexOf(n);if(o>-1){e+=1<<o}else{var a=this.typeIDs[n];if(a==null)throw new RangeError("Unknown tag type '"+n+"'");if(e>>this.typeShift)throw new RangeError("Multiple tag types specified in '"+t+"'");e+=a<<this.typeShift}}}return e};t.prototype.getWithMode=function(t){var e=t[0]=="+"?1:t[0]=="!"?0:2;return{mode:e,tag:this.get(e==2?t:t.slice(1))}};t.prototype.addTagProp=function(t,e){if(e===void 0){e={}}var r=this.getWithMode(t),i=r.mode,n=r.tag;return this.prop.set(e,new Xu(n,i,qu))};t.prototype.add=function(t){var e=Object.create(null);for(var r in t){var i=t[r];var n=this.getWithMode(i),o=n.mode,a=n.tag;for(var s=0,l=r.split(" ");s<l.length;s++){var c=l[s];var u=c.split("/"),f=u[u.length-1];var h=u.length>1?u.slice(0,u.length-1).map((function(t){return t=="*"?null:t})):qu;var d=new Xu(a,o,h);e[f]=d.sort(e[f])}}return this.prop.add(e)};t.prototype.highlighter=function(t){var e=this;var r=new Du(this,t);return[Et(fn.define((function(t){return new _u(t,e.prop,r)}),{decorations:function(t){return t.decorations}}),"fallback"),Xo.styleModule.of(r.module)]};t.prototype.specificity=function(t){var e=t&this.flagMask,r=0;for(var i=1;i<=this.flags.length;i++)if(e&1<<i)r++;for(var n=t>>this.typeShift;n;n=this.parents[n])r+=/#/.test(this.typeNames[n])?500:1e3;return r};return t}();var Iu=new Uu({flags:["invalid","meta","standard","definition","constant","local","control","link","strong","emphasis","monospace","changed","inserted","deleted"],subtypes:7,types:["comment","lineComment=comment","blockComment=comment","docComment=comment","name","variableName=name","typeName=name","propertyName=name","className=name","labelName=name","functionName=name","namespace=name","literal","string=literal","docString=string","character=string","number=literal","integer=number","float=number","bool=literal","regexp=literal","escape=literal","color=literal","content","heading=content","list=content","quote=content","keyword","self=keyword","null=keyword","atom=keyword","unit=keyword","modifier=keyword","operatorKeyword=keyword","operator","derefOperator=operator","arithmeticOperator=operator","logicOperator=operator","bitwiseOperator=operator","compareOperator=operator","updateOperator=operator","typeOperator=operator","punctuation","separator=punctuation","bracket=punctuation","angleBracket=bracket","squareBracket=bracket","paren=bracket","brace=bracket"]});var qu=[];var Xu=function(){function t(t,e,r,i){this.tag=t;this.mode=e;this.context=r;this.next=i}t.prototype.sort=function(t){if(!t||t.context.length<this.context.length){this.next=t;return this}t.next=this.sort(t.next);return t};return t}();var Eu=function(t){return Iu.add(t)};var ju=function(t){return Iu.highlighter(t)};var Wu=function(){function t(t,e,r,i){this.type=t;this.flags=e;this.specificity=r;this.cls=i}return t}();var Du=function(){function t(t,e){this.tags=t;this.cache=Object.create(null);var r=Object.create(null);var i=[];for(var n in e){var o=Se.newName();r["."+o]=e[n];for(var a=0,s=n.split(/\s*,\s*/);a<s.length;a++){var l=s[a];var c=t.get(l);i.push(new Wu(c>>t.typeShift,c&t.flagMask,t.specificity(c),o))}}this.rules=i.sort((function(t,e){return e.specificity-t.specificity}));this.module=new Se(r)}t.prototype.match=function(t){var e=this.cache[t];if(e!=null)return e;var r="";var i=t>>this.tags.typeShift,n=t&this.tags.flagMask;for(;;){for(var o=0,a=this.rules;o<a.length;o++){var s=a[o];if(s.type==i&&(s.flags&n)==s.flags){if(r)r+=" ";r+=s.cls;n&=~s.flags;if(i)break}}if(i)i=this.tags.parents[i];else break}return this.cache[t]=r};return t}();var _u=function(){function t(t,e,r){this.prop=e;this.styling=r;this.nodeStack=[""];this.classStack=[""];this.inheritStack=[""];this.tree=t.state.tree;this.decorations=this.buildDeco(t.visibleRanges,this.tree)}t.prototype.update=function(t){var e=t.state.facet(me.syntax);if(!e.length){this.decorations=ti.none}else if(e[0].parsePos(t.state)<t.view.viewport.to){this.decorations=this.decorations.map(t.changes)}else if(this.tree!=e[0].getTree(t.state)||t.viewportChanged){this.tree=e[0].getTree(t.state);this.decorations=this.buildDeco(t.view.visibleRanges,this.tree)}};t.prototype.buildDeco=function(t,e){var r=this;var i=new Ue;var n,o,a;function s(t,e){if(t>n&&e)i.add(n,t,ti.mark({class:e}));n=t}var l=this,c=l.nodeStack,u=l.classStack,f=l.inheritStack;var h=function(t,i){o="";a=0;n=t;e.iterate({from:t,to:i,enter:function(t,e){a++;var i=f[a-1];var n=i;var l=t.prop(r.prop),h=false;while(l){if(!l.context.length||Vu(l.context,c,a)){var d=r.styling.match(l.tag);if(d){if(n)n+=" ";n+=d;if(l.mode==1)i=n;else if(l.mode==0)h=true}break}l=l.next}if(n!=o){s(e,o);o=n}if(h){a--;return false}u[a]=n;f[a]=i;c[a]=t.name;return undefined},leave:function(t,e,r){a--;var n=u[a];if(n!=o){s(Math.min(i,r),o);o=n}}})};for(var d=0,p=t;d<p.length;d++){var v=p[d],g=v.from,m=v.to;h(g,m)}return i.finish()};return t}();function Vu(t,e,r){if(t.length>r-1)return false;for(var i=r-1,n=t.length-1;n>=0;n--,i--){var o=t[n];if(o&&o!=e[i])return false}return true}var Bu=ju({deleted:{textDecoration:"line-through"},inserted:{textDecoration:"underline"},link:{textDecoration:"underline"},strong:{fontWeight:"bold"},emphasis:{fontStyle:"italic"},keyword:{color:"#708"},"atom, bool":{color:"#219"},number:{color:"#164"},string:{color:"#a11"},"regexp, escape, string#2":{color:"#e40"},"variableName definition":{color:"#00f"},typeName:{color:"#085"},className:{color:"#167"},"name#2":{color:"#256"},"propertyName definition":{color:"#00c"},comment:{color:"#940"},meta:{color:"#555"},invalid:{color:"#f00"}});var zu=ee.define();var Nu=ee.define();var Fu=At.define();var Gu=At.define({combine:function(t){return Oe(t,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});var Yu=qt.define({create:function(){return pf.empty},update:function(t,e){var r=e.state.facet(Gu);var i=e.annotation(zu);if(i){var n=rf.fromTransaction(e),o=i.side;var a=o==0?t.undone:t.done;if(n)a=nf(a,a.length,r.minDepth,n);else a=uf(a,e.startState.selection);return new pf(o==0?i.rest:a,o==0?a:i.rest)}var s=e.annotation(Nu);if(s=="full"||s=="before")t=t.isolate();if(e.annotation(oe.addToHistory)===false)return e.changes.length?t.addMapping(e.changes.desc):t;var l=rf.fromTransaction(e);var c=e.annotation(oe.time),u=e.annotation(oe.userEvent);if(l)t=t.addChanges(l,c,u,r.newGroupDelay,r.minDepth);else if(e.selection)t=t.addSelection(e.startState.selection,c,u,r.newGroupDelay);if(s=="full"||s=="after")t=t.isolate();return t}});function Hu(t){if(t===void 0){t={}}return[Yu,Gu.of(t)]}function Zu(t,e){return function(r){var i=r.state,n=r.dispatch;var o=i.field(Yu,false);if(!o)return false;var a=o.pop(t,i,e);if(!a)return false;n(a);return true}}var Ku=Zu(0,false);var Ju=Zu(1,false);var tf=Zu(0,true);var ef=Zu(1,true);var rf=function(){function t(t,e,r,i,n){this.changes=t;this.effects=e;this.mapped=r;this.startSelection=i;this.selectionsAfter=n}t.prototype.setSelAfter=function(e){return new t(this.changes,this.effects,this.mapped,this.startSelection,e)};t.fromTransaction=function(e){var r=lf;for(var i=0,n=e.startState.facet(Fu);i<n.length;i++){var o=n[i];var a=o(e);if(a.length)r=r.concat(a)}if(!r.length&&e.changes.empty)return null;return new t(e.changes.invert(e.startState.doc),r,undefined,e.startState.selection,lf)};t.selection=function(e){return new t(undefined,lf,undefined,undefined,e)};return t}();function nf(t,e,r,i){var n=e+1>r+20?e-r-1:0;var o=t.slice(n,e);o.push(i);return o}function of(t,e){var r=[],i=false;t.iterChangedRanges((function(t,e){return r.push(t,e)}));e.iterChangedRanges((function(t,e,n,o){for(var a=0;a<r.length;){var s=r[a++],l=r[a++];if(o>=s&&n<=l)i=true}}));return i}function af(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((function(t,r){return t.empty!=e.ranges[r].empty})).length===0}function sf(t,e){return!t.length?e:!e.length?t:t.concat(e)}var lf=[];var cf=200;function uf(t,e){if(!t.length){return[rf.selection([e])]}else{var r=t[t.length-1];var i=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-cf));if(i.length&&i[i.length-1].eq(e))return t;i.push(e);return nf(t,t.length-1,1e9,r.setSelAfter(i))}}function ff(t){var e=t[t.length-1];var r=t.slice();r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1));return r}function hf(t,e){if(!t.length)return t;var r=t.length,i=lf;while(r){var n=df(t[r-1],e,i);if(n.changes&&!n.changes.empty||n.effects.length){var o=t.slice(0,r);o[r-1]=n;return o}else{e=n.mapped;r--;i=n.selectionsAfter}}return i.length?[rf.selection(i)]:lf}function df(t,e,r){var i=sf(t.selectionsAfter.length?t.selectionsAfter.map((function(t){return t.map(e)})):lf,r);if(!t.changes)return rf.selection(i);var n=t.changes.map(e),o=e.mapDesc(t.changes,true);var a=t.mapped?t.mapped.composeDesc(o):o;return new rf(n,ie.mapEffects(t.effects,e),a,t.startSelection.map(o),i)}var pf=function(){function t(t,e,r,i){if(r===void 0){r=0}if(i===void 0){i=undefined}this.done=t;this.undone=e;this.prevTime=r;this.prevUserEvent=i}t.prototype.isolate=function(){return this.prevTime?new t(this.done,this.undone):this};t.prototype.addChanges=function(e,r,i,n,o){var a=this.done,s=a[a.length-1];if(s&&s.changes&&r-this.prevTime<n&&!s.selectionsAfter.length&&s.changes.length&&e.changes&&of(s.changes,e.changes)){a=nf(a,a.length-1,o,new rf(e.changes.compose(s.changes),sf(e.effects,s.effects),s.mapped,s.startSelection,lf))}else{a=nf(a,a.length,o,e)}return new t(a,lf,r,i)};t.prototype.addSelection=function(e,r,i,n){var o=this.done.length?this.done[this.done.length-1].selectionsAfter:lf;if(o.length>0&&r-this.prevTime<n&&i=="keyboardselection"&&this.prevUserEvent==i&&af(o[o.length-1],e))return this;return new t(uf(this.done,e),this.undone,r,i)};t.prototype.addMapping=function(e){return new t(hf(this.done,e),hf(this.undone,e),this.prevTime,this.prevUserEvent)};t.prototype.pop=function(t,e,r){var i=t==0?this.done:this.undone;if(i.length==0)return null;var n=i[i.length-1];if(r&&n.selectionsAfter.length){return e.update({selection:n.selectionsAfter[n.selectionsAfter.length-1],annotations:zu.of({side:t,rest:ff(i)})})}else if(!n.changes){return null}else{var o=i.length==1?lf:i.slice(0,i.length-1);if(n.mapped)o=hf(o,n.mapped);return e.update({changes:n.changes,selection:n.startSelection,effects:n.effects,annotations:zu.of({side:t,rest:o}),filter:false})}};return t}();pf.empty=new pf(lf,lf);var vf=[{key:"Mod-z",run:Ku,preventDefault:true},{key:"Mod-y",mac:"Mod-Shift-z",run:Ju,preventDefault:true},{key:"Mod-u",run:tf,preventDefault:true},{key:"Alt-u",mac:"Mod-Shift-u",run:ef,preventDefault:true}];
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */var gf=function(t,e){gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return gf(t,e)};function mf(t,e){gf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Of=function(){function t(t,e,r,i,n,o,a,s,l){this.cx=t;this.stack=e;this.state=r;this.reducePos=i;this.pos=n;this.score=o;this.buffer=a;this.bufferBase=s;this.parent=l}t.prototype.toString=function(){return"["+this.stack.filter((function(t,e){return e%3==0})).concat(this.state)+"]@"+this.pos+(this.score?"!"+this.score:"")};t.start=function(e,r,i){if(i===void 0){i=0}return new t(e,[],r,i,i,0,[],0,null)};t.prototype.pushState=function(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length);this.state=t};t.prototype.reduce=function(t){var e=t>>19,r=t&65535;var i=this.cx.parser;var n=i.dynamicPrecedence(r);if(n)this.score+=n;if(e==0){if(r<i.minRepeatTerm)this.storeNode(r,this.reducePos,this.reducePos,4,true);this.pushState(i.getGoto(this.state,r,true),this.reducePos);return}var o=this.stack.length-(e-1)*3-(t&262144?6:0);var a=this.stack[o-2];var s=this.stack[o-1],l=this.bufferBase+this.buffer.length-s;if(r<i.minRepeatTerm||t&131072){var c=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,c,l+4,true)}if(t&262144){this.state=this.stack[o]}else{var u=this.stack[o-3];this.state=i.getGoto(u,r,true)}while(this.stack.length>o)this.stack.pop()};t.prototype.storeNode=function(t,e,r,i,n){if(i===void 0){i=4}if(n===void 0){n=false}if(t==0){var o=this,a=this.buffer.length;if(a==0&&o.parent){a=o.bufferBase-o.parent.bufferBase;o=o.parent}if(a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(e==r)return;if(o.buffer[a-2]>=e){o.buffer[a-2]=r;return}}}if(!n||this.pos==r){this.buffer.push(t,e,r,i)}else{var s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0)while(s>0&&this.buffer[s-2]>r){this.buffer[s]=this.buffer[s-4];this.buffer[s+1]=this.buffer[s-3];this.buffer[s+2]=this.buffer[s-2];this.buffer[s+3]=this.buffer[s-1];s-=4;if(i>4)i-=4}this.buffer[s]=t;this.buffer[s+1]=e;this.buffer[s+2]=r;this.buffer[s+3]=i}};t.prototype.shift=function(t,e,r){if(t&131072){this.pushState(t&65535,this.pos)}else if((t&262144)==0){var i=this.pos,n=t,o=this.cx.parser;if(r>this.pos||e<=o.maxNode){this.pos=r;if(!o.stateFlag(n,1))this.reducePos=r}this.pushState(n,i);if(e<=o.maxNode)this.buffer.push(e,i,r,4)}else{if(e<=this.cx.parser.maxNode)this.buffer.push(e,this.pos,r,4);this.pos=r}};t.prototype.apply=function(t,e,r){if(t&65536)this.reduce(t);else this.shift(t,e,r)};t.prototype.useNode=function(t,e){var r=this.cx.reused.length-1;if(r<0||this.cx.reused[r]!=t){this.cx.reused.push(t);r++}var i=this.pos;this.reducePos=this.pos=i+t.length;this.pushState(e,i);this.buffer.push(r,i,this.reducePos,-1)};t.prototype.split=function(){var e=this;var r=e.buffer.length;while(r>0&&e.buffer[r-2]>e.reducePos)r-=4;var i=e.buffer.slice(r),n=e.bufferBase+r;while(e&&n==e.bufferBase)e=e.parent;return new t(this.cx,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,e)};t.prototype.recoverByDelete=function(t,e){var r=t<=this.cx.parser.maxNode;if(r)this.storeNode(t,this.pos,e);this.storeNode(0,this.pos,e,r?8:4);this.pos=this.reducePos=e;this.score-=200};t.prototype.canShift=function(t){for(var e=new bf(this);;){var r=this.cx.parser.stateSlot(e.top,4)||this.cx.parser.hasAction(e.top,t);if((r&65536)==0)return true;if(r==0)return false;e.reduce(r)}};Object.defineProperty(t.prototype,"ruleStart",{get:function(){for(var t=this.state,e=this.stack.length;;){var r=this.cx.parser.stateSlot(t,5);if(!(r&65536))return 0;e-=3*(r>>19);if((r&65535)<this.cx.parser.minRepeatTerm)return this.stack[e+1];t=this.stack[e]}},enumerable:true,configurable:true});t.prototype.startOf=function(t,e){var r=this.state,i=this.stack.length,n=this.cx.parser;for(;;){var o=n.stateSlot(r,5);var a=o>>19,s=o&65535;if(t.indexOf(s)>-1){var l=i-3*(o>>19),c=this.stack[l+1];if(e==null||e>c)return c}if(i==0)return null;if(a==0){i-=3;r=this.stack[i]}else{i-=3*(a-1);r=n.getGoto(this.stack[i-3],s,true)}}};t.prototype.recoverByInsert=function(t){var e=this;if(this.stack.length>=300)return[];var r=this.cx.parser.nextStates(this.state);if(r.length>4||this.stack.length>=120){var i=r.filter((function(r){return r!=e.state&&e.cx.parser.hasAction(r,t)}));if(this.stack.length<120)for(var n=0;i.length<4&&n<r.length;n++)if(i.indexOf(r[n])<0)i.push(r[n]);r=i}var o=[];for(var n=0;n<r.length&&o.length<4;n++){if(r[n]==this.state)continue;var a=this.split();a.storeNode(0,a.pos,a.pos,4,true);a.pushState(r[n],this.pos);a.score-=200;o.push(a)}return o};t.prototype.forceReduce=function(){var t=this.cx.parser.stateSlot(this.state,5);if((t&65536)==0)return false;if(!this.cx.parser.validAction(this.state,t)){this.storeNode(0,this.reducePos,this.reducePos,4,true);this.score-=100}this.reduce(t);return true};t.prototype.forceAll=function(){while(!this.cx.parser.stateFlag(this.state,2)&&this.forceReduce()){}return this};Object.defineProperty(t.prototype,"deadEnd",{get:function(){if(this.stack.length!=3)return false;var t=this.cx.parser;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)},enumerable:true,configurable:true});t.prototype.restart=function(){this.state=this.stack[0];this.stack.length=0};t.prototype.sameState=function(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return false;for(var e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return false;return true};t.prototype.toTree=function(){return rt.build({buffer:wf.create(this),group:this.cx.parser.group,topID:this.cx.topTerm,maxBufferLength:this.cx.maxBufferLength,reused:this.cx.reused,minRepeatType:this.cx.parser.minRepeatTerm})};Object.defineProperty(t.prototype,"parser",{get:function(){return this.cx.parser},enumerable:true,configurable:true});t.prototype.dialectEnabled=function(t){return this.cx.dialect.flags[t]};return t}();var yf;(function(t){t[t["Token"]=200]="Token";t[t["Reduce"]=100]="Reduce";t[t["MaxNext"]=4]="MaxNext";t[t["MaxInsertStackDepth"]=300]="MaxInsertStackDepth";t[t["DampenInsertStackDepth"]=120]="DampenInsertStackDepth"})(yf||(yf={}));var bf=function(){function t(t){this.stack=t;this.top=t.state;this.rest=t.stack;this.offset=this.rest.length}t.prototype.reduce=function(t){var e=t&65535,r=t>>19;if(r==0){if(this.rest==this.stack.stack)this.rest=this.rest.slice();this.rest.push(this.top,0,0);this.offset+=3}else{this.offset-=(r-1)*3}var i=this.stack.cx.parser.getGoto(this.rest[this.offset-3],e,true);this.top=i};return t}();var wf=function(){function t(t,e,r){this.stack=t;this.pos=e;this.index=r;this.buffer=t.buffer;if(this.index==0)this.maybeNext()}t.create=function(e){return new t(e,e.bufferBase+e.buffer.length,e.buffer.length)};t.prototype.maybeNext=function(){var t=this.stack.parent;if(t!=null){this.index=this.stack.bufferBase-t.bufferBase;this.stack=t;this.buffer=t.buffer}};Object.defineProperty(t.prototype,"id",{get:function(){return this.buffer[this.index-4]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"start",{get:function(){return this.buffer[this.index-3]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"end",{get:function(){return this.buffer[this.index-2]},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"size",{get:function(){return this.buffer[this.index-1]},enumerable:true,configurable:true});t.prototype.next=function(){this.index-=4;this.pos-=4;if(this.index==0)this.maybeNext()};t.prototype.fork=function(){return new t(this.stack,this.pos,this.index)};return t}();var xf=function(){function t(){this.start=-1;this.value=-1;this.end=-1}t.prototype.accept=function(t,e){this.value=t;this.end=e};return t}();var Sf=function(){function t(t,e){if(e===void 0){e=t.length}this.string=t;this.length=e}t.prototype.get=function(t){return t<0||t>=this.length?-1:this.string.charCodeAt(t)};t.prototype.read=function(t,e){return this.string.slice(t,Math.min(this.length,e))};t.prototype.clip=function(e){return new t(this.string,e)};return t}();var kf=function(){function t(t,e){this.data=t;this.id=e}t.prototype.token=function(t,e,r){Pf(this.data,t,e,r,this.id)};return t}();kf.prototype.contextual=kf.prototype.fallback=kf.prototype.extend=false;var Qf=function(){function t(t,e){if(e===void 0){e={}}this.token=t;this.contextual=!!e.contextual;this.fallback=!!e.fallback;this.extend=!!e.extend}return t}();function Pf(t,e,r,i,n){var o=0,a=1<<n,s=i.cx.dialect;t:for(var l=r.start;;){if((a&t[o])==0)break;var c=t[o+1];for(var u=o+3;u<c;u+=2)if((t[u+1]&a)>0){var f=t[u];if(s.allows(f)&&(r.value==-1||r.value==f||i.cx.parser.overrides(f,r.value))){r.accept(f,l);break}}var h=e.get(l++);for(var d=0,p=t[o+2];d<p;){var v=d+p>>1;var g=c+v+(v<<1);var m=t[g],O=t[g+1];if(h<m)p=v;else if(h>=O)d=v+1;else{o=t[g+2];continue t}}break}}function Lf(t,e){if(e===void 0){e=Uint16Array}if(typeof t!="string")return t;var r=null;for(var i=0,n=0;i<t.length;){var o=0;for(;;){var a=t.charCodeAt(i++),s=false;if(a==126){o=65535;break}if(a>=92)a--;if(a>=34)a--;var l=a-32;if(l>=46){l-=46;s=true}o+=l;if(s)break;o*=46}if(r)r[n++]=o;else r=new e(o)}return r}var $f=typeof process!="undefined"&&/\bparse\b/.test(process.env.LOG);var Rf=null;var Af=function(){function t(t){this.start=[0];this.index=[0];this.nextStart=0;this.trees=[t]}t.prototype.nodeAt=function(t){if(t<this.nextStart)return null;for(;;){var e=this.trees.length-1;if(e<0){this.nextStart=1e9;return null}var r=this.trees[e],i=this.index[e];if(i==r.children.length){this.trees.pop();this.start.pop();this.index.pop();continue}var n=r.children[i];var o=this.start[e]+r.positions[i];if(o>=t)return o==t?n:null;if(n instanceof it){this.index[e]++;this.nextStart=o+n.length}else{this.index[e]++;if(o+n.length>=t){this.trees.push(n);this.start.push(o);this.index.push(0)}}}};return t}();var Tf=function(t){mf(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.extended=-1;e.mask=0;return e}e.prototype.clear=function(t){this.start=t;this.value=this.extended=-1};return e}(xf);var Cf=new xf;var Mf=function(){function t(t){this.tokens=[];this.mainToken=Cf;this.actions=[];this.tokens=t.tokenizers.map((function(t){return new Tf}))}t.prototype.getActions=function(t,e){var r=0;var i=null;var n=t.cx.parser,o=n.tokenizers;var a=n.stateSlot(t.state,3);for(var s=0;s<o.length;s++){if((1<<s&a)==0)continue;var l=o[s],c=this.tokens[s];if(i&&!l.fallback)continue;if(l.contextual||c.start!=t.pos||c.mask!=a){this.updateCachedToken(c,l,t,e);c.mask=a}if(c.value!=0){var u=r;if(c.extended>-1)r=this.addActions(t,c.extended,c.end,r);r=this.addActions(t,c.value,c.end,r);if(!l.extend){i=c;if(r>u)break}}}while(this.actions.length>r)this.actions.pop();if(!i){i=Cf;i.start=t.pos;if(t.pos==e.length)i.accept(t.cx.parser.eofTerm,t.pos);else i.accept(0,t.pos+1)}this.mainToken=i;return this.actions};t.prototype.updateCachedToken=function(t,e,r,i){t.clear(r.pos);e.token(i,t,r);if(t.value>-1){var n=r.cx.parser;for(var o=0;o<n.specialized.length;o++)if(n.specialized[o]==t.value){var a=n.specializers[o](i.read(t.start,t.end),r);if(a>=0&&r.cx.dialect.allows(a>>1)){if((a&1)==0)t.value=a>>1;else t.extended=a>>1;break}}}else if(r.pos==i.length){t.accept(r.cx.parser.eofTerm,r.pos)}else{t.accept(0,r.pos+1)}};t.prototype.putAction=function(t,e,r,i){for(var n=0;n<i;n+=3)if(this.actions[n]==t)return i;this.actions[i++]=t;this.actions[i++]=e;this.actions[i++]=r;return i};t.prototype.addActions=function(t,e,r,i){var n=t.state,o=t.cx.parser,a=o.data;for(var s=0;s<2;s++){for(var l=o.stateSlot(n,s?2:1);;l+=3){if(a[l]==65535){if(a[l+1]==1){l=_f(a,l+2)}else{if(i==0&&a[l+1]==2)i=this.putAction(_f(a,l+1),e,r,i);break}}if(a[l]==e)i=this.putAction(_f(a,l+1),e,r,i)}}return i};return t}();var Uf=function(){function t(t,e,r,i,n,o,a){if(o===void 0){o=null}if(a===void 0){a=-1}this.parser=t;this.maxBufferLength=e;this.input=r;this.topTerm=i;this.dialect=n;this.parent=o;this.wrapType=a;this.reused=[];this.tokens=new Mf(t)}return t}();var If=5,qf=3,Xf=200,Ef=10;var jf=function(){function t(t,e,r){if(r===void 0){r={}}this.pos=0;this.recovering=0;this.tokenCount=0;this.nextStackID=9812;var i=r.cache,n=i===void 0?undefined:i,o=r.strict,a=o===void 0?false:o,s=r.bufferLength,l=s===void 0?Y:s,c=r.top,u=c===void 0?undefined:c,f=r.dialect;var h=u?t.topRules[u]:t.defaultTop;if(!h)throw new RangeError("Invalid top rule name "+u);this.stacks=[Of.start(new Uf(t,l,e,h[1],t.parseDialect(f)),h[0])];this.strict=a;this.cache=n?new Af(n):null}t.prototype.putStack=function(t){this.stacks.push(t);if(this.pos<0||t.pos<this.pos)this.pos=t.pos};t.prototype.putStackDedup=function(t){for(var e=0;e<this.stacks.length;e++){var r=this.stacks[e];if(r.pos==t.pos&&r.sameState(t)){if(this.stacks[e].score<t.score)this.stacks[e]=t;return}}this.putStack(t)};t.prototype.advance=function(){var t=this.stacks,e=this.pos;this.stacks=[];this.pos=-1;var r=null,i=null;for(var n=0;n<t.length;n++){var o=t[n];for(;;){if(o.pos>e){this.putStack(o)}else{var a=this.advanceStack(o,t);if(a){o=a;continue}else{if(!r){r=[];i=[]}r.push(o);var s=o.cx.tokens.mainToken;i.push(s.value,s.end)}}break}}if(!this.stacks.length){var l=r&&zf(r);if(l)return l.toTree();if(this.strict){if($f&&r)console.log("Stuck with token "+r[0].cx.parser.getName(r[0].cx.tokens.mainToken.value));throw new SyntaxError("No parse at "+e)}if(!this.recovering)this.recovering=If}if(this.recovering&&r){var l=this.runRecovery(r,i);if(l)return l.forceAll().toTree()}if(this.recovering){var c=this.recovering==1?1:this.recovering*qf;if(this.stacks.length>c){this.stacks.sort((function(t,e){return e.score-t.score}));this.stacks.length=c}if(this.stacks.some((function(t){return t.reducePos>e})))this.recovering--}else if(this.stacks.length>1){t:for(var n=0;n<this.stacks.length-1;n++){var o=this.stacks[n];for(var u=n+1;u<this.stacks.length;u++){var f=this.stacks[u];if(o.sameState(f)||o.buffer.length>Xf&&f.buffer.length>Xf){if((o.score-f.score||o.buffer.length-f.buffer.length)>0){this.stacks.splice(u--,1)}else{this.stacks.splice(n--,1);continue t}}}}}this.tokenCount++;return null};t.prototype.advanceStack=function(t,e){var r=t.pos,i=t.cx,n=i.input,o=i.parser;var a=$f?this.stackID(t)+" -> ":"";if(this.cache){for(var s=this.cache.nodeAt(r);s;){var l=o.group.types[s.type.id]==s.type?o.getGoto(t.state,s.type.id):-1;if(l>-1){t.useNode(s,l);if($f)console.log(a+this.stackID(t)+(" (via reuse of "+o.getName(s.type.id)+")"));return t}if(!(s instanceof rt)||s.children.length==0||s.positions[0]>0)break;var c=s.children[0];if(c instanceof rt)s=c;else break}}var u=o.startNested(t.state);t:if(u>-1){var f=o.nested[u],h=f.grammar,d=f.end,p=f.placeholder;var v=undefined,g=null,m=void 0,O=void 0,y=void 0,b=undefined;if(typeof h=="function"){var w=h(n,t);if(w.stay)break t;g=w.parseNode,m=w.parser,O=w.top,y=w.dialect,v=w.filterEnd,b=w.wrapType}else{m=h}var x=this.scanForNestEnd(t,d,v);var S=t.cx.input.clip(x);if(g||!m){var k=g?g(S,t.pos):rt.empty;if(k.length!=x-t.pos)k=new rt(k.type,k.children,k.positions,x-t.pos);if(b!=null)k=new rt(o.group.types[b],[k],[0],k.length);t.useNode(k,o.getGoto(t.state,p,true));return t}else{var Q=O?m.topRules[O]:m.defaultTop;var P=Of.start(new Uf(m,t.cx.maxBufferLength,S,Q[1],m.parseDialect(y),t,b),Q[0],t.pos);if($f)console.log(a+this.stackID(P)+" (nested)");return P}}var L=o.stateSlot(t.state,4);if(L>0){t.reduce(L);if($f)console.log(a+this.stackID(t)+(" (via always-reduce "+o.getName(L&65535)+")"));return t}var $=t.cx.tokens.getActions(t,n);for(var R=0;R<$.length;){var A=$[R++],T=$[R++],x=$[R++];var C=R==$.length||!e;var M=C?t:t.split();M.apply(A,T,x);if($f)console.log(a+this.stackID(M)+(" (via "+((A&65536)==0?"shift":"reduce of "+o.getName(A&65535))+" for "+o.getName(T)+" @ "+r+(M==t?"":", split")+")"));if(C)return M;else if(M.pos>r)this.putStack(M);else e.push(M)}if(t.cx.parent&&t.pos==n.length)return this.finishNested(t);return null};t.prototype.advanceFully=function(t){var e=t.pos;for(;;){var r=this.advanceStack(t,null);if(!r)return t;if(r.pos>e){this.putStackDedup(r);return null}t=r}};t.prototype.runRecovery=function(t,e){var r=null,i=false;for(var n=0;n<t.length;n++){var o=t[n],a=e[n<<1],s=e[(n<<1)+1];var l=$f?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;i=true;o.restart();if($f)console.log(l+this.stackID(o)+" (restarted)");var c=this.advanceFully(o);if(c)o=c;else continue}var u=o.split(),f=l;for(var h=0;u.forceReduce()&&h<Ef;h++){if($f)console.log(f+this.stackID(u)+" (via force-reduce)");var c=this.advanceFully(u);if(!c)break;u=c;if($f)f=this.stackID(c)+" -> "}for(var d=0,p=o.recoverByInsert(a);d<p.length;d++){var v=p[d];if($f)console.log(l+this.stackID(v)+" (via recover-insert)");this.advanceFully(v)}if(o.cx.input.length>o.pos){if(s==o.pos){s++;a=0}o.recoverByDelete(a,s);if($f)console.log(l+this.stackID(o)+(" (via recover-delete "+o.cx.parser.getName(a)+")"));this.putStackDedup(o)}else if(!o.cx.parent&&(!r||r.score<o.score)){r=o}}return r};t.prototype.forceFinish=function(){return this.stacks[0].split().forceAll().toTree()};Object.defineProperty(t.prototype,"badness",{get:function(){if(!this.stacks.length)return 0;return-(this.stacks[0].score/(200*this.tokenCount))},enumerable:true,configurable:true});t.prototype.scanForNestEnd=function(t,e,r){var i=t.cx.input;for(var n=t.pos;n<i.length;n++){Cf.start=n;Cf.value=-1;e.token(i,Cf,t);if(Cf.value>-1&&(!r||r(i.read(n,Cf.end))))return n}return i.length};t.prototype.finishNested=function(t){if(t.cx.wrapType==-2)return null;var e=t.cx.parent,r=t.forceAll().toTree();var i=e.cx.parser,n=i.nested[i.startNested(e.state)];r=new rt(r.type,r.children,r.positions.map((function(t){return t-e.pos})),t.pos-e.pos);if(t.cx.wrapType>-1)r=new rt(i.group.types[t.cx.wrapType],[r],[0],r.length);t.cx.wrapType=-2;e.useNode(r,i.getGoto(e.state,n.placeholder,true));if($f)console.log(this.stackID(e)+(" (via unnest "+(t.cx.wrapType>-1?i.getName(t.cx.wrapType):r.type.name)+")"));return e};t.prototype.stackID=function(t){var e=(Rf||(Rf=new WeakMap)).get(t);if(!e)Rf.set(t,e=String.fromCodePoint(this.nextStackID++));return e+t};return t}();var Wf=function(){function t(t,e,r){this.source=t;this.flags=e;this.disabled=r}t.prototype.allows=function(t){return!this.disabled||this.disabled[t]==0};return t}();var Df=function(){function t(t){var e=this;this.nextStateCache=[];this.cachedDialect=null;if(t.version!=12)throw new RangeError("Parser version ("+t.version+") doesn't match runtime version ("+12+")");var r=Lf(t.tokenData);var i=t.nodeNames.split(" ");this.minRepeatTerm=i.length;for(var n=0;n<t.repeatNodeCount;n++)i.push("");var o=[];for(var n=0;n<i.length;n++)o.push(Vf);function a(t,e,r){if(o[t]==Vf)o[t]=Object.create(null);e.set(o[t],e.deserialize(String(r)))}if(t.nodeProps)for(var s=0,l=t.nodeProps;s<l.length;s++){var c=l[s];var u=c[0];for(var n=1;n<c.length;){var f=c[n++];if(f>=0){a(f,u,c[n++])}else{var h=c[n+-f];for(var d=-f;d>0;d--)a(c[n++],u,h);n++}}}this.specialized=new Uint16Array(t.specialized?t.specialized.length:0);this.specializers=[];if(t.specialized)for(var n=0;n<t.specialized.length;n++){this.specialized[n]=t.specialized[n].term;this.specializers[n]=t.specialized[n].get}this.states=Lf(t.states,Uint32Array);this.data=Lf(t.stateData);this.goto=Lf(t.goto);var p=Object.keys(t.topRules).map((function(e){return t.topRules[e][1]}));this.group=new et(i.map((function(r,i){var n=(i>=e.minRepeatTerm?8:0)|(p.indexOf(i)>-1?1:0)|(i==0?4:0)|(t.skippedNodes&&t.skippedNodes.indexOf(i)>-1?2:0);return new tt(r,o[i],i,n)})));this.maxTerm=t.maxTerm;this.tokenizers=t.tokenizers.map((function(t){return typeof t=="number"?new kf(r,t):t}));this.topRules=t.topRules;this.nested=(t.nested||[]).map((function(t){var e=t[0],r=t[1],i=t[2],n=t[3];return{name:e,grammar:r,end:new kf(Lf(i),0),placeholder:n}}));this.dialects=t.dialects||{};this.dynamicPrecedences=t.dynamicPrecedences||null;this.tokenPrecTable=t.tokenPrec;this.termNames=t.termNames||null;this.maxNode=this.group.types.length-1;for(var n=0,v=this.states.length/6;n<v;n++)this.nextStateCache[n]=null}t.prototype.parse=function(t,e){if(typeof t=="string")t=new Sf(t);var r=new jf(this,t,e);for(;;){var i=r.advance();if(i)return i}};t.prototype.startParse=function(t,e){if(typeof t=="string")t=new Sf(t);return new jf(this,t,e)};t.prototype.getGoto=function(t,e,r){if(r===void 0){r=false}var i=this.goto;if(e>=i[0])return-1;for(var n=i[e+1];;){var o=i[n++],a=o&1;var s=i[n++];if(a&&r)return s;for(var l=n+(o>>1);n<l;n++)if(i[n]==t)return s;if(a)return-1}};t.prototype.hasAction=function(t,e){var r=this.data;for(var i=0;i<2;i++){for(var n=this.stateSlot(t,i?2:1),o=void 0;;n+=3){if((o=r[n])==65535){if(r[n+1]==1)o=r[n=_f(r,n+2)];else if(r[n+1]==2)return _f(r,n+2);else break}if(o==e||o==0)return _f(r,n+1)}}return 0};t.prototype.stateSlot=function(t,e){return this.states[t*6+e]};t.prototype.stateFlag=function(t,e){return(this.stateSlot(t,0)&e)>0};t.prototype.startNested=function(t){var e=this.stateSlot(t,0);return e&4?e>>10:-1};t.prototype.validAction=function(t,e){if(e==this.stateSlot(t,4))return true;for(var r=this.stateSlot(t,1);;r+=3){if(this.data[r]==65535){if(this.data[r+1]==1)r=_f(this.data,r+2);else return false}if(e==_f(this.data,r+1))return true}};t.prototype.nextStates=function(t){var e=this.nextStateCache[t];if(e)return e;var r=[];for(var i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535){if(this.data[i+1]==1)i=_f(this.data,i+2);else break}if((this.data[i+2]&65536>>16)==0&&r.indexOf(this.data[i+1])<0)r.push(this.data[i+1])}var n=this.goto,o=n[0];for(var a=0;a<o;a++){for(var s=n[a+1];;){var l=n[s++],c=n[s++];for(var u=s+(l>>1);s<u;s++)if(n[s]==t&&r.indexOf(c)<0)r.push(c);if(l&1)break}}return this.nextStateCache[t]=r};t.prototype.overrides=function(t,e){var r=Bf(this.data,this.tokenPrecTable,e);return r<0||Bf(this.data,this.tokenPrecTable,t)<r};t.prototype.withNested=function(t){return this.copy({nested:this.nested.map((function(e){if(!Object.prototype.hasOwnProperty.call(t,e.name))return e;return{name:e.name,grammar:t[e.name],end:e.end,placeholder:e.placeholder}}))})};t.prototype.withProps=function(){var t;var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return this.copy({group:(t=this.group).extend.apply(t,e)})};t.prototype.withTokenizer=function(t,e){return this.copy({tokenizers:this.tokenizers.map((function(r){return r==t?e:r}))})};t.prototype.copy=function(e){var r=Object.create(t.prototype);for(var i=0,n=Object.keys(this);i<n.length;i++){var o=n[i];r[o]=o in e?e[o]:this[o]}return r};t.prototype.getName=function(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.group.types[t].name||t)};Object.defineProperty(t.prototype,"eofTerm",{get:function(){return this.maxNode+1},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"hasNested",{get:function(){return this.nested.length>0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"defaultTop",{get:function(){return this.topRules[Object.keys(this.topRules)[0]]},enumerable:true,configurable:true});t.prototype.dynamicPrecedence=function(t){var e=this.dynamicPrecedences;return e==null?0:e[t]||0};Object.defineProperty(t.prototype,"topType",{get:function(){return this.group.types[this.defaultTop[1]]},enumerable:true,configurable:true});t.prototype.parseDialect=function(t){if(this.cachedDialect&&this.cachedDialect.source==t)return this.cachedDialect;var e=Object.keys(this.dialects),r=e.map((function(){return false}));if(t)for(var i=0,n=t.split(" ");i<n.length;i++){var o=n[i];var a=e.indexOf(o);if(a>=0)r[a]=true}var s=null;for(var l=0;l<e.length;l++)if(!r[l]){for(var c=this.dialects[e[l]],a=void 0;(a=this.data[c++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[a]=1}return this.cachedDialect=new Wf(t,r,s)};t.deserialize=function(e){return new t(e)};return t}();function _f(t,e){return t[e]|t[e+1]<<16}Df.TokenGroup=kf;var Vf=Object.create(null);function Bf(t,e,r){for(var i=e,n=void 0;(n=t[i])!=65535;i++)if(n==r)return i-e;return-1}function zf(t){var e=null;for(var r=0,i=t;r<i.length;r++){var n=i[r];if(n.pos==n.cx.input.length&&n.cx.parser.stateFlag(n.state,2)&&(!e||e.score<n.score))e=n}return e}var Nf=1,Ff=164,Gf=165,Yf=166,Hf=167,Zf=168,Kf=169,Jf=21,th=48,eh=49,rh=53,ih=56,nh=57,oh=60,ah=61,sh=62,lh=231;var ch=10,uh=13,fh=32,hh=9,dh=35,ph=40,vh=46;var gh=[Jf,th,eh,rh,ih,nh,oh,ah,sh],mh=[lh];var Oh=new WeakMap;var yh=function(){function t(){this.last=this.lastIndent=-1;this.prev=[]}t.prototype.get=function(t){if(this.last==t)return this.lastIndent;for(var e=0;e<this.prev.length;e++)if(this.prev[e]==t)return e;return-1};t.prototype.set=function(t,e){if(t==this.last)return;if(this.last>-1)this.setPrev(this.last,this.lastIndent);this.last=t;this.lastIndent=e};t.prototype.setPrev=function(t,e){while(this.prev.length<e)this.prev.push(-1);this.prev[e]=t};t.for=function(e){var r=Oh.get(e);if(!r)Oh.set(e,r=new t);return r};return t}();var bh=50;function wh(t,e){var r=yh.for(t),i=r.get(e);if(i>-1)return i;var n=t.read(Math.max(0,e-bh),e);var o=0,a=n.length;for(;a>0;a--){var s=n.charCodeAt(a-1);if(s==ch||s==uh)break}for(var l=a;l<n.length;l++){var c=n.charCodeAt(l);if(c==fh)o++;else if(c==hh)o+=8-o%8;else break}r.setPrev(e,o);return o}var xh=new Qf((function(t,e,r){var i=t.get(e.start);if(i<0){e.accept(Hf,e.start);return}if(i!=ch&&i!=uh)return;if(r.startOf(gh)!=null){e.accept(Gf,e.start+1);return}var n=e.start+1,o=0;for(;n<t.length;n++){var a=t.get(n);if(a==fh)o++;else if(a==hh)o+=8-o%8;else if(a==ch||o==uh||a==dh){e.accept(Yf,e.start+1);return}else{break}}e.accept(Ff,e.start+1);yh.for(t).set(n,o)}),{contextual:true,fallback:true});var Sh=new Qf((function(t,e,r){var i=r.startOf(mh);var n=i==null?0:wh(t,i);var o=wh(t,e.start);e.accept(o<=n?Kf:Zf,e.start)}),{contextual:true,fallback:true});var kh=new Qf((function(t,e){var r=e.start;for(var i="print",n=0;n<i.length;n++,r++)if(t.get(r)!=i.charCodeAt(n))return;var o=r;if(/\w/.test(String.fromCharCode(t.get(r))))return;for(;;r++){var a=t.get(r);if(a==fh||a==hh)continue;if(a!=ph&&a!=vh&&a!=ch&&a!=uh&&a!=dh)e.accept(Nf,o);return}}));var Qh={__proto__:null,await:40,or:48,and:50,in:54,not:56,is:58,if:64,else:66,lambda:70,self:74,yield:90,from:92,async:100,for:102,None:154,True:156,False:156,del:170,pass:174,break:178,continue:182,return:186,raise:194,import:198,as:200,global:204,nonlocal:206,assert:210,elif:220,while:224,try:230,except:232,finally:234,with:238,def:242,class:252};var Ph=Df.deserialize({version:12,states:"!;[O`Q!LTOOO%fQ!LUO'#GcOOQ!LQ'#Cm'#CmOOQ!LQ'#Cn'#CnO'UQ!LSO'#ClO(zQ!LUO'#GbOOQ!LQ'#Gc'#GcOOQ!LQ'#DS'#DSOOQ!LQ'#Gb'#GbO)hQ!LSO'#CqO)xQ!LSO'#DcO*YQ!LSO'#DgOOQ!LQ'#Dt'#DtO*mOWO'#DtO*uO`O'#DtO*}OpO'#DuO+YO!bO'#DuO+eO#tO'#DuO+pO&jO'#DuO-rQ!LUO'#GSOOQ!LQ'#GS'#GSO'UQ!LSO'#GRO/UQ!LUO'#GROOQ!LQ'#E^'#E^O/mQ!LSO'#E_OOQ!LQ'#GQ'#GQO/wQ!LSO'#GPOOQ&FV'#GP'#GPO0SQ!LSO'#FQOOQ!LQ'#Ft'#FtO0XQ!LSO'#FPOOQ&FV'#H]'#H]OOQ&FV'#GO'#GOOOQ!LR'#FS'#FSQ`Q!LTOOO'UQ!LSO'#CoO0gQ!LSO'#CzO0nQ!LSO'#DOO1PQ!LSO'#GgO1aQ!LUO'#ERO'UQ!LSO'#ESOOQ!LQ'#EU'#EUOOQ!LQ'#EW'#EWOOQ!LQ'#EY'#EYO1uQ!LSO'#E[O2SQ!LSO'#E`O0SQ!LSO'#EbO2gQ!LUO'#EbO0SQ!LSO'#EeO/mQ!LSO'#EhO/mQ!LSO'#ElO/mQ!LSO'#EoO2rQ!LSO'#EqO2yQ!LSO'#EvO3UQ!LSO'#ErO/mQ!LSO'#EvO0SQ!LSO'#ExO0SQ!LSO'#E}OOQ!LQ'#Cc'#CcOOQ!LQ'#Cd'#CdOOQ!LQ'#Ce'#CeOOQ!LQ'#Cf'#CfOOQ!LQ'#Cg'#CgOOQ!LQ'#Ch'#ChOOQ!LQ'#Cj'#CjO'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O'UQ!LSO,58|O3ZQ!LSO'#DnOOQ!LQ,5:X,5:XO3nQ!LSO,5:[O3{Q#)WO,5:[O4QQ!LUO,59WO0gQ!LSO,59_O0gQ!LSO,59_O0gQ!LSO,59_O6pQ!LSO,59_O6uQ!LSO,59_O6|Q!LSO,59gO7TQ!LSO'#GbO8ZQ!LSO'#GaOOQ!LQ'#Ga'#GaOOQ!LQ'#DY'#DYO8rQ!LSO,59]O'UQ!LSO,59]O9QQ!LSO,59]O9VQ!LSO,5:QO'UQ!LSO,5:QOOQ!LQ,59},59}O9eQ!LSO,59}O9jQ!LSO,5:WO'UQ!LSO,5:WO'UQ!LSO,5:UOOQ!LQ,5:R,5:RO9{Q!LSO,5:RO:QQ!LSO,5:VOOOO'#F]'#F]O:VOWO,5:`OOQ!LQ,5:`,5:`OOOO'#F^'#F^O:_O`O,5:`O:gQ!LSO'#DvOOOO'#F_'#F_O:wOpO,5:aOOQ!LQ,5:a,5:aOOOO'#Fb'#FbO;SO!bO,5:aOOOO'#Fc'#FcO;_O#tO,5:aOOOO'#Fd'#FdO;jO&jO,5:aOOQ!LQ'#Fe'#FeO;uQ!LUO,5:eO>gQ!LUO,5<mO?QQ#4^O'#FfO?tQ!LUO,5<mOOQ!LQ,5:y,5:yO@]Q!LTO'#FmOAlQ!LSO,5;UOOQ&FV,5<k,5<kOAwQ!LUO'#HYOB`Q!LSO,5;lOOQ!LQ-E9r-E9rOOQ&FV,5;k,5;kO3PQ!LSO'#ExOOQ!LR-E9Q-E9QOBhQ!LUO,59ZODoQ!LUO,59fOEYQ!LSO'#GdOEeQ!LSO'#GdO0SQ!LSO'#GdOEpQ!LSO'#DQOExQ!LSO,59jOE}Q!LSO'#GhO'UQ!LSO'#GhO/mQ!LSO,5=ROOQ!LQ,5=R,5=RO/mQ!LSO'#D}OOQ!LQ'#EO'#EOOFlQ!LSO'#FgOF|Q!LSO,58zOG[Q!LSO,58zO)kQ!LSO,5:kOGaQ!LUO'#GjOOQ!LQ,5:n,5:nOOQ!LQ,5:v,5:vOGtQ!LSO,5:zOHVQ!LSO,5:|OOQ!LQ'#Fj'#FjOHeQ!LUO,5:|OHsQ!LSO,5:|OHxQ!LSO'#H[OOQ!LQ,5;P,5;POIWQ!LSO'#HXOOQ!LQ,5;S,5;SO3UQ!LSO,5;WO3UQ!LSO,5;ZOIiQ!LUO'#H^O'UQ!LSO'#H^OIsQ!LSO,5;]O2rQ!LSO,5;]O/mQ!LSO,5;bO0SQ!LSO,5;dOIxQ!LTO'#EmOKRQ&FXO,5;^ONjQ!LSO'#H_O3UQ!LSO,5;bONuQ!LSO,5;dONzQ!LSO,5;iO!#oQ!LUO1G.hO!#vQ!LUO1G.hO!&gQ!LUO1G.hO!&qQ!LUO1G.hO!)[Q!LUO1G.hO!)oQ!LUO1G.hO!*SQ!LUO1G.hO!,rQ!LSO'#GpO!-QQ!LUO'#GSO/mQ!LSO'#GpO!-[Q!LSO'#GoOOQ!LQ,5:Y,5:YO!-dQ!LSO,5:YO!-iQ!LSO'#GqO!-tQ!LSO'#GqO!.XQ!LSO1G/vOOQ!LQ'#Dr'#DrOOQ!LQ1G/v1G/vOOQ!LQ1G.y1G.yO!/XQ!LUO1G.yO!/`Q!LUO1G.yO0gQ!LSO1G.yO!/{Q!LSO1G/ROOQ!LQ'#DX'#DXO/mQ!LSO,59rOOQ!LQ1G.w1G.wO!0SQ!LSO1G/dO!0dQ!LSO1G/dO!0lQ!LSO1G/eO'UQ!LSO'#GiO!0qQ!LSO'#GiO!0vQ!LUO1G.wO!1WQ!LSO,59fO!2^Q!LSO'#FXO!2qQ!LSO,5=XO!2yQ!LSO1G/lO!3OQ!LUO1G/lOOQ!LQ1G/i1G/iO!3`Q!LSO'#FUO!4YQ!LSO,5=SO/mQ!LSO1G/pO!4wQ!LSO1G/rO!4|Q!LUO1G/rO!5^Q!LUO1G/pOOQ!LQ1G/m1G/mOOQ!LQ1G/q1G/qOOOO-E9Z-E9ZOOQ!LQ1G/z1G/zOOOO-E9[-E9[O!5nQ!LSO'#G|O/mQ!LSO'#G|O!5|Q!LSO,5:bOOOO-E9]-E9]OOQ!LQ1G/{1G/{OOOO-E9`-E9`OOOO-E9a-E9aOOOO-E9b-E9bOOQ!LQ-E9c-E9cO!6XQ!LUO1G2XO'UQ!LSO,5<QOOQ!LQ,5<Q,5<QOOQ!LQ-E9d-E9dOOQ!LQ,5<X,5<XOOQ!LQ-E9k-E9kOOQ&FV1G0p1G0pO0SQ!LSO'#FiO!6pQ!LUO,5=tOOQ!LQ1G1W1G1WO!7XQ!LSO1G1WOOQ!LQ'#DT'#DTO/mQ!LSO,5=OOOQ!LQ,5=O,5=OO!7^Q!LSO'#FTO!7lQ!LSO,59lO!7tQ!LSO1G/UO!8OQ!LUO,5=SOOQ!LQ1G2m1G2mOOQ!LQ,5:i,5:iO!8oQ!LSO'#GROOQ!LQ,5<R,5<ROOQ!LQ-E9e-E9eO!9QQ!LSO1G.fOOQ!LQ1G0V1G0VO!9`Q!LSO'#FWO!9sQ!LSO,5=UO/mQ!LSO1G0fO/mQ!LSO1G0fO0SQ!LSO1G0hOOQ!LQ-E9h-E9hO!:UQ!LSO1G0hO!:aQ!LSO1G0hO!:fQ!LSO'#FlO!:wQ!LSO,5=vO!;VQ!LSO'#FhO!;pQ!LSO,5=sO!<RQ&FXO1G0rO!?gQ&FXO1G0uO!BxQ!LSO'#FpO!CVQ!LSO,5=xO!C_Q!LUO,5=xO/mQ!LSO1G0wO!CiQ!LSO1G0wO3UQ!LSO1G0|ONuQ!LSO1G1OOOQ&FV,5;X,5;XO!CnQ!LTO,5;XO!EaQ&FXO1G0xO!HxQ!LSO'#FqO3UQ!LSO1G0xO3UQ!LSO1G0xO!IVQ!LSO'#FrO!IgQ!LSO,5=yO0SQ!LSO,5=yOOQ&FV1G0|1G0|O!JQQ!LSO'#EzO!JXQ#)WO1G1OOOQ&FV1G1T1G1TO3UQ!LSO1G1TOOQ!LQ,5=[,5=[OOQ!LQ'#Do'#DoO/mQ!LSO,5=[O!JaQ!LSO'#FZO!JwQ!LSO,5=ZOOQ!LQ1G/t1G/tO!KPQ!LSO'#F[O!KdQ!LSO,5=]O!KlQ!LSO,5=]O!LPQ!LSO,5=]O!LaQ!LSO,5=]OOQ!LQ7+%b7+%bOOQ!LQ7+$e7+$eO!7tQ!LSO7+$mO!NSQ!LSO1G.yO!NZQ!LSO1G.yOOQ!LQ1G/^1G/^OOQ!LQ,5;q,5;qO'UQ!LSO,5;qOOQ!LQ7+%O7+%OO!NbQ!LSO7+%OOOQ!LQ-E9T-E9TOOQ!LQ7+%P7+%PO!NrQ!LSO,5=TO'UQ!LSO,5=TOOQ!LQ7+$c7+$cO!NwQ!LSO7+%OO# PQ!LSO7+%POOQ!LQ,5;s,5;sO'UQ!LSO,5;sOOQ!LQ-E9V-E9VOOQ!LQ7+%W7+%WO# UQ!LSO1G2sO# ^Q!LSO7+%WOOQ!LQ,5;p,5;pO'UQ!LSO,5;pOOQ!LQ-E9S-E9SO# cQ!LSO7+%[OOQ!LQ7+%^7+%^O# qQ!LSO1G2nO#!`Q!LSO7+%^O#!eQ!LSO'#FYO#!xQ!LSO1G2tO##QQ!LSO7+%[O##VQ!LSO'#F`O##pQ!LSO,5=hO##pQ!LSO,5=hO#$OOMhO'#DxO#$ZOQO'#G}OOOO1G/|1G/|O#$`Q!LSO1G/|O#$hQ!LUO1G1lOOQ!LQ,5<T,5<TOOQ!LQ-E9g-E9gOOQ!LQ7+&r7+&rOOQ!LQ1G2j1G2jOOQ!LQ,5;o,5;oOOQ!LQ-E9R-E9ROOQ!LQ7+$p7+$pO#%RQ!LSO'#FfO#%oQ!LSO,5<mO#&QQ!LUO,5;rOOQ!LQ-E9U-E9UOOQ!LQ7+&Q7+&QO#&eQ!LSO7+&QOOQ!LQ7+&S7+&SO#&sQ!LSO'#HZO0SQ!LSO7+&SO#'XQ!LSO7+&SOOQ!LQ,5<W,5<WOOQ!LQ-E9j-E9jOOQ!LQ,5<S,5<SOOQ!LQ-E9f-E9fO#'dQ&FXO7+&^O!HxQ!LSO'#FoO3UQ!LSO7+&^O3UQ!LSO7+&aO#*xQ!LUO,5<[O'UQ!LSO,5<[OOQ!LQ-E9n-E9nO#+SQ!LSO1G3dO3UQ!LSO7+&cO/mQ!LSO7+&cOOQ&FV7+&h7+&hO!JXQ#)WO7+&jO#+[Q&FWO1G0sOOQ&FV-E9o-E9oO3UQ!LSO7+&dO3UQ!LSO7+&dOOQ&FV,5<],5<]O#+gQ!LSO,5<]OOQ&FV7+&d7+&dO#+rQ&FXO7+&dO#/TQ!LSO,5<^OOQ!LQ-E9p-E9pO#/`Q!LSO1G3eO#/hQ!LSO'#HaO#/vQ!LSO'#HaO0SQ!LSO'#HaOOQ!LQ'#Ha'#HaO#0RQ!LSO'#H`OOQ!LQ,5;f,5;fO#0ZQ!LSO,5;fO/mQ!LSO'#E|OOQ&FV7+&j7+&jO3UQ!LSO7+&jOOQ&FV7+&o7+&oOOQ!LQ1G2v1G2vOOQ!LQ,5;u,5;uOOQ!LQ-E9X-E9XO#0`Q!LSO,5;vO#0kQ!LSO,5;vOOQ!LQ-E9Y-E9YO#1OQ!LSO1G2wO#1WQ!LSO1G2wO#1hQ!LSO1G2wO#1OQ!LSO1G2wOOQ!LQ<<HX<<HXO#1sQ!LUO1G1]OOQ!LQ<<Hj<<HjP#1}Q!LSO'#FVO6|Q!LSO1G2oO#2[Q!LSO1G2oO#2aQ!LSO<<HjOOQ!LQ<<Hk<<HkO#2qQ!LUO1G1_OOQ!LQ<<Hr<<HrO#2{Q!LUO1G1[O#3lQ!LSO7+(`O#3tQ!LSO<<HvOOQ!LQ<<Hx<<HxO#3yQ!LSO,5;tO'UQ!LSO,5;tOOQ!LQ-E9W-E9WOOQ!LQ<<Hv<<HvOOQ!LQ,5;z,5;zO/mQ!LSO,5;zOOQ!LQ-E9^-E9^O#4OQ!LSO1G3SOOOO'#Fa'#FaO#4^OMhO,5:dOOOO,5=i,5=iOOOO7+%h7+%hO#4iQ!LSO1G2XO/mQ!LSO<<IlO#4zQ!LSO'#FkO#5`Q!LSO,5=uO0SQ!LSO,5=uO#5qQ!LSO<<InOOQ!LQ<<In<<InO0SQ!LSO<<InOOQ&FV-E9m-E9mO3UQ!LSO<<IxOOQ&FV,5<Z,5<ZO3UQ!LSO,5<ZOOQ&FV<<Ix<<IxOOQ&FV<<I{<<I{O#5vQ!LUO1G1vO#6QQ&FXO<<I}O3UQ!LSO<<I}OOQ&FV<<JU<<JUO3UQ!LSO<<JUO!CnQ!LTO'#FnO#9cQ&FWO7+&_OOQ&FV7+&_7+&_OOQ&FV<<JO<<JOO#9nQ&FXO<<JOOOQ&FV1G1w1G1wO0SQ!LSO1G1wO3UQ!LSO<<JOO0SQ!LSO1G1xO#=PQ!LSO7+)POOQ!LQ'#E{'#E{O/mQ!LSO,5={O#=XQ!LSO,5={OOQ!LQ,5={,5={O#=dQ!LSO'#FsO#=nQ!LSO,5=zOOQ!LQ1G1Q1G1QOOQ!LQ,5;h,5;hO#=vQ!LSO1G1bO#>ZQ!LSO1G1bO#>kQ!LSO1G1bO#>vQ!LSO7+(cO#>vQ!LSO7+(cO#?OQ!LSO7+(cO#?`Q!LSO7+(ZO6|Q!LSO7+(ZOOQ!LQAN>UAN>UOOQ!LQAN>bAN>bO/mQ!LSO1G1`O#?yQ!LUO1G1`OOQ!LQ1G1f1G1fOOOO-E9_-E9_OOQ!LQAN?WAN?WO#@TQ!LSO,5<VOOQ!LQ-E9i-E9iO#@iQ!LSO1G3aOOQ!LQAN?YAN?YO#@zQ!LSOAN?YOOQ&FVAN?dAN?dOOQ&FV1G1u1G1uO3UQ!LSOAN?iO#APQ&FXOAN?iOOQ&FVAN?pAN?pOOQ&FU,5<Y,5<YOOQ&FU-E9l-E9lOOQ&FV<<Iy<<IyO3UQ!LSOAN?jO3UQ!LSO7+'cOOQ&FVAN?jAN?jOOQ!LQ7+'d7+'dOOQ!LQ1G3g1G3gO/mQ!LSO1G3gOOQ!LQ,5<_,5<_OOQ!LQ-E9q-E9qO#DbQ!LSO7+&|O#DrQ!LSO7+&|OOQ!LQ7+&|7+&|O#D}Q!LSO<<K}O#D}Q!LSO<<K}O#EVQ!LSO'#GkOOQ!LQ<<Ku<<KuO#EaQ!LSO<<KuOOQ!LQ7+&z7+&zO0SQ!LSO1G1qO#EzQ!LSO7+({OOQ!LQG24tG24tOOQ&FVG25TG25TO3UQ!LSOG25TOOQ&FVG25UG25UOOQ&FV<<J}<<J}OOQ!LQ7+)R7+)ROOQ!LQ<<Jh<<JhO#F]Q!LSO<<JhO#FmQ!LSOANAiO#FuQ!LSO'#GlOOQ!LQ'#Gl'#GlO0nQ!LSO'#DbO#G`Q!LSO,5=VOOQ!LQANAaANAaOOQ!LQ7+']7+']OOQ&FVLD*oLD*oOOQ!LQAN@SAN@SO#GwQ!LSO,59|OOQ!LQ1G2q1G2qO#EVQ!LSO1G/hOOQ!LQ7+%S7+%SO6|Q!LSO'#CzO6|Q!LSO,59_O6|Q!LSO,59_O6|Q!LSO,59_O#G|Q!LUO,5<mO6|Q!LSO1G.yO/mQ!LSO1G/UO/mQ!LSO7+$mO'UQ!LSO'#GRO#HaQ!LSO,59_O#HfQ!LSO,59_O#HmQ!LSO,59jO#HrQ!LSO1G/RO0nQ!LSO'#DOO6|Q!LSO,59g",stateData:"#IT~O$qOS$lOS$kOSQOS~OPhOTeOdsOfXOltOp!SOsuOudO}vO!O!PO!S!VO!T!UO!WYO![ZO!gdO!ndO!odO!pdO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO#d!TO#g!WO#k!XO#m!YO#r!ZO#ulO$jqO$|QO$}QO%RRO%SVO%g[O%h]O%k^O%n_O%t`O%waO%ybO~OT!aO]!aO_!bOf!jO!W!lO!e!mO$w![O$x!]O$y!^O$z!_O${!_O$|!`O$}!`O%O!aO%P!aO%Q!aO~Oh%VXi%VXj%VXk%VXl%VXm%VXp%VXx%VXy%VX!t%VX#_%VX$j%VX$m%VX%X%VX!P%VX!S%VX!T%VX%Y%VX!X%VX!]%VX!O%VX#W%VXq%VX!k%VX~P$bOdsOfXOudO!WYO![ZO!gdO!ndO!odO!pdO$|QO$}QO%RRO%SVO%g[O%h]O%k^O%n_O%t`O%waO%ybO~Ox%UXy%UX#_%UX$j%UX$m%UX%X%UX~Oh!pOi!qOj!oOk!oOl!rOm!sOp!tO!t%UX~P(fOT!zOl,qOs-OO}vO~P'UOT!}Ol,qOs-OO!X#OO~P'UOT#RO_#SOl,qOs-OO!]#TO~P'UO%i#WO%j#YO~O%l#ZO%m#YO~O![#]O%o#^O%s#`O~O![#]O%u#aO%v#`O~O![#]O%j#`O%x#cO~O![#]O%m#`O%z#eO~OT$vX]$vX_$vXf$vXh$vXi$vXj$vXk$vXl$vXm$vXp$vXx$vX!W$vX!e$vX$w$vX$x$vX$y$vX$z$vX${$vX$|$vX$}$vX%O$vX%P$vX%Q$vX!P$vX!S$vX!T$vX~O%g[O%h]O%k^O%n_O%t`O%waO%ybOy$vX!t$vX#_$vX$j$vX$m$vX%X$vX%Y$vX!X$vX!]$vX!O$vX#W$vXq$vX!k$vX~P+{Ox#jOy$uX!t$uX#_$uX$j$uX$m$uX%X$uX~Ol,qOs-OO~P'UO#_#mO$j#oO$m#oO~O%SVO~O!S#tO#m!YO#r!ZO#ulO~OltO~P'UOT#yO_#zOu#xO%SVOytP~OT$OOl,qOs-OO!O$PO~P'UOy$RO!t$WO%X$SO#_!uX$j!uX$m!uX~OT$OOl,qOs-OO~P'UOl,qOs-OO#_#SX$j#SX$m#SX~P'UO!e$^O!n$^O%SVO~OT$hO~P'UO!T$jO#k$kO#m$lO~Oy$mO~OT$|O_$|Ol,qOs-OO!P%OO~P'UOl,qOs-OOy%RO~P'UO%f%TO~O_!bOf!jO!W!lO!e!mOT`a]`ah`ai`aj`ak`al`am`ap`ax`ay`a!t`a#_`a$j`a$m`a$w`a$x`a$y`a$z`a${`a$|`a$}`a%O`a%P`a%Q`a%X`a!P`a!S`a!T`a%Y`a!X`a!]`a!O`a#W`aq`a!k`a~Ok%YO~Ol%YO~P'UOl,qO~P'UOh,sOi,tOj,rOk,rOl,zOm,{Op-PO!P%UX!S%UX!T%UX%Y%UX!X%UX!]%UX!O%UX#W%UX!k%UX~P(fO%Y%[Ox%TX!P%TX!S%TX!T%TX!X%TXy%TX~Ox%_O!P%^O!S%cO!T%bO~O!P%^O~Ox%fO!S%cO!T%bO!X%aX~O!X%jO~Ox%kOy%mO!S%cO!T%bO!]%[X~O!]%qO~O!]%rO~O%i#WO%j%tO~O%l#ZO%m%tO~OT%wOl,qOs-OO}vO~P'UO![#]O%o#^O%s%zO~O![#]O%u#aO%v%zO~O![#]O%j%zO%x#cO~O![#]O%m%zO%z#eO~OT!ma]!ma_!maf!mah!mai!maj!mak!mal!mam!map!max!may!ma!W!ma!e!ma!t!ma#_!ma$j!ma$m!ma$w!ma$x!ma$y!ma$z!ma${!ma$|!ma$}!ma%O!ma%P!ma%Q!ma%X!ma!P!ma!S!ma!T!ma%Y!ma!X!ma!]!ma!O!ma#W!maq!ma!k!ma~P#yOx#jOy$ua!t$ua#_$ua$j$ua$m$ua%X$ua~P$bOT&QOltOsuOx$YXy$YX!t$YX#_$YX$j$YX$m$YX%X$YX~P'UOx#jOy$ua!t$ua#_$ua$j$ua$m$ua%X$ua~OPhOTeOltOsuO}vO!O!PO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO#_$aX$j$aX$m$aX~P'UO#_#mO$j&VO$m&VO~O!e&WOf%|X$j%|X#W%|X#_%|X$m%|X#V%|X~Of!jO$j&YO~Ohcaicajcakcalcamcapcaxcayca!tca#_ca$jca$mca%Xca!Pca!Sca!Tca%Yca!Xca!]ca!Oca#Wcaqca!kca~P$bOpnaxnayna#_na$jna$mna%Xna~Oh!pOi!qOj!oOk!oOl!rOm!sO!tna~PDWO%X&[Ox%WXy%WX~O%SVOx%WXy%WX~Ox&_OytX~Oy&aO~Ox%kO#_%[X$j%[X$m%[X!P%[Xy%[X!]%[X!k%[X%X%[X~OT,yOl,qOs-OO}vO~P'UO%X$SO#_Sa$jSa$mSa~O%X$SO~Ox&jO#_%^X$j%^X$m%^Xk%^X~P$bOx&mO!O&lO#_#Sa$j#Sa$m#Sa~O#W&nO#_#Ua$j#Ua$m#Ua~O!e$^O!n$^O#V&pO%SVO~O#V&pO~Ox&rO#_&OX$j&OX$m&OX~Ox&tO#_%{X$j%{X$m%{Xy%{X~Ox&xOk&QX~P$bOk&{O~OPhOTeOltOsuO}vO!O!PO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO$j'QO~P'UOq'UO#h'SO#i'TOP#faT#fad#faf#fal#fap#fas#fau#fa}#fa!O#fa!S#fa!T#fa!W#fa![#fa!g#fa!n#fa!o#fa!p#fa!w#fa!y#fa!{#fa!}#fa#P#fa#T#fa#V#fa#Y#fa#Z#fa#]#fa#d#fa#g#fa#k#fa#m#fa#r#fa#u#fa$i#fa$j#fa$|#fa$}#fa%R#fa%S#fa%g#fa%h#fa%k#fa%n#fa%t#fa%w#fa%y#fa$m#fa$n#fa$o#fa~Ox'VO#W'XOy&RX~Of'ZO~Of!jOy$mO~OT!aO]!aO_!bOf!jO!W!lO!e!mO$y!^O$z!_O${!_O$|!`O$}!`O%O!aO%P!aO%Q!aOhUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~O$x!]O~P! SO$xUi~P! SOT!aO]!aO_!bOf!jO!W!lO!e!mO$|!`O$}!`O%O!aO%P!aO%Q!aOhUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi$xUi$yUi%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~O$z!_O${!_O~P!#}O$zUi${Ui~P!#}O_!bOf!jO!W!lO!e!mOhUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi$xUi$yUi$zUi${Ui$|Ui$}Ui%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~OT!aO]!aO%O!aO%P!aO%Q!aO~P!&{OTUi]Ui%OUi%PUi%QUi~P!&{Of!jO!W!lO!e!mOTUi]Ui_UihUiiUijUikUilUimUipUixUiyUi!tUi#_Ui$jUi$mUi$wUi$xUi$yUi$zUi${Ui$|Ui$}Ui%OUi%PUi%QUi%XUi!PUi!SUi!TUi%YUi!XUi!]Ui!OUi#WUiqUi!kUi~O!S%cO!T%bOx%dX!P%dX~O%X'`O%Y'`O~P+{Ox'bO!P%cX~O!P'dO~Ox'eOy'gO!X%eX~Ol,qOs-OOx'eOy'hO!X%eX~P'UO!X'jO~Oj!oOk!oOl!rOm!sOhgipgixgiygi!tgi#_gi$jgi$mgi%Xgi~Oi!qO~P!.^Oigi~P!.^Oh,sOi,tOj,rOk,rOl,zOm,{O~Oq'lO~P!/gOT'qOl,qOs-OO!P'rO~P'UOx'sO!P'rO~O!P'uO~O!T'wO~Ox'sO!P'xO!S%cO!T%bO~P$bOh,sOi,tOj,rOk,rOl,zOm,{O!Pna!Sna!Tna%Yna!Xna!]na!Ona#Wnaqna!kna~PDWOT'|Ol,qOs-OOx#{X!X#{X~P'UOx%fO!X%aa~O!X(OO~Ox%fO!S%cO!T%bO!X%aa~P$bOT(SOl,qOs-OOx#xX!]#xX#_#xX$j#xX$m#xX!P#xXy#xX!k#xX%X#xX~P'UOx%kO!]%[a#_%[a$j%[a$m%[a!P%[ay%[a!k%[a%X%[a~O!](VO~Ox%kO!S%cO!T%bO!]%[a~P$bOx(YO!S%cO!T%bO!]%ba~P$bOx(]Oy%pX!]%pX!k%pX~Oy(`O!](bO!k(cO~Ox#jOy$ui!t$ui#_$ui$j$ui$m$ui%X$ui~O!e&WOf%|a$j%|a#W%|a#_%|a$m%|a#V%|a~O$j(gO~OT#yO_#zOu#xO%SVO~Ox&_Oyta~OltOsuO~P'UOx%kO#_%[a$j%[a$m%[a!P%[ay%[a!]%[a!k%[a%X%[a~P$bOx(lO#_$uX$j$uX$m$uX%X$uX~O%X$SO#_Si$jSi$mSi~Ox#zX#_#zX$j#zX$m#zXk#zX~P'UOx&jO#_%^a$j%^a$m%^ak%^a~OT(rOf(tO%SVO~O#V(uO~O%SVOx$`X#_$`X$j$`X$m$`X~Ox&rO#_&Oa$j&Oa$m&Oa~Ol,qOs-OOx$[X#_$[X$j$[X$m$[Xy$[X~P'UOx&tO#_%{a$j%{a$m%{ay%{a~Oq(|O#b({OP#`iT#`id#`if#`il#`ip#`is#`iu#`i}#`i!O#`i!S#`i!T#`i!W#`i![#`i!g#`i!n#`i!o#`i!p#`i!w#`i!y#`i!{#`i!}#`i#P#`i#T#`i#V#`i#Y#`i#Z#`i#]#`i#d#`i#g#`i#k#`i#m#`i#r#`i#u#`i$i#`i$j#`i$|#`i$}#`i%R#`i%S#`i%g#`i%h#`i%k#`i%n#`i%t#`i%w#`i%y#`i$m#`i$n#`i$o#`i~Oq(}OP#ciT#cid#cif#cil#cip#cis#ciu#ci}#ci!O#ci!S#ci!T#ci!W#ci![#ci!g#ci!n#ci!o#ci!p#ci!w#ci!y#ci!{#ci!}#ci#P#ci#T#ci#V#ci#Y#ci#Z#ci#]#ci#d#ci#g#ci#k#ci#m#ci#r#ci#u#ci$i#ci$j#ci$|#ci$}#ci%R#ci%S#ci%g#ci%h#ci%k#ci%n#ci%t#ci%w#ci%y#ci$m#ci$n#ci$o#ci~OT)POk$dXx$dX~P'UOx&xOk&Qa~Ox&xOk&Qa~P$bOk)TO~OPhOTeOltOp!SOsuO}vO!O!PO!S!VO!T!UO!wxO!yyO!{zO!}{O#P|O#T}O#V!OO#Y!QO#Z!QO#]!RO#d!TO#g!WO#k!XO#m!YO#r!ZO#ulO~P'UOq)ZO#h'SO#i)YOP#fiT#fid#fif#fil#fip#fis#fiu#fi}#fi!O#fi!S#fi!T#fi!W#fi![#fi!g#fi!n#fi!o#fi!p#fi!w#fi!y#fi!{#fi!}#fi#P#fi#T#fi#V#fi#Y#fi#Z#fi#]#fi#d#fi#g#fi#k#fi#m#fi#r#fi#u#fi$i#fi$j#fi$|#fi$}#fi%R#fi%S#fi%g#fi%h#fi%k#fi%n#fi%t#fi%w#fi%y#fi$m#fi$n#fi$o#fi~Ol,qOs-OOy$mO~P'UOl,qOs-OOx$fXy$fX~P'UOx'VOy&Ra~OT)dO_)eOu)cO%O)fO%SVO~O!P)hO~P!IoOy$mO&U)jO~OT$|O_$|Ol,qOs-OOx#}X!P#}X~P'UOx'bO!P%ca~Ol,qOs-OOy)rOx$OX!X$OX~P'UOx'eO!X%ea~Ol,qOs-OOx'eOy)uO!X%ea~P'UOl,qOs-OOx'eO!X%ea~P'UOx'eOy)uO!X%ea~Oj,rOk,rOl,zOm,{Ohgipgixgi!Pgi!Sgi!Tgi%Ygi!Xgiygi!]gi#_gi$jgi$mgi!Ogi#Wgiqgi!kgi%Xgi~Oi,tO~P!LlOigi~P!LlOT'qOl,qOs-OO!P)zO~P'UOk)|O~Ox*OO!P)zO~O!P*PO~Ox%fO!X%ai~O!X*RO~Ox(YO!S%cO!T%bO!]%bi~Ox%kO!]%[i#_%[i$j%[i$m%[i!P%[iy%[i!k%[i%X%[i~O!]*VO~O_*XOl,qOs-OOx#|X!]#|X~P'UOx(YO!]%bi~O!]*ZO~OT*]Ol,qOs-OOx$SXy$SX!]$SX!k$SX~P'UOx(]Oy%pa!]%pa!k%pa~O![#]O%r*`O!]!lX~O!]*bO~Oy(`O!]*cO~Ox$Yiy$Yi!t$Yi#_$Yi$j$Yi$m$Yi%X$Yi~P$bOT&QOl,qOs-OOx$YX#_$YX$j$YX$m$YX%X$YX~P'UOx(lO#_$ua$j$ua$m$ua%X$ua~Ox#za#_#za$j#za$m#zak#za~P$bOx*eO#_#Sq$j#Sq$m#Sq~Ox*fO#W*hO#_%}X$j%}X$m%}X!P%}X~OT*jOf*kO%SVO~Oq*mO#b({OP#`qT#`qd#`qf#`ql#`qp#`qs#`qu#`q}#`q!O#`q!S#`q!T#`q!W#`q![#`q!g#`q!n#`q!o#`q!p#`q!w#`q!y#`q!{#`q!}#`q#P#`q#T#`q#V#`q#Y#`q#Z#`q#]#`q#d#`q#g#`q#k#`q#m#`q#r#`q#u#`q$i#`q$j#`q$|#`q$}#`q%R#`q%S#`q%g#`q%h#`q%k#`q%n#`q%t#`q%w#`q%y#`q$m#`q$n#`q$o#`q~Ok$dax$da~P$bOx&xOk&Qi~O$m*yO$n*wO$o*yO~Ox*}Oy$mO#W*}O~O#i+OOP#fqT#fqd#fqf#fql#fqp#fqs#fqu#fq}#fq!O#fq!S#fq!T#fq!W#fq![#fq!g#fq!n#fq!o#fq!p#fq!w#fq!y#fq!{#fq!}#fq#P#fq#T#fq#V#fq#Y#fq#Z#fq#]#fq#d#fq#g#fq#k#fq#m#fq#r#fq#u#fq$i#fq$j#fq$|#fq$}#fq%R#fq%S#fq%g#fq%h#fq%k#fq%n#fq%t#fq%w#fq%y#fq$m#fq$n#fq$o#fq~O#W+POx$fay$fa~Ox'VOy&Ri~Oy$RO%X+ROx&TX!P&TX~O%SVOx&TX!P&TX~Ox+VO!P&SX~O!P+XO~Oy+ZOx$Oa!X$Oa~Ol,qOs-OOy+[Ox$Oa!X$Oa~P'UOx'eO!X%ei~Ol,qOs-OOx'eO!X%ei~P'UOx'eOy+`O!X%ei~Ox#yi!P#yi~P$bOT'qOl,qOs-OO~P'UOk+bO~OT'qOl,qOs-OO!P+cO~P'UOx#{i!X#{i~P$bOx#xi!]#xi#_#xi$j#xi$m#xi!P#xiy#xi!k#xi%X#xi~P$bOx(YO!]%bq~O!]+dO~Oy+eO~Ox(]Oy%pi!]%pi!k%pi~O![#]O%r*`O!]!la~Ox(lO#_$ui$j$ui$m$ui%X$ui~O%SVOx$_X#_$_X$j$_X$m$_X!P$_X~Ox*fO#_%}a$j%}a$m%}a!P%}a~O!P+mO~Ok$dix$di~P$bOq+qOP#eyT#eyd#eyf#eyl#eyp#eys#eyu#ey}#ey!O#ey!S#ey!T#ey!W#ey![#ey!g#ey!n#ey!o#ey!p#ey!w#ey!y#ey!{#ey!}#ey#P#ey#T#ey#V#ey#Y#ey#Z#ey#]#ey#d#ey#g#ey#k#ey#m#ey#r#ey#u#ey$i#ey$j#ey$|#ey$}#ey%R#ey%S#ey%g#ey%h#ey%k#ey%n#ey%t#ey%w#ey%y#ey$m#ey$n#ey$o#ey~O$m+vO$n*wO$o+vO~O#i+wOP#fyT#fyd#fyf#fyl#fyp#fys#fyu#fy}#fy!O#fy!S#fy!T#fy!W#fy![#fy!g#fy!n#fy!o#fy!p#fy!w#fy!y#fy!{#fy!}#fy#P#fy#T#fy#V#fy#Y#fy#Z#fy#]#fy#d#fy#g#fy#k#fy#m#fy#r#fy#u#fy$i#fy$j#fy$|#fy$}#fy%R#fy%S#fy%g#fy%h#fy%k#fy%n#fy%t#fy%w#fy%y#fy$m#fy$n#fy$o#fy~Ox'VOy&Rq~O%X+ROx&Ta!P&Ta~Ox$gX!P$gX~P!IoOx+VO!P&Sa~Ol,qOs-OOy,POx$Oi!X$Oi~P'UOl,qOs-OOx$Oi!X$Oi~P'UOy,POx$Oi!X$Oi~Ox'eO!X%eq~Ol,qOs-OOx'eO!X%eq~P'UOp,UO!S%cO!T%bO!P%]q!X%]q!]%]qx%]q~P!/gOx#|i!]#|i~P$bO#W,YOx$_a#_$_a$j$_a$m$_a!P$_a~Ox*fO#_%}i$j%}i$m%}i!P%}i~O!P,[O~Oq,^OP#e!RT#e!Rd#e!Rf#e!Rl#e!Rp#e!Rs#e!Ru#e!R}#e!R!O#e!R!S#e!R!T#e!R!W#e!R![#e!R!g#e!R!n#e!R!o#e!R!p#e!R!w#e!R!y#e!R!{#e!R!}#e!R#P#e!R#T#e!R#V#e!R#Y#e!R#Z#e!R#]#e!R#d#e!R#g#e!R#k#e!R#m#e!R#r#e!R#u#e!R$i#e!R$j#e!R$|#e!R$}#e!R%R#e!R%S#e!R%g#e!R%h#e!R%k#e!R%n#e!R%t#e!R%w#e!R%y#e!R$m#e!R$n#e!R$o#e!R~Ol,qOs-OOx$Oq!X$Oq~P'UOy,cOx$Oq!X$Oq~Ox'eO!X%ey~Ol,qOs,gO~P'UOp,UO!S%cO!T%bO!P%]y!X%]y!]%]yx%]y~P!/gOx*fO#_%}q$j%}q$m%}q!P%}q~Ol,qOs-OOx$Oy!X$Oy~P'UOx'eO!X%e!R~Op%`X!P%`X!S%`X!T%`X!X%`X!]%`Xx%`X~P!/gOp,UO!S%cO!T%bO!P%_a!X%_a!]%_ax%_a~Oy,oO~Ox(lO#_$ua$j$ua$m$ua%X$ua~P$bOk,vO~Ol,vO~P'UOy,wO~Oq,xO~P!/gO%h%k%w%y%g%n%t%S%g~",goto:"!&h&UPPPP&VP&_(|)d){*e+O+jP,VP&_,t,t&_P&_P/cPPPPPP/c1bPP1bP2}P3W7`PP7c7o7rPPP&_&_PP8O&_PP&_&_PP&_&_&_&_8S8x&_P8{P9O9O;qP<V&_PPP<Z<a&VP&V&VP&VP&VP&VP&VP&V&V&VP&VPP&VPP&VP<gP<n<tP<nP<n<nPPP<nP>mP>v>|?S>mP<n?YP?a?g?m?y@T@Z@e@o@uAcAiAoAuBPBVB]BcBiBoCRC]CcCiCoCyDPDVD]DcDmDsD}ETPPPPPPPPPE^EhEqE{FWPPPPPPPPPPPPI}JgNU!!qPP!!y!#X!#b!$W!#}!$a!$g!$j!$m!$p!$vPPPPPPPPPP!$y!$|PPPPPPPPP!%S!%`!%l!%x!%{!&R!&X!&_!&b]iOr#m$m'Q*w&XdOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!j!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'b'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-Py!cP#i#v$X$g%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u{!dP#i#v$X$g$s%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u}!eP#i#v$X$g$s$t%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!P!fP#i#v$X$g$s$t$u%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!R!gP#i#v$X$g$s$t$u$v%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!T!hP#i#v$X$g$s$t$u$v$w%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u!X!iP!n#i#v$X$g$s$t$u$v$w$x%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,u&XSOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!j!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'b'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-P$yUOXYZhrtv|}!R!S!T!X!j!l!o!p!q!s!t#]#j#m$P$R$T$W$k$m$|%R%Y%]%_%f%k%m%w&]&a&l&m&t&{'Q'S'V'a'b'e'g'h'l's(Y(](l({)T)j)r)u){)|*O*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,{-P$TWOXYZhrv|}!R!S!T!X!j!l#]#j#m$P$R$T$W$k$m$|%R%]%_%f%k%m%w&]&a&l&m&t&{'Q'S'V'a'b'e'g'h'l's(Y(](l({)T)j)r)u){*O*]*e*w+S+Z+[+`+e+|,P,c,w,xQ#|uQ,m,gR,|-O&SdOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-PW#pl!O!P$_W#xu&_,g-OQ$a!QQ$q!YQ$r!ZS${!j'bS&^#y#zQ'O$lQ(e&WQ(r&nW(s&p(t(u*kQ(v&rQ)b'XS)c'Z+VS+U)d)eQ+j*fQ+l*hQ+x*}Q+z+PR,j,YR&]#xe!wXY!S!T%_%f's({){*OR%]!vQ!{XQ%x#]Q&f$TR&i$WT,f,U,o!Y!kP!n#i#v$X$g$s$t$u$v$w$x$y%d%i%o%p&b&z(d(n)O)y*Q*S*r+f,uQ&Z#qR'^$rR'a${R%U!m&WcOSXYZehrstvx|}!R!S!T!U!X!c!d!e!f!g!h!i!j!l!o!p!q!s!t!z!}#R#S#]#j#m$O$P$R$T$W$h$j$k$m$|%R%Y%]%_%b%f%k%m%w&Q&]&a&j&l&m&t&x&{'Q'S'V'a'b'e'g'h'l'q's'w'|(S(Y(](l({)P)T)j)r)u){)|*O*X*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,y,{-PT#gc#hS#^_#_S#a`#bS#ca#dS#eb#fT*`(`*aT(a%x(cQ$VwR+T)cX$Tw$U$V&hZkOr$m'Q*wXoOr'Q*wQ$n!WQ&v$eQ&w$fQ'Y$pQ']$rQ)U&}Q)['SQ)^'TQ)_'UQ)k'[Q)m'^Q*n({Q*p(|Q*q(}Q*s)SS*u)V)lQ*z)YQ*{)ZQ*|)]Q+o*mQ+p*oQ+r*tQ+s*vQ+y+OQ,]+qQ,_+wQ,`+xR,k,^WoOr'Q*wR#snQ'[$qR)V'OQ+S)cR+|+TQ)l'[R*v)VZmOnr'Q*wQrOR#urQ&`#{R(j&`S%l#Q#}S(T%l(WT(W%o&bQ%`!yS't%`'yR'y%dQ&k$XR(o&kQ%g!|S'}%g(PR(P%iQ(Z%pQ*T(UT*Y(Z*TQ'c$}R)p'cS'f%Q%RY)s'f)t+^,S,dU)t'g'h'iU+^)u)v)wS,S+_+`R,d,TQ#X]R%s#XQ#[^R%u#[Q#__R%y#_Q(^%vS*^(^*_R*_(_Q*a(`R+h*aQ#b`R%{#bQ#daR%|#dQ#fbR%}#fQ#hcR&O#hQ#kfQ&P#iW&S#k&P(m*dQ(m&eR*d,uQ$UwS&g$U&hR&h$VQ&u$cR(y&uQ&X#pR(f&XQ$_!PR&o$_Q*g(sS+k*g,ZR,Z+lQ&s$aR(w&sQ#njR&U#nQ*x)WR+u*xQ(z&vR*l(zQ&y$gS)Q&y)RR)R&zQ'R$nR)X'RQ'W$oS)a'W+QR+Q)bQ+W)gR,O+WWnOr'Q*wR#rnSqOrQ)W'QR+t*wWpOr'Q*wR'P$mYjOr$m'Q*wR&T#m[wOr#m$m'Q*wR&f$T$xPOXYZhrtv|}!R!S!T!X!j!l!o!p!q!s!t#]#j#m$P$R$T$W$k$m$|%R%Y%]%_%f%k%m%w&]&a&l&m&t&{'Q'S'V'a'b'e'g'h'l's(Y(](l({)T)j)r)u){)|*O*]*e*w+S+Z+[+`+b+e+|,P,U,c,o,q,r,s,t,v,w,x,{-PQ!nSQ#ieQ#vsU$Xx%b'wS$g!U$jQ$s!cQ$t!dQ$u!eQ$v!fQ$w!gQ$x!hQ$y!iQ%d!zQ%i!}Q%o#RQ%p#SQ&b$OQ&z$hQ(d&QQ(n&jQ)O&xQ)y'qQ*Q'|Q*S(SQ*r)PQ+f*XR,u,yQ!yXQ!|YQ$e!SQ$f!TW'p%_'s){*OQ'{%fR*o({[fOr#m$m'Q*wd!vXY!S!T%_%f's({){*OQ#QZQ#lhS#}v|Q$[}W$c!R$W&{)TS$o!X$kS$z!j'bQ%Q!lQ%v#]S&R#j(lQ&c$PQ&d$RQ&e$TQ'_$|Q'i%RQ'o%]Q(R%kQ(U%mQ(_%wQ(h&]S(k&a,wQ(p&lQ(q&mQ(x&tQ)]'SQ)`'VQ)n'aQ)q'eQ)v'gQ)w'hS)x'l,xQ*W(YQ*[(]Q+Y)jQ+])rQ+_)uQ+g*]Q+i*eQ+{+SQ,Q+ZQ,R+[Q,T+`Q,X+eQ,a+|Q,b,PR,l,cbTOr#j#m$m&a'Q'l*w#p!uXYZhv|}!R!S!T!X!j!l#]$P$R$T$W$k$|%R%]%_%f%k%m%w&]&l&m&t&{'S'V'a'b'e'g'h's(Y(](l({)T)j)r)u){*O*]*e+S+Z+[+`+e+|,P,c,w,xQ#wtW%V!o!s,r,{Q%W!pQ%X!qQ%Z!tQ%e,qS'k%Y,vQ'm,sQ'n,tQ+a)|Q,W+bS,e,U,oR,}-PU#{u,g-OR(i&_[gOr#m$m'Q*wX!xX#]$T$WQ#VZQ$QvR$Z|Q%a!yQ%h!|Q%n#QQ'_$zQ'z%dQ(Q%iQ(X%oQ([%pQ*U(UQ,V+aQ,i,WR,n,hQ$YxQ'v%bR)}'wQ,h,UR,p,oR#PYR#UZR%P!jQ$}!jR)o'bR%S!lR%x#]Q(b%xR*c(cQ$d!RQ&i$WQ)S&{R*t)TQ#qlQ$]!OQ$`!PR&q$_Q(r&pQ*i(tQ*j(uR+n*kR$b!QXpOr'Q*wQ$i!UR&|$jQ$p!XR&}$kR)i'ZQ)g'ZR+}+V",nodeNames:" print Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ParenthesizedExpression ( BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList self VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from ) TupleExpression ComprehensionExpression async for LambdaExpression ArrayExpression [ ] ArrayComprehensionExpression DictionaryExpression { } DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At",maxTerm:236,nodeProps:[[K.group,-14,4,81,83,84,86,88,90,92,94,95,96,98,101,104,"Statement Statement",-23,6,16,19,21,37,38,48,49,53,56,57,60,61,62,63,66,69,70,71,75,76,77,78,"Expression",-9,106,108,111,113,114,118,120,125,127,"Statement"]],skippedNodes:[0,2],repeatNodeCount:33,tokenData:"!E}MgR!^OX$}XY%wY[$}[]%w]p$}pq%wqr(crs*Ust2Otu$}uv4Qvw5Uwx5xxyAWyzAtz{Bb{|Cr|}Df}!OES!O!PFZ!P!QKa!Q!RLq!R![!(P![!]!)i!]!^!*m!^!_!+Z!_!`!,k!`!a!-_!a!b$}!b!c!.l!c!d!/b!d!e!1f!e!h!/b!h!i!8O!i!t!/b!t!u!=b!u!w!/b!w!x!?`!x!}!/b!}#O!@t#O#P!Ab#P#Q!Bc#Q#R!CP#R#S!/b#S#T$}#T#U!/b#U#V!1f#V#Y!/b#Y#Z!8O#Z#f!/b#f#g!=b#g#i!/b#i#j!?`#j#o!/b#o#p!Cs#p#q!D[#q#r!EO#r#s!Ea#s$g$}$g~!/b<r%`R%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%i7[%nR%r7[O#o%i#p#q%i#r~%iMg&[Z%o`%up%r7[%x!b%z#t%iS%lW$q1sOX%iXY&}Y[%i[]&}]p%ipq&}q#O%i#O#P'w#P#o%i#p#q%i#r~%iHP'UZ%r7[$q1sOX%iXY&}Y[%i[]&}]p%ipq&}q#O%i#O#P'w#P#o%i#p#q%i#r~%iHP'|V%r7[OY%iYZ&}Z]%i]^&}^#o%i#p#q%i#r~%i<u(tY%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`)d!`#T%i#T#U)t#U#f%i#f#g)t#g#h)t#h#o%i#p#q%i#r~%i7_)kRjR%r7[O#o%i#p#q%i#r~%i7_){R!kR%r7[O#o%i#p#q%i#r~%iG{*e]%vp%o`%r7[%x!b%iS%g,XOY+^YZ.{Z]+^]^.{^r+^rs/]s#O+^#O#P0|#P#o+^#o#p1b#p#q+^#q#r1b#r~+^Bm+g]%r7[%lW%g,XOY,`YZ%iZ],`]^%i^r,`rs-`s#O,`#O#P-p#P#o,`#o#p.U#p#q,`#q#r.U#r~,`Be,g]%r7[%g,XOY,`YZ%iZ],`]^%i^r,`rs-`s#O,`#O#P-p#P#o,`#o#p.U#p#q,`#q#r.U#r~,`Be-gR%r7[%g,XO#o%i#p#q%i#r~%iBe-uT%r7[O#o,`#o#p.U#p#q,`#q#r.U#r~,`,X.ZV%g,XOY.UZ].U^r.Urs.ps#O.U#O#P.u#P~.U,X.uO%g,X,X.xPO~.U7d/SR%r7[%lWO#o%i#p#q%i#r~%iEc/dX%r7[%g,XOr.{rs0Ps#O.{#O#P0c#P#o.{#o#p0w#p#q.{#q#r0w#r~.{Ec0YR%m#|%r7[%k,XO#o%i#p#q%i#r~%i7d0hT%r7[O#o.{#o#p0w#p#q.{#q#r0w#r~.{W0|O%lWBm1RT%r7[O#o+^#o#p1b#p#q+^#q#r1b#r~+^,a1iV%lW%g,XOY.UZ].U^r.Urs.ps#O.U#O#P.u#P~.UMg2cXQ1s%o`%up%r7[%x!b%z#t%iS%lWOY3OYZ%iZ]3O]^%i^#o3O#o#p3r#p#q3O#q#r3r#r~3OHP3VXQ1s%r7[OY3OYZ%iZ]3O]^%i^#o3O#o#p3r#p#q3O#q#r3r#r~3O1s3wRQ1sOY3rZ]3r^~3rGz4eT%PQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iBd4{R!t,W%r7[O#o%i#p#q%i#r~%iGz5iT$yQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iG{6X_%s`%up%r7[%z#t%lW%g,XOY7WYZ:dZ]7W]^:d^r7Wrs:xsw7Wwx;|x#O7W#O#P>n#P#o7W#o#p?t#p#q7W#q#r?S#r~7WFq7e]%r7[%x!b%z#t%iS%g,XOY8^YZ%iZ]8^]^%i^w8^wx-`x#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Be8e]%r7[%g,XOY8^YZ%iZ]8^]^%i^w8^wx-`x#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Be9cT%r7[O#o8^#o#p9r#p#q8^#q#r9r#r~8^,X9wV%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P~9r,X:aPO~9r;h:oR%r7[%x!b%z#t%iSO#o%i#p#q%i#r~%iC{;T]%r7[%x!b%iS%g,XOY8^YZ%iZ]8^]^%i^w8^wx-`x#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Fq<VZ%r7[%z#t%g,XOr:drs<xsw:dwx=[x#O:d#O#P=p#P#o:d#o#p>_#p#q:d#q#r>U#r~:d8r=RR%r7[%x!b%iSO#o%i#p#q%i#r~%iFq=gR%j!f%r7[%z#t%h,XO#o%i#p#q%i#r~%i;h=uT%r7[O#o:d#o#p>U#p#q:d#q#r>U#r~:d%[>_O%x!b%z#t%iS%[>dP%iS#o#p>g%W>nO%x!b%z#tFq>sT%r7[O#o7W#o#p?S#p#q7W#q#r?S#r~7W0e?_V%x!b%z#t%iS%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P~9r0e?{X%iS%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P#o9r#o#p@h#p~9r0a@qV%x!b%z#t%g,XOY9rZ]9r^w9rwx.px#O9r#O#P:^#P~9rG{AkRf,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%i<uBXR!PR%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iG{BuVT,X%o`%up%r7[%x!b%z#t%iS%lWOz%iz{C[{!_%i!_!`4t!`#o%i#p#q%i#r~%iBeCcT_R%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iG{DVT$|,X%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iG{DyRx,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iMgEgU$},X%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`!aEy!a#o%i#p#q%i#r~%i<vFQR&U&j%r7[O#o%i#p#q%i#r~%iG{FnV!eQ%o`%up%r7[%x!b%z#t%iS%lWO!O%i!O!PGT!P!Q%i!Q![Gy![#o%i#p#q%i#r~%iBeGYT%r7[O!O%i!O!PGi!P#o%i#p#q%i#r~%iBeGpR!n,X%r7[O#o%i#p#q%i#r~%iBcHQ_!g,V%r7[O!Q%i!Q![Gy![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#SGy#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iBcIUX%r7[O{%i{|Iq|}%i}!OIq!O!Q%i!Q![JV![#o%i#p#q%i#r~%iBcIvT%r7[O!Q%i!Q![JV![#o%i#p#q%i#r~%iBcJ^Z!g,V%r7[O!Q%i!Q![JV![!l%i!l!mKP!m#R%i#R#SJV#S#^%i#^#_KP#_#o%i#p#q%i#r~%iBcKWR!g,V%r7[O#o%i#p#q%i#r~%iG{KtV%OR%o`%up%r7[%x!b%z#t%iS%lWO!P%i!P!QLZ!Q!_%i!_!`4t!`#o%i#p#q%i#r~%iBdLbT%QQ%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iGyMUm!g,V%o`%up%r7[%x!b%z#t%iS%lWO!O%i!O!P! P!P!Q%i!Q![!!k![!d%i!d!e!#w!e!g%i!g!hIP!h!l%i!l!mKP!m!q%i!q!r!%V!r!z%i!z!{!&_!{#R%i#R#S!!k#S#U%i#U#V!#w#V#X%i#X#YIP#Y#^%i#^#_KP#_#c%i#c#d!%V#d#l%i#l#m!&_#m#o%i#p#q%i#r~%iBc! UT%r7[O!Q%i!Q![! e![#o%i#p#q%i#r~%iBc! l_!g,V%r7[O!Q%i!Q![! e![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#S! e#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iBc!!ra!g,V%r7[O!O%i!O!P! P!P!Q%i!Q![!!k![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#S!!k#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iBc!#|W%r7[O!Q%i!Q!R!$f!R!S!$f!S#R%i#R#S!$f#S#o%i#p#q%i#r~%iBc!$mW!g,V%r7[O!Q%i!Q!R!$f!R!S!$f!S#R%i#R#S!$f#S#o%i#p#q%i#r~%iBc!%[V%r7[O!Q%i!Q!Y!%q!Y#R%i#R#S!%q#S#o%i#p#q%i#r~%iBc!%xV!g,V%r7[O!Q%i!Q!Y!%q!Y#R%i#R#S!%q#S#o%i#p#q%i#r~%iBc!&dZ%r7[O!Q%i!Q![!'V![!c%i!c!i!'V!i#R%i#R#S!'V#S#T%i#T#Z!'V#Z#o%i#p#q%i#r~%iBc!'^Z!g,V%r7[O!Q%i!Q![!'V![!c%i!c!i!'V!i#R%i#R#S!'V#S#T%i#T#Z!'V#Z#o%i#p#q%i#r~%iGy!(da!g,V%o`%up%r7[%x!b%z#t%iS%lWO!O%i!O!P! P!P!Q%i!Q![!!k![!g%i!g!hIP!h!l%i!l!mKP!m#R%i#R#S!!k#S#X%i#X#YIP#Y#^%i#^#_KP#_#o%i#p#q%i#r~%iMg!)|Ty1s%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`!*]!`#o%i#p#q%i#r~%i7_!*dR%YR%r7[O#o%i#p#q%i#r~%iG{!+QR#_,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iG{!+nVjR%o`%up%r7[%x!b%z#t%iS%lWO!^%i!^!_!,T!_!`)d!`!a)d!a#o%i#p#q%i#r~%iBd!,[T$zQ%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iG{!-OT%X,X%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`)d!`#o%i#p#q%i#r~%iG{!-rUjR%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`)d!`!a!.U!a#o%i#p#q%i#r~%iBd!.]T${Q%r7[O!_%i!_!`4t!`#o%i#p#q%i#r~%iG{!/RT]Q#uP%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iMg!/wZ%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XO!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jHP!0sZ%r7[%f&j%S,XO!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jMg!1{c%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!t!0j!t!u!6v!u!}!0j!}#R%i#R#S!0j#S#T%i#T#f!0j#f#g!6v#g#o!0j#p#q%i#r$g%i$g~!0jBe!3_]%r7[%g,XOY,`YZ%iZ],`]^%i^r,`rs!4Ws#O,`#O#P-p#P#o,`#o#p.U#p#q,`#q#r.U#r~,`Be!4_T%r7[%g,XOr%irs!4ns#o%i#p#q%i#r~%iBe!4uR%r7[%k,XO#o%i#p#q%i#r~%iBe!5V]%r7[%g,XOY8^YZ%iZ]8^]^%i^w8^wx!6Ox#O8^#O#P9^#P#o8^#o#p9r#p#q8^#q#r9r#r~8^Be!6VT%r7[%g,XOw%iwx!6fx#o%i#p#q%i#r~%iBe!6mR%r7[%h,XO#o%i#p#q%i#r~%iHP!7P_%r7[%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jMg!8ec%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!9psw%iwx!:|x!Q%i!Q![!0j![!c%i!c!t!0j!t!u!<Y!u!}!0j!}#R%i#R#S!0j#S#T%i#T#f!0j#f#g!<Y#g#o!0j#p#q%i#r$g%i$g~!0jBe!9wT%r7[%t,XOr%irs!:Ws#o%i#p#q%i#r~%iBe!:]T%r7[Or%irs!:ls#o%i#p#q%i#r~%iBe!:sR%r7[%y,XO#o%i#p#q%i#r~%iBe!;TT%r7[%n,XOw%iwx!;dx#o%i#p#q%i#r~%iBe!;iT%r7[Ow%iwx!;xx#o%i#p#q%i#r~%iBe!<PR%r7[%w,XO#o%i#p#q%i#r~%iHP!<c_%r7[%f&j%S,XOr%irs!9psw%iwx!:|x!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jMg!=wg%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!h!0j!h!i!<Y!i!t!0j!t!u!6v!u!}!0j!}#R%i#R#S!0j#S#T%i#T#U!0j#U#V!6v#V#Y!0j#Y#Z!<Y#Z#o!0j#p#q%i#r$g%i$g~!0jMg!?u_%o`%up%r7[%x!b%z#t%iS%lW%f&j%S,XOr%irs!3Wsw%iwx!5Ox!Q%i!Q![!0j![!c%i!c!}!0j!}#R%i#R#S!0j#S#T%i#T#o!0j#p#q%i#r$g%i$g~!0jG{!AXR!W,X%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iMg!AgX%r7[OY$}YZ%wZ]$}]^%w^#o$}#o#p!BS#p#q$}#q#r!BS#r~$}&f!BcO%o`%up%x!b%z#t%iS%lW<u!BvR!XR%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%iGz!CdT$xQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%iGy!C|P![Gm%iS%lW#o#p!DP&Y!D[O%o`%up%x!b%z#tGz!DoT$wQ%o`%up%r7[%x!b%z#t%iS%lWO!_%i!_!`4t!`#o%i#p#q%i#r~%i<u!EaO!]7_%o`%up%x!b%z#t%iS%lWGy!EtR%R,V%o`%up%r7[%x!b%z#t%iS%lWO#o%i#p#q%i#r~%i",tokenizers:[kh,0,1,2,3,4,5,6,7,8,9,10,xh,Sh],topRules:{Script:[0,3]},specialized:[{term:188,get:function(t){return Qh[t]||-1}}],tokenPrec:6067});var Lh=new K;function $h(t){return me.indentation.of((function(e,r){return Rh(e,t.getTree(e.state),r)}))}function Rh(t,e,r){var i=e.resolve(r);for(var n=i,o=r;;){var a=n.childBefore(o);if(!a)break;if(a.type.isError&&a.from==a.to){i=n;o=a.from}else{n=a;o=n.to+1}}for(;i;i=i.parent){var s=Th(i);if(s)return s(new Mh(t,r,i))}return-1}function Ah(t){var e,r;return t.pos==((e=t.options)===null||e===void 0?void 0:e.simulateBreak)&&((r=t.options)===null||r===void 0?void 0:r.simulateDoubleBreak)}function Th(t){var e=t.type.prop(Lh);if(e)return e;var r=t.firstChild,i;if(r&&(i=r.type.prop(K.closedBy))){var n=t.lastChild,o=n&&i.indexOf(n.name)>-1;return function(t){return qh(t,true,1,undefined,o&&!Ah(t)?n.from:undefined)}}return t.parent==null?Ch:null}function Ch(){return 0}var Mh=function(t){mf(e,t);function e(e,r,i){var n=t.call(this,e.state,e.options)||this;n.pos=r;n.node=i;return n}Object.defineProperty(e.prototype,"textAfter",{get:function(){return this.textAfterPos(this.pos)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"baseIndent",{get:function(){var t=this.state.doc.lineAt(this.node.from);for(;;){var e=this.node.resolve(t.from);while(e.parent&&e.parent.from==e.from)e=e.parent;if(Uh(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t)},enumerable:false,configurable:true});return e}(te);function Uh(t,e){for(var r=e;r;r=r.parent)if(t==r)return true;return false}function Ih(t){var e;var r=t.node;var i=r.childAfter(r.from),n=r.lastChild;if(!i)return null;var o=(e=t.options)===null||e===void 0?void 0:e.simulateBreak;var a=t.state.doc.lineAt(i.from);var s=o==null||o<=a.from?a.to:Math.min(a.to,o);for(var l=i.to;;){var c=r.childAfter(l);if(!c||c==n)return null;if(!c.type.isSkipped)return c.from<s?i:null;l=c.to}}function qh(t,e,r,i,n){var o=t.textAfter,a=o.match(/^\s*/)[0].length;var s=i&&o.slice(a,a+i.length)==i||n==t.pos+a;var l=e?Ih(t):null;if(l)return s?t.column(l.from):t.column(l.to);return t.baseIndent+(s?0:t.unit*r)}function Xh(t){var e=t===void 0?{}:t,r=e.except,i=e.units,n=i===void 0?1:i;return function(t){var e=r&&r.test(t.textAfter);return t.baseIndent+(e?0:n*t.unit)}}var Eh=new K;function jh(t){return me.foldable.of((function(e,r,i){var n=t.getTree(e).resolve(i);var o=null;for(var a=n;a;a=a.parent){if(a.to<=i||a.from>i)continue;if(o&&a.from<r)break;var s=a.type.prop(Eh);if(s){var l=s(a,e);if(l&&l.from<=i&&l.from>=r&&l.to>i)o=l}}return o}))}var Wh=function(){function t(t,e,r){var i=this;this.parser=t;this.dialect=e;this.languageData=r;var n=ie.define();this.field=qt.define({create:function(t){return Bh.advance(rt.empty,i,t.doc)},update:function(t,e){return t.apply(e,i,n)}});this.extension=[me.syntax.of(this),this.field,fn.define((function(t){return new Fh(t,i,n)})),$h(this),jh(this)]}t.define=function(e,r){var i;if(r===void 0){r={}}var n=At.define({combine:r.languageData?function(t){return t.concat(r.languageData)}:undefined});return new t(e.withProps(Kt.add((i={},i[e.topType.name]=n,i))),r.dialect||"",n)};t.prototype.withDialect=function(e){return new t(this.parser,e,this.languageData)};t.prototype.getTree=function(t){return t.field(this.field).tree};t.prototype.parsePos=function(t){return t.field(this.field).upto};t.prototype.ensureTree=function(t,e,r){if(r===void 0){r=100}var i=t.field(this.field);if(i.upto>=e)return i.updatedTree;if(!i.parse)i.startParse(this,t.doc);if(i.parse.pos<e){var n=_h(i.parse,r,e);if(n)return i.stopParse(n,t.doc.length)}return i.parse.pos<e?null:i.stopParse()};t.prototype.languageDataFacetAt=function(t,e){if(this.parser.hasNested){var r=this.getTree(t);var i=r.resolve(e,-1);while(i){var n=i.type.prop(Kt);if(n)return n;i=i.parent}}return this.languageData};return t}();var Dh=function(){function t(t,e){if(e===void 0){e=t.length}this.doc=t;this.length=e;this.cursorPos=0;this.string="";this.cursor=t.iter()}t.prototype.get=function(t){if(t>=this.length)return-1;var e=this.cursorPos-this.string.length;if(t<e||t>=this.cursorPos){if(t<this.cursorPos){this.cursor=this.doc.iter();this.cursorPos=0}this.string=this.cursor.next(t-this.cursorPos).value;this.cursorPos=t+this.string.length;e=this.cursorPos-this.string.length}return this.string.charCodeAt(t-e)};t.prototype.read=function(t,e){var r=this.cursorPos-this.string.length;if(t<r||e>=this.cursorPos)return this.doc.sliceString(t,e);else return this.string.slice(t-r,e-r)};t.prototype.clip=function(e){return new t(this.doc,e)};return t}();function _h(t,e,r){if(r===void 0){r=5e6}var i=Date.now()+e;for(;;){var n=t.advance();if(n)return n;if(t.pos>r||Date.now()>i)return null}}function Vh(t,e){var r=t.forceFinish();var i=r.applyChanges([{fromA:t.pos,toA:r.length,fromB:t.pos,toB:r.length}]).append(e.applyChanges([{fromA:0,toA:t.pos,fromB:0,toB:t.pos}]));return{parsed:r,cache:i}}var Bh=function(){function t(t,e,r){this.tree=t;this.upto=e;this.cache=r;this.parse=null;this.updatedTree=t}t.advance=function(e,r,i){var n=r.parser.startParse(new Dh(i),{cache:e,dialect:r.dialect});var o=_h(n,25);if(o)return new t(o,i.length,o);var a=Vh(n,e);return new t(a.parsed,n.pos,a.cache)};t.prototype.apply=function(e,r,i){for(var n=0,o=e.effects;n<o.length;n++){var a=o[n];if(a.is(i))return a.value}if(!e.docChanged)return this;var s=[];e.changes.iterChangedRanges((function(t,e,r,i){return s.push({fromA:t,toA:e,fromB:r,toB:i})}));return t.advance((this.parse?Vh(this.parse,this.updatedTree).cache:this.cache).applyChanges(s),r,e.state.doc)};t.prototype.startParse=function(t,e){this.parse=t.parser.startParse(new Dh(e),{cache:this.cache,dialect:t.dialect})};t.prototype.stopParse=function(t,e){var r;if(!t)r=Vh(this.parse,this.updatedTree),t=r.parsed,this.cache=r.cache;else this.cache=t;this.updatedTree=t;this.upto=e!==null&&e!==void 0?e:this.parse.pos;this.parse=null;return t};return t}();var zh=typeof window!="undefined"&&window.requestIdleCallback||function(t,e){var r=e.timeout;return setTimeout(t,r)};var Nh=typeof window!="undefined"&&window.cancelIdleCallback||clearTimeout;var Fh=function(){function t(t,e,r){this.view=t;this.syntax=e;this.setSyntax=r;this.working=-1;this.work=this.work.bind(this);this.scheduleWork()}t.prototype.update=function(t){if(t.docChanged)this.scheduleWork()};t.prototype.scheduleWork=function(){if(this.working>-1)return;var t=this.view.state,e=t.field(this.syntax.field);if(e.upto>=t.doc.length)return;this.working=zh(this.work,{timeout:200})};t.prototype.work=function(t){this.working=-1;var e=this.view.state,r=e.field(this.syntax.field);if(r.upto>=e.doc.length)return;if(!r.parse)r.startParse(this.syntax,e.doc);var i=_h(r.parse,t?Math.max(25,t.timeRemaining()):100);if(i||r.parse.badness>.8){var n=r.stopParse(i,e.doc.length);this.view.dispatch({effects:this.setSyntax.of(new Bh(n,e.doc.length,r.cache))})}else{this.scheduleWork()}};t.prototype.destroy=function(){if(this.working>=0)Nh(this.working)};return t}();var Gh=Wh.define(Ph.withProps(Lh.add({Body:Xh()}),Eh.add({Body:function(t){return{from:t.from+1,to:t.to-1}},ArrayExpression:function(t){return{from:t.from+1,to:t.to-1}},DictionaryExpression:function(t){return{from:t.from+1,to:t.to-1}}}),Eu({"async * ** FormatConversion":"modifier","for while if elif else try except finally return raise break continue with pass assert await yield":"keyword control","in not and or is del":"operatorKeyword","import from def class global nonlocal lambda":"keyword definition","with as print":"keyword",self:"self",Boolean:"bool",None:"null",VariableName:"variableName",PropertyName:"propertyName",Comment:"lineComment",Number:"number",String:"string",FormatString:"string#2",UpdateOp:"updateOperator",ArithOp:"arithmeticOperator",BitOp:"bitwiseOperator",CompareOp:"compareOperator",AssignOp:"operator definition",Ellipsis:"punctuation",At:"punctuation meta","( )":"paren","[ ]":"squareBracket","{ }":"brace",".":"derefOperator",", ;":"separator"})),{languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""']},commentTokens:{line:"#"},indentOnInput:/^\s*[\}\]\)]$/}});function Yh(){return Gh}function Hh(t,e){var r=t.state;var i=r.changeByRange((function(t){var r=t.from,i=t.to;if(r===i){var n=e(r);r=Math.min(r,n);i=Math.max(i,n)}return r===i?{range:t}:{changes:{from:r,to:i},range:Pt.cursor(r)}}));if(i.changes.empty)return false;t.dispatch(t.state.update(i,{scrollIntoView:true,annotations:oe.userEvent.of("delete")}));return true}var Zh=function(t){return Hh(t,(function(e){var r=t.visualLineAt(e).from;if(e>r)return r;return Math.max(0,t.visualLineAt(e-1).to)}))};var Kh="*.sc-stencila-editor-default,.sc-stencila-editor-default:after,.sc-stencila-editor-default:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-editor-default{font-size:16px}.hidden.sc-stencila-editor-default{display:none}.sc-stencila-editor-default-h,stencila-editor.sc-stencila-editor-default{--line-number-background:var(--color-background,var(--color-neutral-200,#edf2f7));all:initial;display:-ms-flexbox;display:flex;max-width:100%;--border-width:1px;--background-color:transparent}.sc-stencila-editor-default-h .editorContainer.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default .editorContainer.sc-stencila-editor-default{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;max-width:100%;border-width:1px;border-radius:.25rem;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);background-color:var(--background-color);border-width:var(--border-width)}.sc-stencila-editor-default-h .editorContainer.sc-stencila-editor-default:focus-within,stencila-editor.sc-stencila-editor-default .editorContainer.sc-stencila-editor-default:focus-within{-webkit-box-shadow:inset 0 0 0 2px var(--color-neutral-400);box-shadow:inset 0 0 0 2px var(--color-neutral-400)}.sc-stencila-editor-default-h .editor.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default .editor.sc-stencila-editor-default{-ms-flex-positive:1;flex-grow:1;max-width:100%;overflow:auto;font-family:monospace;font-family:var(--font-family-mono,monospace);cursor:text}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .codemirror-content *,.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .gutterElement *,stencila-editor.sc-stencila-editor-default-s>.editorContainer .codemirror-content *,stencila-editor.sc-stencila-editor-default-s>.editorContainer .gutterElement *{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.875rem}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .codemirror-focused,stencila-editor.sc-stencila-editor-default-s>.editorContainer .codemirror-focused{outline:2px solid transparent;outline-offset:2px}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .codemirror-scroller,stencila-editor.sc-stencila-editor-default-s>.editorContainer .codemirror-scroller{overflow:auto}.sc-stencila-editor-default-h.sc-stencila-editor-default-s>.editorContainer .cm-gutters,stencila-editor.sc-stencila-editor-default-s>.editorContainer .cm-gutters{background-color:var(--line-number-background)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding:1px 0;margin:0;border-top-width:1px;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default stencila-icon.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default stencila-icon.sc-stencila-editor-default{--height:1em;--width:1em;margin-right:.25rem}.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default{margin-right:.5rem;font-size:.75rem;text-align:left;background-color:transparent;border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#4a5568;color:var(--color-neutral-700,#4a5568);font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default option.sc-stencila-editor-default,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default option.sc-stencila-editor-default{text-align:right;font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default:active,.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default:focus,.sc-stencila-editor-default-h menu.sc-stencila-editor-default select.sc-stencila-editor-default:hover,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default:active,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default:focus,stencila-editor.sc-stencila-editor-default menu.sc-stencila-editor-default select.sc-stencila-editor-default:hover{color:#1a202c;color:var(--color-neutral-900,#1a202c)}";var Jh="*.sc-stencila-editor-material,.sc-stencila-editor-material:after,.sc-stencila-editor-material:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-editor-material{font-size:16px}.hidden.sc-stencila-editor-material{display:none}.sc-stencila-editor-material-h,stencila-editor.sc-stencila-editor-material{--line-number-background:var(--color-background,var(--color-neutral-200,#edf2f7));all:initial;display:-ms-flexbox;display:flex;max-width:100%;--border-width:1px;--background-color:transparent}.sc-stencila-editor-material-h .editorContainer.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material .editorContainer.sc-stencila-editor-material{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;max-width:100%;border-width:1px;border-radius:.25rem;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);background-color:var(--background-color);border-width:var(--border-width)}.sc-stencila-editor-material-h .editorContainer.sc-stencila-editor-material:focus-within,stencila-editor.sc-stencila-editor-material .editorContainer.sc-stencila-editor-material:focus-within{-webkit-box-shadow:inset 0 0 0 2px var(--color-neutral-400);box-shadow:inset 0 0 0 2px var(--color-neutral-400)}.sc-stencila-editor-material-h .editor.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material .editor.sc-stencila-editor-material{-ms-flex-positive:1;flex-grow:1;max-width:100%;overflow:auto;font-family:monospace;font-family:var(--font-family-mono,monospace);cursor:text}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .codemirror-content *,.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .gutterElement *,stencila-editor.sc-stencila-editor-material-s>.editorContainer .codemirror-content *,stencila-editor.sc-stencila-editor-material-s>.editorContainer .gutterElement *{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.875rem}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .codemirror-focused,stencila-editor.sc-stencila-editor-material-s>.editorContainer .codemirror-focused{outline:2px solid transparent;outline-offset:2px}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .codemirror-scroller,stencila-editor.sc-stencila-editor-material-s>.editorContainer .codemirror-scroller{overflow:auto}.sc-stencila-editor-material-h.sc-stencila-editor-material-s>.editorContainer .cm-gutters,stencila-editor.sc-stencila-editor-material-s>.editorContainer .cm-gutters{background-color:var(--line-number-background)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding:1px 0;margin:0;border-top-width:1px;border-color:#e2e8f0;border-color:var(--color-neutral-300,#e2e8f0)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material stencila-icon.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material stencila-icon.sc-stencila-editor-material{--height:1em;--width:1em;margin-right:.25rem}.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material{margin-right:.5rem;font-size:.75rem;text-align:left;background-color:transparent;border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#4a5568;color:var(--color-neutral-700,#4a5568);font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material option.sc-stencila-editor-material,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material option.sc-stencila-editor-material{text-align:right;font-family:sans-serif;font-family:var(--font-family-body,sans-serif)}.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material:active,.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material:focus,.sc-stencila-editor-material-h menu.sc-stencila-editor-material select.sc-stencila-editor-material:hover,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material:active,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material:focus,stencila-editor.sc-stencila-editor-material menu.sc-stencila-editor-material select.sc-stencila-editor-material:hover{color:#1a202c;color:var(--color-neutral-900,#1a202c)}";var td={text:"text"};var ed={container:"editorContainer",editor:"editor"};var rd={editorTarget:"editorTarget"};var id=t("stencila_editor",function(){function t(t){var r=this;e(this,t);var i,n;this.languageCapabilities=["Bash","R","Python"];this.readOnly=false;this.readOnlyTag=Symbol("readOnly");this.setLanguage=function(t){var e=t.currentTarget;r.activeLanguage=e.value.toLowerCase();if(r.onSetLanguage){r.onSetLanguage(e.value)}};this.activeLanguage=(n=(i=this.languageCapabilities[0])===null||i===void 0?void 0:i.toLowerCase())!==null&&n!==void 0?n:"";this.execute=function(){r.getContents().then((function(t){return r.executeHandler?r.executeHandler(t):t})).catch((function(t){console.error(t);return false}));return true};this.autofocus=false;this.lineNumbers=true;this.foldGutter=true;this.keymap=[];this.initCodeMirror=function(){var t,e,i,n;var o=r.el;var a=o.querySelector("[slot]");var s=(i=(t=a===null||a===void 0?void 0:a.textContent)!==null&&t!==void 0?t:(e=o===null||o===void 0?void 0:o.querySelector("#"+rd.editorTarget))===null||e===void 0?void 0:e.textContent)!==null&&i!==void 0?i:"";var l=[Hu(),$s(),Ks(),As(),Bu,Yh(),ia(),me.allowMultipleSelections.of(true),ba(),Ho(__spreadArrays(Ic,Ec,qs,vf,Qu,[{key:"Ctrl-Space",run:hs},{key:"Mod-Backspace",run:Zh},{key:"Shift-Enter",run:r.execute}],r.keymap)),_t(r.readOnlyTag,Xo.editable.of(!r.readOnly))];if(r.lineNumbers){l.push(uu())}if(r.foldGutter){l.push(Cu())}r.editorRef=new Xo({state:me.create({doc:s,extensions:l})});return(n=o===null||o===void 0?void 0:o.querySelector("#"+rd.editorTarget))===null||n===void 0?void 0:n.replaceWith(r.editorRef.dom)};this.getContent=function(){return r.editorRef.state.doc.toString()};this.stopEventPropagation=function(t){t.stopPropagation()};this.focusEditor=function(){r.editorRef.focus()}}t.prototype.readOnlyChanged=function(t,e){var r;if(t!==e){this.editorRef.dispatch({reconfigure:(r={},r[this.readOnlyTag]=Xo.editable.of(!this.readOnly),r)})}};t.prototype.getContents=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,Promise.resolve({text:this.getContent(),language:this.activeLanguage})]}))}))};t.prototype.setContents=function(t){var e=this.editorRef.state;var r=e.update({changes:{from:0,to:e.doc.length,insert:t},scrollIntoView:true});this.editorRef.dispatch(r);return Promise.resolve(t)};t.prototype.componentDidLoad=function(){this.initCodeMirror();if(this.autofocus){this.focusEditor()}};t.prototype.disconnectedCallback=function(){this.editorRef.destroy()};t.prototype.render=function(){var t=this;return r(n,null,r("div",{class:ed.container},r("div",{class:ed.editor,onKeyDown:this.stopEventPropagation,onClick:this.focusEditor},r("div",{class:"hidden"},r("slot",{name:td.text})),r("div",{id:rd.editorTarget})),r("menu",null,r("label",{"aria-label":"Programming Language"},r("stencila-icon",{icon:"terminal"}),r("select",{onChange:this.setLanguage},this.languageCapabilities.map((function(e){return r("option",{value:e.toLowerCase(),selected:e.toLowerCase()===t.activeLanguage},e)})))))))};Object.defineProperty(t.prototype,"el",{get:function(){return i(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{readOnly:["readOnlyChanged"]}},enumerable:false,configurable:true});return t}());id.style={default:Kh,material:Jh};var nd=o((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.apS=e.bind=e.bindTo=e.getRefinement=e.exists=e.elem=e.option=e.MonadThrow=e.Witherable=e.Traversable=e.Filterable=e.Compactable=e.Extend=e.Alternative=e.Alt=e.Foldable=e.Monad=e.Applicative=e.Functor=e.getMonoid=e.getLastMonoid=e.getFirstMonoid=e.getApplyMonoid=e.getApplySemigroup=e.getOrd=e.getEq=e.getShow=e.URI=e.wilt=e.wither=e.sequence=e.traverse=e.partitionMap=e.partition=e.filterMap=e.filter=e.separate=e.compact=e.reduceRight=e.foldMap=e.reduce=e.duplicate=e.extend=e.throwError=e.zero=e.alt=e.flatten=e.chainFirst=e.chain=e.of=e.apSecond=e.apFirst=e.ap=e.map=e.mapNullable=e.getOrElse=e.getOrElseW=e.toUndefined=e.toNullable=e.fold=e.fromEither=e.getRight=e.getLeft=e.tryCatch=e.fromPredicate=e.fromNullable=e.some=e.none=e.isNone=e.isSome=void 0;e.isSome=function(t){return t._tag==="Some"};e.isNone=function(t){return t._tag==="None"};e.none={_tag:"None"};e.some=function(t){return{_tag:"Some",value:t}};function r(t){return t==null?e.none:e.some(t)}e.fromNullable=r;function i(t){return function(r){return t(r)?e.some(r):e.none}}e.fromPredicate=i;function n(t){try{return e.some(t())}catch(r){return e.none}}e.tryCatch=n;function o(t){return t._tag==="Right"?e.none:e.some(t.left)}e.getLeft=o;function a(t){return t._tag==="Left"?e.none:e.some(t.right)}e.getRight=a;e.fromEither=function(t){return t._tag==="Left"?e.none:e.some(t.right)};function s(t,r){return function(i){return e.isNone(i)?t():r(i.value)}}e.fold=s;function l(t){return e.isNone(t)?null:t.value}e.toNullable=l;function c(t){return e.isNone(t)?undefined:t.value}e.toUndefined=c;e.getOrElseW=function(t){return function(r){return e.isNone(r)?t():r.value}};e.getOrElse=e.getOrElseW;function f(t){return function(i){return e.isNone(i)?e.none:r(t(i.value))}}e.mapNullable=f;var h=function(t,r){return e.isNone(t)?e.none:e.some(r(t.value))};var d=function(t,r){return e.isNone(t)?e.none:e.isNone(r)?e.none:e.some(t.value(r.value))};var p=function(t,r){return e.isNone(t)?e.none:r(t.value)};var v=function(t,r,i){return e.isNone(t)?r:i(r,t.value)};var g=function(t){return function(r,i){return e.isNone(r)?t.empty:i(r.value)}};var m=function(t,r,i){return e.isNone(t)?r:i(t.value,r)};var O=function(t){return function(r,i){return e.isNone(r)?t.of(e.none):t.map(i(r.value),e.some)}};var y=function(t,r){return e.isNone(t)?r():t};var b=function(t,r){return e.isNone(t)?e.none:r(t.value)?t:e.none};var w=function(t,r){return e.isNone(t)?e.none:r(t.value)};var x=function(t,r){return e.isNone(t)?e.none:e.some(r(t))};var S=function(t,e){return{left:b(t,(function(t){return!e(t)})),right:b(t,e)}};var k=function(t,r){return e.separate(h(t,r))};var Q=function(t){return function(r,i){return e.isNone(r)?t.of(e.none):i(r.value)}};var P=function(t){return function(r,i){var n=h(r,(function(e){return t.map(i(e),(function(t){return{left:o(t),right:a(t)}}))}));return e.isNone(n)?t.of({left:e.none,right:e.none}):n.value}};e.map=function(t){return function(e){return h(e,t)}};e.ap=function(t){return function(e){return d(e,t)}};e.apFirst=function(t){return u.flow(e.map((function(t){return function(){return t}})),e.ap(t))};e.apSecond=function(t){return u.flow(e.map((function(){return function(t){return t}})),e.ap(t))};e.of=e.some;e.chain=function(t){return function(e){return p(e,t)}};e.chainFirst=function(t){return e.chain((function(r){return u.pipe(t(r),e.map((function(){return r})))}))};e.flatten=e.chain(u.identity);e.alt=function(t){return function(e){return y(e,t)}};e.zero=function(){return e.none};e.throwError=function(){return e.none};e.extend=function(t){return function(e){return x(e,t)}};e.duplicate=e.extend(u.identity);e.reduce=function(t,e){return function(r){return v(r,t,e)}};e.foldMap=function(t){var e=g(t);return function(t){return function(r){return e(r,t)}}};e.reduceRight=function(t,e){return function(r){return m(r,t,e)}};e.compact=e.flatten;var L={left:e.none,right:e.none};e.separate=function(t){var r=h(t,(function(t){return{left:o(t),right:a(t)}}));return e.isNone(r)?L:r.value};e.filter=function(t){return function(e){return b(e,t)}};e.filterMap=function(t){return function(e){return w(e,t)}};e.partition=function(t){return function(e){return S(e,t)}};e.partitionMap=function(t){return function(e){return k(e,t)}};e.traverse=function(t){var e=O(t);return function(t){return function(r){return e(r,t)}}};e.sequence=function(t){return function(r){return e.isNone(r)?t.of(e.none):t.map(r.value,e.some)}};e.wither=function(t){var e=Q(t);return function(t){return function(r){return e(r,t)}}};e.wilt=function(t){var e=P(t);return function(t){return function(r){return e(r,t)}}};e.URI="Option";function $(t){return{show:function(r){return e.isNone(r)?"none":"some("+t.show(r.value)+")"}}}e.getShow=$;function R(t){return{equals:function(r,i){return r===i||(e.isNone(r)?e.isNone(i):e.isNone(i)?false:t.equals(r.value,i.value))}}}e.getEq=R;function A(t){return{equals:R(t).equals,compare:function(r,i){return r===i?0:e.isSome(r)?e.isSome(i)?t.compare(r.value,i.value):1:-1}}}e.getOrd=A;function T(t){return{concat:function(r,i){return e.isSome(r)&&e.isSome(i)?e.some(t.concat(r.value,i.value)):e.none}}}e.getApplySemigroup=T;function C(t){return{concat:T(t).concat,empty:e.some(t.empty)}}e.getApplyMonoid=C;function M(){return{concat:function(t,r){return e.isNone(t)?r:t},empty:e.none}}e.getFirstMonoid=M;function U(){return{concat:function(t,r){return e.isNone(r)?t:r},empty:e.none}}e.getLastMonoid=U;function I(t){return{concat:function(r,i){return e.isNone(r)?i:e.isNone(i)?r:e.some(t.concat(r.value,i.value))},empty:e.none}}e.getMonoid=I;e.Functor={URI:e.URI,map:h};e.Applicative={URI:e.URI,map:h,ap:d,of:e.of};e.Monad={URI:e.URI,map:h,ap:d,of:e.of,chain:p};e.Foldable={URI:e.URI,reduce:v,foldMap:g,reduceRight:m};e.Alt={URI:e.URI,map:h,alt:y};e.Alternative={URI:e.URI,map:h,ap:d,of:e.of,alt:y,zero:e.zero};e.Extend={URI:e.URI,map:h,extend:x};e.Compactable={URI:e.URI,compact:e.compact,separate:e.separate};e.Filterable={URI:e.URI,map:h,compact:e.compact,separate:e.separate,filter:b,filterMap:w,partition:S,partitionMap:k};e.Traversable={URI:e.URI,map:h,reduce:v,foldMap:g,reduceRight:m,traverse:O,sequence:e.sequence};e.Witherable={URI:e.URI,map:h,reduce:v,foldMap:g,reduceRight:m,traverse:O,sequence:e.sequence,compact:e.compact,separate:e.separate,filter:b,filterMap:w,partition:S,partitionMap:k,wither:Q,wilt:P};e.MonadThrow={URI:e.URI,map:h,ap:d,of:e.of,chain:p,throwError:e.throwError};e.option={URI:e.URI,map:h,of:e.of,ap:d,chain:p,reduce:v,foldMap:g,reduceRight:m,traverse:O,sequence:e.sequence,zero:e.zero,alt:y,extend:x,compact:e.compact,separate:e.separate,filter:b,filterMap:w,partition:S,partitionMap:k,wither:Q,wilt:P,throwError:e.throwError};function q(t){return function(r,i){return e.isNone(i)?false:t.equals(r,i.value)}}e.elem=q;function X(t){return function(r){return e.isNone(r)?false:t(r.value)}}e.exists=X;function E(t){return function(r){return e.isSome(t(r))}}e.getRefinement=E;e.bindTo=function(t){return e.map(u.bindTo_(t))};e.bind=function(t,r){return e.chain((function(i){return u.pipe(r(i),e.map((function(e){return u.bind_(i,t,e)})))}))};e.apS=function(t,r){return u.flow(e.map((function(e){return function(r){return u.bind_(e,t,r)}})),e.ap(r))}}));var od=o((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.invert=e.monoidOrdering=e.semigroupOrdering=e.eqOrdering=e.sign=void 0;function r(t){return t<=-1?-1:t>=1?1:0}e.sign=r;e.eqOrdering={equals:function(t,e){return t===e}};e.semigroupOrdering={concat:function(t,e){return t!==0?t:e}};e.monoidOrdering={concat:e.semigroupOrdering.concat,empty:0};function i(t){switch(t){case-1:return 1;case 1:return-1;default:return 0}}e.invert=i}));var ad=o((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.ord=e.Contravariant=e.ordDate=e.URI=e.contramap=e.getDualOrd=e.getTupleOrd=e.getMonoid=e.getSemigroup=e.fromCompare=e.between=e.clamp=e.max=e.min=e.geq=e.leq=e.gt=e.lt=e.ordBoolean=e.ordNumber=e.ordString=void 0;function r(t,e){return t<e?-1:t>e?1:0}function i(t,e){return t===e}e.ordString={equals:i,compare:r};e.ordNumber={equals:i,compare:r};e.ordBoolean={equals:i,compare:r};function n(t){return function(e,r){return t.compare(e,r)===-1}}e.lt=n;function o(t){return function(e,r){return t.compare(e,r)===1}}e.gt=o;function a(t){return function(e,r){return t.compare(e,r)!==1}}e.leq=a;function s(t){return function(e,r){return t.compare(e,r)!==-1}}e.geq=s;function l(t){return function(e,r){return t.compare(e,r)===1?r:e}}e.min=l;function c(t){return function(e,r){return t.compare(e,r)===-1?r:e}}e.max=c;function f(t){var e=l(t);var r=c(t);return function(t,i){return function(n){return r(e(n,i),t)}}}e.clamp=f;function h(t){var e=n(t);var r=o(t);return function(t,i){return function(n){return e(n,t)||r(n,i)?false:true}}}e.between=h;function d(t){var e=function(e,r){return e===r?0:t(e,r)};return{equals:function(t,r){return e(t,r)===0},compare:e}}e.fromCompare=d;function p(){return{concat:function(t,e){return d((function(r,i){return od.monoidOrdering.concat(t.compare(r,i),e.compare(r,i))}))}}}e.getSemigroup=p;function v(){return{concat:p().concat,empty:d((function(){return 0}))}}e.getMonoid=v;function g(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r=t.length;return d((function(e,i){var n=0;for(;n<r-1;n++){var o=t[n].compare(e[n],i[n]);if(o!==0){return o}}return t[n].compare(e[n],i[n])}))}e.getTupleOrd=g;function m(t){return d((function(e,r){return t.compare(r,e)}))}e.getDualOrd=m;var O=function(t,r){return u.pipe(t,e.contramap(r))};e.contramap=function(t){return function(e){return d((function(r,i){return e.compare(t(r),t(i))}))}};e.URI="Ord";e.ordDate=u.pipe(e.ordNumber,e.contramap((function(t){return t.valueOf()})));e.Contravariant={URI:e.URI,contramap:O};e.ord=e.Contravariant}));var sd=o((function(t,e){Object.defineProperty(e,"__esModule",{value:true});e.apS=e.bind=e.bindTo=e.empty=e.unsafeDeleteAt=e.unsafeUpdateAt=e.unsafeInsertAt=e.readonlyArray=e.Witherable=e.TraversableWithIndex=e.Traversable=e.FoldableWithIndex=e.Foldable=e.FilterableWithIndex=e.Filterable=e.Compactable=e.Extend=e.Alternative=e.Alt=e.Unfoldable=e.Monad=e.Applicative=e.FunctorWithIndex=e.Functor=e.URI=e.unfold=e.wilt=e.wither=e.traverseWithIndex=e.sequence=e.traverse=e.reduceRightWithIndex=e.reduceRight=e.reduceWithIndex=e.foldMap=e.reduce=e.foldMapWithIndex=e.duplicate=e.extend=e.filterWithIndex=e.partitionMapWithIndex=e.partitionMap=e.partitionWithIndex=e.partition=e.compact=e.filterMap=e.filterMapWithIndex=e.filter=e.separate=e.mapWithIndex=e.map=e.chainFirst=e.chainWithIndex=e.chain=e.apSecond=e.apFirst=e.ap=e.alt=e.zero=e.of=e.difference=e.intersection=e.union=e.comprehension=e.chunksOf=e.splitAt=e.chop=e.sortBy=e.uniq=e.elem=e.rotate=e.unzip=e.zip=e.zipWith=e.sort=e.lefts=e.rights=e.reverse=e.modifyAt=e.deleteAt=e.updateAt=e.insertAt=e.findLastIndex=e.findLastMap=e.findLast=e.findFirstMap=e.findFirst=e.findIndex=e.dropLeftWhile=e.dropRight=e.dropLeft=e.spanLeft=e.takeLeftWhile=e.takeRight=e.takeLeft=e.init=e.tail=e.last=e.head=e.snoc=e.cons=e.lookup=e.isOutOfBound=e.isNonEmpty=e.isEmpty=e.scanRight=e.scanLeft=e.foldRight=e.foldLeft=e.flatten=e.replicate=e.range=e.makeBy=e.getOrd=e.getEq=e.getMonoid=e.getShow=e.toArray=e.fromArray=void 0;function r(t){var r=t.length;if(r===0){return e.empty}var i=Array(r);for(var n=0;n<r;n++){i[n]=t[n]}return i}e.fromArray=r;function i(t){var e=t.length;var r=Array(e);for(var i=0;i<e;i++){r[i]=t[i]}return r}e.toArray=i;function n(t){return{show:function(e){return"["+e.map(t.show).join(", ")+"]"}}}e.getShow=n;var o=function(t,e){var r=t.length;if(r===0){return e}var i=e.length;if(i===0){return t}var n=Array(r+i);for(var o=0;o<r;o++){n[o]=t[o]}for(var o=0;o<i;o++){n[o+r]=e[o]}return n};function a(){return{concat:o,empty:e.empty}}e.getMonoid=a;function s(t){return{equals:function(e,r){return e===r||e.length===r.length&&e.every((function(e,i){return t.equals(e,r[i])}))}}}e.getEq=s;function l(t){return ad.fromCompare((function(e,r){var i=e.length;var n=r.length;var o=Math.min(i,n);for(var a=0;a<o;a++){var s=t.compare(e[a],r[a]);if(s!==0){return s}}return ad.ordNumber.compare(i,n)}))}e.getOrd=l;function c(t,e){var r=[];for(var i=0;i<t;i++){r.push(e(i))}return r}e.makeBy=c;function f(t,e){return c(e-t+1,(function(e){return t+e}))}e.range=f;function h(t,e){return c(t,(function(){return e}))}e.replicate=h;function d(t){var e=0;var r=t.length;for(var i=0;i<r;i++){e+=t[i].length}var n=Array(e);var o=0;for(var i=0;i<r;i++){var a=t[i];var s=a.length;for(var l=0;l<s;l++){n[l+o]=a[l]}o+=s}return n}e.flatten=d;function p(t,e){return function(r){return O(r)?t():e(r[0],r.slice(1))}}e.foldLeft=p;function v(t,e){return function(r){return O(r)?t():e(r.slice(0,r.length-1),r[r.length-1])}}e.foldRight=v;function g(t,e){return function(r){var i=r.length;var n=new Array(i+1);n[0]=t;for(var o=0;o<i;o++){n[o+1]=e(n[o],r[o])}return n}}e.scanLeft=g;function m(t,e){return function(r){var i=r.length;var n=new Array(i+1);n[i]=t;for(var o=i-1;o>=0;o--){n[o]=e(r[o],n[o+1])}return n}}e.scanRight=m;function O(t){return t.length===0}e.isEmpty=O;function y(t){return t.length>0}e.isNonEmpty=y;function b(t,e){return t<0||t>=e.length}e.isOutOfBound=b;function w(t,e){return e===undefined?function(e){return w(t,e)}:b(t,e)?nd.none:nd.some(e[t])}e.lookup=w;function x(t,e){if(e===undefined){return function(e){return x(t,e)}}var r=e.length;var i=Array(r+1);for(var n=0;n<r;n++){i[n+1]=e[n]}i[0]=t;return i}e.cons=x;function S(t,e){var r=t.length;var i=Array(r+1);for(var n=0;n<r;n++){i[n]=t[n]}i[r]=e;return i}e.snoc=S;function k(t){return O(t)?nd.none:nd.some(t[0])}e.head=k;function Q(t){return w(t.length-1,t)}e.last=Q;function P(t){return O(t)?nd.none:nd.some(t.slice(1))}e.tail=P;function L(t){var e=t.length;return e===0?nd.none:nd.some(t.slice(0,e-1))}e.init=L;function $(t){return function(e){return e.slice(0,t)}}e.takeLeft=$;function R(t){return function(r){return t===0?e.empty:r.slice(-t)}}e.takeRight=R;function A(t){return function(e){var r=T(e,t);var i=Array(r);for(var n=0;n<r;n++){i[n]=e[n]}return i}}e.takeLeftWhile=A;var T=function(t,e){var r=t.length;var i=0;for(;i<r;i++){if(!e(t[i])){break}}return i};function C(t){return function(e){var r=T(e,t);var i=Array(r);for(var n=0;n<r;n++){i[n]=e[n]}var o=e.length;var a=Array(o-r);for(var n=r;n<o;n++){a[n-r]=e[n]}return{init:i,rest:a}}}e.spanLeft=C;function M(t){return function(e){return e.slice(t,e.length)}}e.dropLeft=M;function U(t){return function(e){return e.slice(0,e.length-t)}}e.dropRight=U;function I(t){return function(e){var r=T(e,t);var i=e.length;var n=Array(i-r);for(var o=r;o<i;o++){n[o-r]=e[o]}return n}}e.dropLeftWhile=I;function q(t){return function(e){var r=e.length;for(var i=0;i<r;i++){if(t(e[i])){return nd.some(i)}}return nd.none}}e.findIndex=q;function X(t){return function(e){var r=e.length;for(var i=0;i<r;i++){if(t(e[i])){return nd.some(e[i])}}return nd.none}}e.findFirst=X;function E(t){return function(e){var r=e.length;for(var i=0;i<r;i++){var n=t(e[i]);if(nd.isSome(n)){return n}}return nd.none}}e.findFirstMap=E;function j(t){return function(e){var r=e.length;for(var i=r-1;i>=0;i--){if(t(e[i])){return nd.some(e[i])}}return nd.none}}e.findLast=j;function W(t){return function(e){var r=e.length;for(var i=r-1;i>=0;i--){var n=t(e[i]);if(nd.isSome(n)){return n}}return nd.none}}e.findLastMap=W;function D(t){return function(e){var r=e.length;for(var i=r-1;i>=0;i--){if(t(e[i])){return nd.some(i)}}return nd.none}}e.findLastIndex=D;function _(t,e){return function(r){return t<0||t>r.length?nd.none:nd.some(Ct(t,e,r))}}e.insertAt=_;function V(t,e){return function(r){return b(t,r)?nd.none:nd.some(Mt(t,e,r))}}e.updateAt=V;function B(t){return function(e){return b(t,e)?nd.none:nd.some(Ut(t,e))}}e.deleteAt=B;function z(t,e){return function(r){return b(t,r)?nd.none:nd.some(Mt(t,e(r[t]),r))}}e.modifyAt=z;function N(t){if(O(t)){return t}return t.slice().reverse()}e.reverse=N;function F(t){var e=[];var r=t.length;for(var i=0;i<r;i++){var n=t[i];if(n._tag==="Right"){e.push(n.right)}}return e}e.rights=F;function G(t){var e=[];var r=t.length;for(var i=0;i<r;i++){var n=t[i];if(n._tag==="Left"){e.push(n.left)}}return e}e.lefts=G;e.sort=function(t){return function(e){return O(e)?e:e.slice().sort(t.compare)}};function Y(t,e,r){var i=[];var n=Math.min(t.length,e.length);for(var o=0;o<n;o++){i[o]=r(t[o],e[o])}return i}e.zipWith=Y;function H(t,e){if(e===undefined){return function(e){return H(e,t)}}return Y(t,e,(function(t,e){return[t,e]}))}e.zip=H;function Z(t){var e=[];var r=[];for(var i=0;i<t.length;i++){e[i]=t[i][0];r[i]=t[i][1]}return[e,r]}e.unzip=Z;function K(t){return function(e){var r=e.length;if(t===0||r<=1||r===Math.abs(t)){return e}else if(t<0){return K(r+t)(e)}else{return e.slice(-t).concat(e.slice(0,r-t))}}}e.rotate=K;function J(t){return function(e,r){if(r===undefined){var i=J(t);return function(t){return i(e,t)}}var n=function(r){return t.equals(r,e)};var o=0;var a=r.length;for(;o<a;o++){if(n(r[o])){return true}}return false}}e.elem=J;function tt(t){var e=J(t);return function(t){var r=[];var i=t.length;var n=0;for(;n<i;n++){var o=t[n];if(!e(o,r)){r.push(o)}}return i===r.length?t:r}}e.uniq=tt;function et(t){var r=ad.getMonoid();return e.sort(t.reduce(r.concat,r.empty))}e.sortBy=et;e.chop=function(t){return function(e){var r=[];var i=e;while(y(i)){var n=t(i),o=n[0],a=n[1];r.push(o);i=a}return r}};function rt(t){return function(e){return[e.slice(0,t),e.slice(t)]}}e.splitAt=rt;function it(t){var r=e.chop(rt(t));return function(i){return i.length===0?e.empty:b(t-1,i)?[i]:r(i)}}e.chunksOf=it;function nt(t,r,i){if(i===void 0){i=function(){return true}}var n=function(t,o){if(o.length===0){return i.apply(void 0,t)?[r.apply(void 0,t)]:e.empty}else{return ft(o[0],(function(e){return n(S(t,e),o.slice(1))}))}};return n(e.empty,t)}e.comprehension=nt;function ot(t){var e=J(t);return function(r,i){if(i===undefined){var n=ot(t);return function(t){return n(t,r)}}return o(r,i.filter((function(t){return!e(t,r)})))}}e.union=ot;function at(t){var e=J(t);return function(r,i){if(i===undefined){var n=at(t);return function(t){return n(t,r)}}return r.filter((function(t){return e(t,i)}))}}e.intersection=at;function st(t){var e=J(t);return function(r,i){if(i===undefined){var n=st(t);return function(t){return n(t,r)}}return r.filter((function(t){return!e(t,i)}))}}e.difference=st;e.of=function(t){return[t]};e.zero=function(){return e.empty};var lt=function(t,r){return u.pipe(t,e.map(r))};var ct=function(t,r){return u.pipe(t,e.mapWithIndex(r))};var ut=function(t,r){return u.pipe(t,e.ap(r))};var ft=function(t,r){return u.pipe(t,e.chain(r))};var ht=function(t,r){return u.pipe(t,e.filter(r))};var dt=function(t,r){return u.pipe(t,e.filterMap(r))};var pt=function(t,r){return u.pipe(t,e.partitionWithIndex(r))};var vt=function(t,r){return u.pipe(t,e.partition(r))};var gt=function(t,r){return u.pipe(t,e.partitionMap(r))};var mt=function(t,r){return u.pipe(t,e.partitionMapWithIndex(r))};var Ot=function(t,r){return u.pipe(t,e.alt(r))};var yt=function(t,r,i){return u.pipe(t,e.reduce(r,i))};var bt=function(t){var r=e.foldMap(t);return function(t,e){return u.pipe(t,r(e))}};var wt=function(t,r,i){return u.pipe(t,e.reduceRight(r,i))};var xt=function(t,e,r){var i=t.length;var n=e;for(var o=0;o<i;o++){n=r(o,n,t[o])}return n};var St=function(t){return function(e,r){return e.reduce((function(e,i,n){return t.concat(e,r(n,i))}),t.empty)}};var kt=function(t,r,i){return u.pipe(t,e.reduceRightWithIndex(r,i))};var Qt=function(t,r){return u.pipe(t,e.filterMapWithIndex(r))};var Pt=function(t,r){return u.pipe(t,e.filterWithIndex(r))};var Lt=function(t,r){return u.pipe(t,e.extend(r))};var $t=function(t){var r=e.traverse(t);return function(t,e){return u.pipe(t,r(e))}};var Rt=function(t){var r=e.traverseWithIndex(t);return function(t,e){return u.pipe(t,r(e))}};var At=function(t){var r=e.wither(t);return function(t,e){return u.pipe(t,r(e))}};var Tt=function(t){var r=e.wilt(t);return function(t,e){return u.pipe(t,r(e))}};e.alt=function(t){return function(e){return o(e,t())}};e.ap=function(t){return e.chain((function(r){return u.pipe(t,e.map(r))}))};e.apFirst=function(t){return u.flow(e.map((function(t){return function(){return t}})),e.ap(t))};e.apSecond=function(t){return u.flow(e.map((function(){return function(t){return t}})),e.ap(t))};e.chain=function(t){return function(r){return u.pipe(r,e.chainWithIndex((function(e,r){return t(r)})))}};e.chainWithIndex=function(t){return function(e){var r=0;var i=e.length;var n=new Array(i);for(var o=0;o<i;o++){var a=e[o];var s=t(o,a);r+=s.length;n[o]=s}var l=Array(r);var c=0;for(var o=0;o<i;o++){var s=n[o];var u=s.length;for(var f=0;f<u;f++){l[f+c]=s[f]}c+=u}return l}};e.chainFirst=function(t){return e.chain((function(r){return u.pipe(t(r),e.map((function(){return r})))}))};e.map=function(t){return function(e){return e.map((function(e){return t(e)}))}};e.mapWithIndex=function(t){return function(e){return e.map((function(e,r){return t(r,e)}))}};e.separate=function(t){var e=[];var r=[];for(var i=0,n=t;i<n.length;i++){var o=n[i];if(o._tag==="Left"){e.push(o.left)}else{r.push(o.right)}}return{left:e,right:r}};e.filter=function(t){return function(e){return e.filter(t)}};e.filterMapWithIndex=function(t){return function(e){var r=[];for(var i=0;i<e.length;i++){var n=t(i,e[i]);if(nd.isSome(n)){r.push(n.value)}}return r}};e.filterMap=function(t){return e.filterMapWithIndex((function(e,r){return t(r)}))};e.compact=e.filterMap(u.identity);e.partition=function(t){return e.partitionWithIndex((function(e,r){return t(r)}))};e.partitionWithIndex=function(t){return function(e){var r=[];var i=[];for(var n=0;n<e.length;n++){var o=e[n];if(t(n,o)){i.push(o)}else{r.push(o)}}return{left:r,right:i}}};e.partitionMap=function(t){return e.partitionMapWithIndex((function(e,r){return t(r)}))};e.partitionMapWithIndex=function(t){return function(e){var r=[];var i=[];for(var n=0;n<e.length;n++){var o=t(n,e[n]);if(o._tag==="Left"){r.push(o.left)}else{i.push(o.right)}}return{left:r,right:i}}};e.filterWithIndex=function(t){return function(e){return e.filter((function(e,r){return t(r,e)}))}};e.extend=function(t){return function(e){return e.map((function(e,r,i){return t(i.slice(r))}))}};e.duplicate=e.extend(u.identity);e.foldMapWithIndex=function(t){var e=St(t);return function(t){return function(r){return e(r,t)}}};e.reduce=function(t,r){return e.reduceWithIndex(t,(function(t,e,i){return r(e,i)}))};e.foldMap=function(t){var r=e.foldMapWithIndex(t);return function(t){return r((function(e,r){return t(r)}))}};e.reduceWithIndex=function(t,e){return function(r){return xt(r,t,e)}};e.reduceRight=function(t,r){return e.reduceRightWithIndex(t,(function(t,e,i){return r(e,i)}))};e.reduceRightWithIndex=function(t,e){return function(r){return r.reduceRight((function(t,r,i){return e(i,r,t)}),t)}};e.traverse=function(t){var r=e.traverseWithIndex(t);return function(t){return r((function(e,r){return t(r)}))}};e.sequence=function(t){return function(r){return yt(r,t.of(e.zero()),(function(e,r){return t.ap(t.map(e,(function(t){return function(e){return S(t,e)}})),r)}))}};e.traverseWithIndex=function(t){return function(r){return e.reduceWithIndex(t.of(e.zero()),(function(e,i,n){return t.ap(t.map(i,(function(t){return function(e){return S(t,e)}})),r(e,n))}))}};e.wither=function(t){var r=e.traverse(t);return function(i){return function(n){return t.map(u.pipe(n,r(i)),e.compact)}}};e.wilt=function(t){var r=e.traverse(t);return function(i){return function(n){return t.map(u.pipe(n,r(i)),e.separate)}}};e.unfold=function(t,e){var r=[];var i=t;while(true){var n=e(i);if(nd.isSome(n)){var o=n.value,a=o[0],s=o[1];r.push(a);i=s}else{break}}return r};e.URI="ReadonlyArray";e.Functor={URI:e.URI,map:lt};e.FunctorWithIndex={URI:e.URI,map:lt,mapWithIndex:ct};e.Applicative={URI:e.URI,map:lt,ap:ut,of:e.of};e.Monad={URI:e.URI,map:lt,ap:ut,of:e.of,chain:ft};e.Unfoldable={URI:e.URI,unfold:e.unfold};e.Alt={URI:e.URI,map:lt,alt:Ot};e.Alternative={URI:e.URI,map:lt,ap:ut,of:e.of,alt:Ot,zero:e.zero};e.Extend={URI:e.URI,map:lt,extend:Lt};e.Compactable={URI:e.URI,compact:e.compact,separate:e.separate};e.Filterable={URI:e.URI,map:lt,compact:e.compact,separate:e.separate,filter:ht,filterMap:dt,partition:vt,partitionMap:gt};e.FilterableWithIndex={URI:e.URI,map:lt,mapWithIndex:ct,compact:e.compact,separate:e.separate,filter:ht,filterMap:dt,partition:vt,partitionMap:gt,partitionMapWithIndex:mt,partitionWithIndex:pt,filterMapWithIndex:Qt,filterWithIndex:Pt};e.Foldable={URI:e.URI,reduce:yt,foldMap:bt,reduceRight:wt};e.FoldableWithIndex={URI:e.URI,reduce:yt,foldMap:bt,reduceRight:wt,reduceWithIndex:xt,foldMapWithIndex:St,reduceRightWithIndex:kt};e.Traversable={URI:e.URI,map:lt,reduce:yt,foldMap:bt,reduceRight:wt,traverse:$t,sequence:e.sequence};e.TraversableWithIndex={URI:e.URI,map:lt,mapWithIndex:ct,reduce:yt,foldMap:bt,reduceRight:wt,reduceWithIndex:xt,foldMapWithIndex:St,reduceRightWithIndex:kt,traverse:$t,sequence:e.sequence,traverseWithIndex:Rt};e.Witherable={URI:e.URI,map:lt,compact:e.compact,separate:e.separate,filter:ht,filterMap:dt,partition:vt,partitionMap:gt,reduce:yt,foldMap:bt,reduceRight:wt,traverse:$t,sequence:e.sequence,wither:At,wilt:Tt};e.readonlyArray={URI:e.URI,compact:e.compact,separate:e.separate,map:lt,ap:ut,of:e.of,chain:ft,filter:ht,filterMap:dt,partition:vt,partitionMap:gt,mapWithIndex:ct,partitionMapWithIndex:mt,partitionWithIndex:pt,filterMapWithIndex:Qt,filterWithIndex:Pt,alt:Ot,zero:e.zero,unfold:e.unfold,reduce:yt,foldMap:bt,reduceRight:wt,traverse:$t,sequence:e.sequence,reduceWithIndex:xt,foldMapWithIndex:St,reduceRightWithIndex:kt,traverseWithIndex:Rt,extend:Lt,wither:At,wilt:Tt};function Ct(t,e,r){var i=r.slice();i.splice(t,0,e);return i}e.unsafeInsertAt=Ct;function Mt(t,e,r){if(r[t]===e){return r}else{var i=r.slice();i[t]=e;return i}}e.unsafeUpdateAt=Mt;function Ut(t,e){var r=e.slice();r.splice(t,1);return r}e.unsafeDeleteAt=Ut;e.empty=[];e.bindTo=function(t){return e.map(u.bindTo_(t))};e.bind=function(t,r){return e.chain((function(i){return u.pipe(r(i),e.map((function(e){return u.bind_(i,t,e)})))}))};e.apS=function(t,r){return u.flow(e.map((function(e){return function(r){return u.bind_(e,t,r)}})),e.ap(r))}}));var ld=o((function(t,e){var r=a&&a.__createBinding||(Object.create?function(t,e,r,i){if(i===undefined)i=r;Object.defineProperty(t,i,{enumerable:true,get:function(){return e[r]}})}:function(t,e,r,i){if(i===undefined)i=r;t[i]=e[r]});var i=a&&a.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:true,value:e})}:function(t,e){t["default"]=e});var n=a&&a.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)if(n!=="default"&&Object.prototype.hasOwnProperty.call(t,n))r(e,t,n);i(e,t);return e};Object.defineProperty(e,"__esModule",{value:true});e.apS=e.bind=e.bindTo=e.empty=e.unsafeDeleteAt=e.unsafeUpdateAt=e.unsafeInsertAt=e.array=e.Witherable=e.TraversableWithIndex=e.Traversable=e.FoldableWithIndex=e.Foldable=e.FilterableWithIndex=e.Filterable=e.Compactable=e.Extend=e.Alternative=e.Alt=e.Unfoldable=e.Monad=e.Applicative=e.FunctorWithIndex=e.Functor=e.URI=e.zero=e.unfold=e.wilt=e.wither=e.traverseWithIndex=e.sequence=e.traverse=e.reduceRightWithIndex=e.reduceRight=e.reduceWithIndex=e.reduce=e.foldMapWithIndex=e.foldMap=e.duplicate=e.extend=e.filterWithIndex=e.filterMapWithIndex=e.alt=e.partitionMapWithIndex=e.partitionMap=e.partitionWithIndex=e.partition=e.filterMap=e.filter=e.separate=e.compact=e.mapWithIndex=e.chainFirst=e.chainWithIndex=e.chain=e.apSecond=e.apFirst=e.ap=e.map=e.of=e.difference=e.intersection=e.union=e.comprehension=e.chunksOf=e.splitAt=e.chop=e.sortBy=e.uniq=e.elem=e.rotate=e.unzip=e.zip=e.zipWith=e.sort=e.lefts=e.rights=e.reverse=e.modifyAt=e.deleteAt=e.updateAt=e.insertAt=e.copy=e.findLastIndex=e.findLastMap=e.findLast=e.findFirstMap=e.findFirst=e.findIndex=e.dropLeftWhile=e.dropRight=e.dropLeft=e.spanLeft=e.takeLeftWhile=e.takeRight=e.takeLeft=e.init=e.tail=e.last=e.head=e.snoc=e.cons=e.lookup=e.isOutOfBound=e.isNonEmpty=e.isEmpty=e.scanRight=e.scanLeft=e.foldRight=e.foldLeft=e.flatten=e.replicate=e.range=e.makeBy=e.getOrd=e.getEq=e.getMonoid=e.getShow=void 0;var o=n(sd);e.getShow=o.getShow;e.getMonoid=o.getMonoid;e.getEq=o.getEq;e.getOrd=o.getOrd;e.makeBy=o.makeBy;e.range=o.range;e.replicate=o.replicate;e.flatten=o.flatten;e.foldLeft=o.foldLeft;e.foldRight=o.foldRight;e.scanLeft=o.scanLeft;e.scanRight=o.scanRight;e.isEmpty=o.isEmpty;e.isNonEmpty=o.isNonEmpty;e.isOutOfBound=o.isOutOfBound;e.lookup=o.lookup;e.cons=o.cons;e.snoc=o.snoc;e.head=o.head;e.last=o.last;e.tail=o.tail;e.init=o.init;e.takeLeft=o.takeLeft;e.takeRight=o.takeRight;function s(t){return o.takeLeftWhile(t)}e.takeLeftWhile=s;function l(t){return o.spanLeft(t)}e.spanLeft=l;e.dropLeft=o.dropLeft;e.dropRight=o.dropRight;e.dropLeftWhile=o.dropLeftWhile;e.findIndex=o.findIndex;function c(t){return o.findFirst(t)}e.findFirst=c;e.findFirstMap=o.findFirstMap;function u(t){return o.findLast(t)}e.findLast=u;e.findLastMap=o.findLastMap;e.findLastIndex=o.findLastIndex;e.copy=o.toArray;e.insertAt=o.insertAt;e.updateAt=o.updateAt;e.deleteAt=o.deleteAt;e.modifyAt=o.modifyAt;e.reverse=o.reverse;e.rights=o.rights;e.lefts=o.lefts;e.sort=o.sort;e.zipWith=o.zipWith;e.zip=o.zip;e.unzip=o.unzip;e.rotate=o.rotate;e.elem=o.elem;e.uniq=o.uniq;e.sortBy=o.sortBy;e.chop=o.chop;e.splitAt=o.splitAt;e.chunksOf=o.chunksOf;function f(t,e,r){if(r===void 0){r=function(){return true}}return o.comprehension(t,e,r)}e.comprehension=f;e.union=o.union;e.intersection=o.intersection;e.difference=o.difference;e.of=o.of;var h=o.Monad.map;var d=o.Monad.ap;var p=o.Monad.chain;var v=o.FunctorWithIndex.mapWithIndex;var g=o.Filterable.filter;var m=o.Filterable.filterMap;var O=o.Filterable.partition;var y=o.Filterable.partitionMap;var b=o.FilterableWithIndex.filterWithIndex;var w=o.FilterableWithIndex.filterMapWithIndex;var x=o.FilterableWithIndex.partitionWithIndex;var S=o.FilterableWithIndex.partitionMapWithIndex;var k=o.Foldable.reduce;var Q=o.Foldable.foldMap;var P=o.Foldable.reduceRight;var L=o.Traversable.traverse;var $=o.Alternative.alt;var R=o.FoldableWithIndex.reduceWithIndex;var A=o.FoldableWithIndex.foldMapWithIndex;var T=o.FoldableWithIndex.reduceRightWithIndex;var C=o.TraversableWithIndex.traverseWithIndex;var M=o.Extend.extend;var U=o.Witherable.wither;var I=o.Witherable.wilt;e.map=o.map;e.ap=o.ap;e.apFirst=o.apFirst;e.apSecond=o.apSecond;e.chain=o.chain;e.chainWithIndex=o.chainWithIndex;e.chainFirst=o.chainFirst;e.mapWithIndex=o.mapWithIndex;e.compact=o.compact;e.separate=o.separate;e.filter=o.filter;e.filterMap=o.filterMap;e.partition=o.partition;e.partitionWithIndex=o.partitionWithIndex;e.partitionMap=o.partitionMap;e.partitionMapWithIndex=o.partitionMapWithIndex;e.alt=o.alt;e.filterMapWithIndex=o.filterMapWithIndex;e.filterWithIndex=o.filterWithIndex;e.extend=o.extend;e.duplicate=o.duplicate;e.foldMap=o.foldMap;e.foldMapWithIndex=o.foldMapWithIndex;e.reduce=o.reduce;e.reduceWithIndex=o.reduceWithIndex;e.reduceRight=o.reduceRight;e.reduceRightWithIndex=o.reduceRightWithIndex;e.traverse=o.traverse;e.sequence=o.sequence;e.traverseWithIndex=o.traverseWithIndex;e.wither=o.wither;e.wilt=o.wilt;e.unfold=o.unfold;e.zero=o.Alternative.zero;e.URI="Array";e.Functor={URI:e.URI,map:h};e.FunctorWithIndex={URI:e.URI,map:h,mapWithIndex:v};e.Applicative={URI:e.URI,map:h,ap:d,of:e.of};e.Monad={URI:e.URI,map:h,ap:d,of:e.of,chain:p};e.Unfoldable={URI:e.URI,unfold:e.unfold};e.Alt={URI:e.URI,map:h,alt:$};e.Alternative={URI:e.URI,map:h,ap:d,of:e.of,alt:$,zero:e.zero};e.Extend={URI:e.URI,map:h,extend:M};e.Compactable={URI:e.URI,compact:e.compact,separate:e.separate};e.Filterable={URI:e.URI,map:h,compact:e.compact,separate:e.separate,filter:g,filterMap:m,partition:O,partitionMap:y};e.FilterableWithIndex={URI:e.URI,map:h,mapWithIndex:v,compact:e.compact,separate:e.separate,filter:g,filterMap:m,partition:O,partitionMap:y,partitionMapWithIndex:S,partitionWithIndex:x,filterMapWithIndex:w,filterWithIndex:b};e.Foldable={URI:e.URI,reduce:k,foldMap:Q,reduceRight:P};e.FoldableWithIndex={URI:e.URI,reduce:k,foldMap:Q,reduceRight:P,reduceWithIndex:R,foldMapWithIndex:A,reduceRightWithIndex:T};e.Traversable={URI:e.URI,map:h,reduce:k,foldMap:Q,reduceRight:P,traverse:L,sequence:e.sequence};e.TraversableWithIndex={URI:e.URI,map:h,mapWithIndex:v,reduce:k,foldMap:Q,reduceRight:P,reduceWithIndex:R,foldMapWithIndex:A,reduceRightWithIndex:T,traverse:L,sequence:e.sequence,traverseWithIndex:C};e.Witherable={URI:e.URI,map:h,compact:e.compact,separate:e.separate,filter:g,filterMap:m,partition:O,partitionMap:y,reduce:k,foldMap:Q,reduceRight:P,traverse:L,sequence:e.sequence,wither:U,wilt:I};e.array={URI:e.URI,compact:e.compact,separate:e.separate,map:h,ap:d,of:e.of,chain:p,filter:g,filterMap:m,partition:O,partitionMap:y,mapWithIndex:v,partitionMapWithIndex:S,partitionWithIndex:x,filterMapWithIndex:w,filterWithIndex:b,alt:$,zero:e.zero,unfold:e.unfold,reduce:k,foldMap:Q,reduceRight:P,traverse:L,sequence:e.sequence,reduceWithIndex:R,foldMapWithIndex:A,reduceRightWithIndex:T,traverseWithIndex:C,extend:M,wither:U,wilt:I};e.unsafeInsertAt=o.unsafeInsertAt;e.unsafeUpdateAt=o.unsafeUpdateAt;e.unsafeDeleteAt=o.unsafeDeleteAt;e.empty=[];e.bindTo=o.bindTo;e.bind=o.bind;e.apS=o.apS}));var cd="*.sc-stencila-node-list-default,.sc-stencila-node-list-default:after,.sc-stencila-node-list-default:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-node-list-default{font-size:16px}.hidden.sc-stencila-node-list-default{display:none}code.sc-stencila-node-list-default,code[class*=language-].sc-stencila-node-list-default,output.sc-stencila-node-list-default{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:75%}pre.sc-stencila-node-list-default{border:1px solid #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-radius:.25rem;padding:.5rem;margin:.5rem;overflow:auto}.sc-stencila-node-list-default-h,stencila-node-list.sc-stencila-node-list-default{display:block}.sc-stencila-node-list-default-h .hidden.sc-stencila-node-list-default+.sc-stencila-node-list-default:nth-child(2),.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:first-child,stencila-node-list.sc-stencila-node-list-default .hidden.sc-stencila-node-list-default+.sc-stencila-node-list-default:nth-child(2),stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:last-child,stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:last-child{margin-bottom:0}.sc-stencila-node-list-default-h .hidden.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default .hidden.sc-stencila-node-list-default{display:none}.sc-stencila-node-list-default-h .emptyContentMessage.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default .emptyContentMessage.sc-stencila-node-list-default{color:#718096;color:var(--color-neutral-600,#718096)}.sc-stencila-node-list-default-h stencila-code-error.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default stencila-code-error.sc-stencila-node-list-default{border-width:0}.sc-stencila-node-list-default-h stencila-image-object.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default stencila-image-object.sc-stencila-node-list-default{display:block;height:auto;max-width:100%}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs],.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs],stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs],stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default{padding:0;margin:0;overflow:auto}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]:first-child,.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:first-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default:first-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]:first-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]:first-child,stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:first-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default:first-child{margin-top:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]:last-child,.sc-stencila-node-list-default-h>.sc-stencila-node-list-default:last-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default:last-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]:last-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]:last-child,stencila-node-list.sc-stencila-node-list-default>.sc-stencila-node-list-default:last-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default:last-child{margin-bottom:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs] pre,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default pre.sc-stencila-node-list-default,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default pre.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs] pre,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs] pre,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default pre.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default pre.sc-stencila-node-list-default{padding:0;margin:0;border-width:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs] img,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default img.sc-stencila-node-list-default,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default img.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs] img,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs] img,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default img.sc-stencila-node-list-default,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default img.sc-stencila-node-list-default{border-bottom-width:0;border-left-width:0;border-right-width:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption),.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption),.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption),stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption),stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption),stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption),stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption){padding-top:.75rem;margin-top:.75rem;margin-bottom:.75rem;border:0 dashed #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-top:1px dashed var(--color-neutral-300,#e2e8f0)}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):first-child,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-default-h .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):last-child,.sc-stencila-node-list-default-h>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child,.sc-stencila-node-list-default-h figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list .sc-stencila-node-list-default-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-default>*.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-default figure.sc-stencila-node-list-default>.sc-stencila-node-list-default:not(figcaption):last-child{margin-bottom:0}";var ud="*.sc-stencila-node-list-material,.sc-stencila-node-list-material:after,.sc-stencila-node-list-material:before{-webkit-box-sizing:border-box;box-sizing:border-box;border:0 solid}html.sc-stencila-node-list-material{font-size:16px}.hidden.sc-stencila-node-list-material{display:none}code.sc-stencila-node-list-material,code[class*=language-].sc-stencila-node-list-material,output.sc-stencila-node-list-material{font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:75%}pre.sc-stencila-node-list-material{border:1px solid #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-radius:.25rem;padding:.5rem;margin:.5rem;overflow:auto}.sc-stencila-node-list-material-h,stencila-node-list.sc-stencila-node-list-material{display:block}.sc-stencila-node-list-material-h .hidden.sc-stencila-node-list-material+.sc-stencila-node-list-material:nth-child(2),.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:first-child,stencila-node-list.sc-stencila-node-list-material .hidden.sc-stencila-node-list-material+.sc-stencila-node-list-material:nth-child(2),stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:last-child,stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:last-child{margin-bottom:0}.sc-stencila-node-list-material-h .hidden.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material .hidden.sc-stencila-node-list-material{display:none}.sc-stencila-node-list-material-h .emptyContentMessage.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material .emptyContentMessage.sc-stencila-node-list-material{color:#718096;color:var(--color-neutral-600,#718096)}.sc-stencila-node-list-material-h stencila-code-error.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material stencila-code-error.sc-stencila-node-list-material{border-width:0}.sc-stencila-node-list-material-h stencila-image-object.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material stencila-image-object.sc-stencila-node-list-material{display:block;height:auto;max-width:100%}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs],.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs],stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs],stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material{padding:0;margin:0;overflow:auto}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]:first-child,.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:first-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material:first-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]:first-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]:first-child,stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:first-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material:first-child{margin-top:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]:last-child,.sc-stencila-node-list-material-h>.sc-stencila-node-list-material:last-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material:last-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]:last-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]:last-child,stencila-node-list.sc-stencila-node-list-material>.sc-stencila-node-list-material:last-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material:last-child{margin-bottom:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs] pre,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material pre.sc-stencila-node-list-material,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material pre.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs] pre,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs] pre,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material pre.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material pre.sc-stencila-node-list-material{padding:0;margin:0;border-width:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs] img,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material img.sc-stencila-node-list-material,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material img.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs] img,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs] img,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material img.sc-stencila-node-list-material,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material img.sc-stencila-node-list-material{border-bottom-width:0;border-left-width:0;border-right-width:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption),.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption),.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption),stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption),stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption),stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption),stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption){padding-top:.75rem;margin-top:.75rem;margin-bottom:.75rem;border:0 dashed #e2e8f0;border-color:var(--color-neutral-300,#e2e8f0);border-top:1px dashed var(--color-neutral-300,#e2e8f0)}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):first-child,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):first-child{padding-top:0;margin-top:0;border-top-width:0}.sc-stencila-node-list-material-h .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):last-child,.sc-stencila-node-list-material-h>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child,.sc-stencila-node-list-material-h figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list .sc-stencila-node-list-material-s>[slot=outputs]>:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-material>*.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child,stencila-node-list.sc-stencila-node-list-material figure.sc-stencila-node-list-material>.sc-stencila-node-list-material:not(figcaption):last-child{margin-bottom:0}";var fd={nodes:"outputs",errors:"errors"};var hd=t("stencila_node_list",function(){function t(t){var i=this;e(this,t);this.nodes=undefined;this.isEmpty=this.nodes===undefined||this.nodes!==undefined&&ld.isEmpty(this.nodes);this.checkIfEmpty=function(){var t;if(i.nodes!==undefined){t=ld.isEmpty(i.nodes);i.isEmpty=t;return t}var e=i.el.querySelector("[slot="+fd.nodes+"]");t=e===null?true:e.innerHTML.trim()==="";i.isEmpty=t;return t};this.emptyOutputMessage="No output to show";this.renderNodes=function(t){return t===null||t===void 0?void 0:t.map((function(t){return i.renderNode(t)}))};this.renderNode=function(t){if(s(t)){var e=typeof t==="string"||typeof t==="number"?t:JSON.stringify(t);return r("pre",null,r("output",null,e))}else if(l(t)){return r("pre",null,r("output",null,t.text))}else if(c("ImageObject",t)){return r("stencila-image-object",{image:t})}else if(c("Datatable",t)){return r("stencila-data-table",{table:t})}return JSON.stringify(t)}}t.prototype.componentDidLoad=function(){this.checkIfEmpty()};t.prototype.componentWillUpdate=function(){this.checkIfEmpty()};t.prototype.render=function(){return r(n,null,r("div",{class:{hidden:this.nodes!==undefined,slot:true}},r("slot",{name:fd.nodes})),this.isEmpty&&r("em",{class:"emptyContentMessage"},this.emptyOutputMessage),!this.isEmpty&&r("figure",null,this.renderNodes(this.nodes)),r("slot",null))};Object.defineProperty(t.prototype,"el",{get:function(){return i(this)},enumerable:false,configurable:true});return t}());hd.style={default:cd,material:ud}}}}));