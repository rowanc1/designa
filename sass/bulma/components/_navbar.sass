////
/// Overrides for Bulma navbar component
////

/// Variables to overide
$stencila-navbar-item-padding-right: 20 !default
$stencila-navbar-item-padding-bottom: 30 !default
$stencila-navbar-item-padding-left: 20 !default
$stencila-navbar-item-margin-right: 10 !default
$stencila-navbar-item-margin-left: 10 !default
$stencila-navbar-item-font-size: 22 !default
$stencila-navbar-item-line-height: 18 !default
$stencila-navbar-start-margin-left: 40 !default
$stencila-navbar-end-margin-right: 40 !default
$stencila-navbar-end-margin-bottom: 25 !default
$stencila-navbar-end-margin-left: 10 !default
$stencila-navbar-active-background-line: $toxic-green !default
$stencila-navbar-burger-height: 80px !default

$stencila-navbar-transition: height $slow-speed $ease-out-cubic

.navbar
    align-items: center
    box-shadow: 0 0 0 rgba($black, 0)
    transition: box-shadow $slow-speed 0.1s $ease-out-cubic

    +touch
        min-height: 0
        box-shadow: 0 15px 30px rgba($black, 0.05)

    .container,
    .navbar-brand,
    .navbar-menu
        transition: $stencila-navbar-transition
        max-height: $navbar-height

    .navbar-brand
        transition: $stencila-navbar-transition
        transform-origin: left center

        +touch
            min-height: 0

    .container
        display: flex
        margin: 0 auto
        min-height: 0

        +touch
            flex-direction: column
            max-height: 100vh

    &.is-active
        min-height: 0
        box-shadow: 0 15px 30px rgba($black, 0.05)

        .container,
        .navbar-brand,
        .navbar-menu
            max-height: rem(80)
            min-height: 0

        .container,
        .navbar-brand
            height: 100%

        .navbar-start
            .navbar-item
                height: 100%
                padding-top: 0
                padding-bottom: 0

        .navbar-brand
            transform: scale(.5)
            +touch
                transform: scale(1)

        .navbar-end
            margin-bottom: 0
            height: 100%
            align-items: center

            .button
                font-size: rem(12)
                padding: rem(16) rem(20)


.navbar-menu
    min-height: 0
    align-items: flex-end

.navbar-start
    height: 100%
    align-items: center

    .navbar-item
        height: 100%

.navbar-end
    height: 100%
    margin-right: rem(10)
    transition: height 0.25s ease
    align-items: center

    +until-fullhd
        margin-right: rem($stencila-navbar-end-margin-right)

    +touch
        text-align: center
        margin-right: 0

.navbar-item,
.navbar-link
  padding-left: rem($stencila-navbar-item-padding-left)
  padding-right: rem($stencila-navbar-item-padding-right)

.navbar-item
    // +transition
    font-size: rem($stencila-navbar-item-font-size)
    line-height: em($stencila-navbar-item-line-height, $stencila-navbar-item-font-size)
    font-weight: $weight-normal
    position: relative
    margin-left: rem($stencila-navbar-item-margin-left)
    margin-right: rem($stencila-navbar-item-margin-right)

    +touch
        text-align: center

    &:after
        +transition($delay: 0.1s, $speed: $slow-speed)
        content: ''
        display: block
        width: 0
        height: 3px
        position: absolute
        left: 0
        bottom: 0
        background: $stencila-navbar-active-background-line

        +touch
            display: none

    &:hover
        &:after
            width: 100%

    &.is-active
        pointer-events: none

        &:after
            width: 100%

.navbar-logo
    padding: 0
    line-height: 0
    font-size: 0

    +until-fullhd
        margin-left: rem($stencila-navbar-start-margin-left)

    +touch
        width: rem(120)
        margin-left: rem($stencila-navbar-item-padding-left)

    &:hover
        &:after
            display: none

.navbar-burger
    +touch
      +hamburger($stencila-navbar-burger-height)

html,
body
    &.has-navbar-fixed-top-touch
        +touch
            padding-top: rem($stencila-navbar-burger-height)
